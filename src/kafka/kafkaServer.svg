<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: kafkaServer Pages: 1 -->
<svg width="1831pt" height="994pt"
 viewBox="0.00 0.00 1831.00 993.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 989.5)">
<title>kafkaServer</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-989.5 1827,-989.5 1827,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_channel</title>
<polygon fill="none" stroke="#000000" points="1660,-80 1660,-162 1768,-162 1768,-80 1660,-80"/>
<text text-anchor="middle" x="1714" y="-142" font-family="Times,serif" font-size="20.00" fill="#000000">channel</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_FileRecords</title>
<polygon fill="none" stroke="#000000" points="1540,-170 1540,-324 1815,-324 1815,-170 1540,-170"/>
<text text-anchor="middle" x="1677.5" y="-304" font-family="Times,serif" font-size="20.00" fill="#000000">FileRecords</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Segment</title>
<polygon fill="none" stroke="#000000" points="1144,-170 1144,-414.5 1532,-414.5 1532,-170 1144,-170"/>
<text text-anchor="middle" x="1338" y="-394.5" font-family="Times,serif" font-size="20.00" fill="#000000">LogSegment</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_log</title>
<polygon fill="none" stroke="#000000" points="1012,-332 1012,-568.5 1136,-568.5 1136,-332 1012,-332"/>
<text text-anchor="middle" x="1074" y="-548.5" font-family="Times,serif" font-size="20.00" fill="#000000">log</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_logManager</title>
<polygon fill="none" stroke="#000000" points="528,-8 528,-162 917,-162 917,-8 528,-8"/>
<text text-anchor="middle" x="722.5" y="-142" font-family="Times,serif" font-size="20.00" fill="#000000">logManager</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_Partition</title>
<polygon fill="none" stroke="#000000" points="664,-170 664,-658.5 1004,-658.5 1004,-170 664,-170"/>
<text text-anchor="middle" x="834" y="-638.5" font-family="Times,serif" font-size="20.00" fill="#000000">Partition</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_ReplicaManager</title>
<polygon fill="none" stroke="#000000" points="316,-242 316,-812.5 656,-812.5 656,-242 316,-242"/>
<text text-anchor="middle" x="486" y="-792.5" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_KafkaApi</title>
<polygon fill="none" stroke="#000000" points="8,-576.5 8,-977.5 308,-977.5 308,-576.5 8,-576.5"/>
<text text-anchor="middle" x="158" y="-957.5" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi: kafkaServer对外接口</text>
</g>
<!-- channel_write -->
<g id="node1" class="node">
<title>channel_write</title>
<polygon fill="none" stroke="#000000" points="1760.5,-124 1667.5,-124 1667.5,-88 1760.5,-88 1760.5,-124"/>
<text text-anchor="middle" x="1714" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#000000">channel_write</text>
</g>
<!-- FileRecords_append -->
<g id="node2" class="node">
<title>FileRecords_append</title>
<polygon fill="none" stroke="#000000" points="1673,-286 1617,-286 1617,-250 1673,-250 1673,-286"/>
<text text-anchor="middle" x="1645" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">append</text>
</g>
<!-- MemoryRecords_writeFullyTo -->
<g id="node4" class="node">
<title>MemoryRecords_writeFullyTo</title>
<polygon fill="none" stroke="#000000" points="1807.5,-214 1620.5,-214 1620.5,-178 1807.5,-178 1807.5,-214"/>
<text text-anchor="middle" x="1714" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">MemoryRecords_writeFullyTo</text>
</g>
<!-- FileRecords_append&#45;&gt;MemoryRecords_writeFullyTo -->
<g id="edge1" class="edge">
<title>FileRecords_append&#45;&gt;MemoryRecords_writeFullyTo</title>
<path fill="none" stroke="#000000" d="M1662.4116,-249.8314C1670.521,-241.3694 1680.3156,-231.1489 1689.182,-221.8971"/>
<polygon fill="#000000" stroke="#000000" points="1691.9618,-224.0549 1696.354,-214.4133 1686.9079,-219.2115 1691.9618,-224.0549"/>
</g>
<!-- FileRecords_slice -->
<g id="node3" class="node">
<title>FileRecords_slice</title>
<polygon fill="none" stroke="#000000" points="1602,-214 1548,-214 1548,-178 1602,-178 1602,-214"/>
<text text-anchor="middle" x="1575" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">slice</text>
</g>
<!-- MemoryRecords_writeFullyTo&#45;&gt;channel_write -->
<g id="edge2" class="edge">
<title>MemoryRecords_writeFullyTo&#45;&gt;channel_write</title>
<path fill="none" stroke="#000000" d="M1714,-177.7872C1714,-165.3443 1714,-148.6053 1714,-134.4211"/>
<polygon fill="#000000" stroke="#000000" points="1717.5001,-134.1857 1714,-124.1858 1710.5001,-134.1858 1717.5001,-134.1857"/>
</g>
<!-- segment_append -->
<g id="node5" class="node">
<title>segment_append</title>
<polygon fill="none" stroke="#000000" points="1354,-340 1354,-376 1410,-376 1410,-340 1354,-340"/>
<text text-anchor="middle" x="1382" y="-354.3" font-family="Times,serif" font-size="14.00" fill="#000000">append</text>
</g>
<!-- segment_append&#45;&gt;FileRecords_append -->
<g id="edge3" class="edge">
<title>segment_append&#45;&gt;FileRecords_append</title>
<path fill="none" stroke="#000000" d="M1410.1477,-354.0177C1441.4967,-349.0738 1493.3708,-339.3653 1536,-324 1560.9314,-315.0137 1587.4078,-301.5137 1608.0228,-290.0202"/>
<polygon fill="#000000" stroke="#000000" points="1609.7877,-293.0431 1616.7656,-285.0707 1606.339,-286.9515 1609.7877,-293.0431"/>
</g>
<!-- timeIndex_maybeAppend -->
<g id="node6" class="node">
<title>timeIndex_maybeAppend</title>
<polygon fill="none" stroke="#000000" points="1382,-286 1224,-286 1224,-250 1382,-250 1382,-286"/>
<text text-anchor="middle" x="1303" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">timeIndex_maybeAppend</text>
</g>
<!-- segment_append&#45;&gt;timeIndex_maybeAppend -->
<g id="edge4" class="edge">
<title>segment_append&#45;&gt;timeIndex_maybeAppend</title>
<path fill="none" stroke="#000000" d="M1366.0132,-339.7872C1354.4486,-326.6123 1338.6563,-308.6211 1325.7747,-293.9459"/>
<polygon fill="#000000" stroke="#000000" points="1328.1904,-291.3923 1318.9631,-286.1858 1322.9295,-296.0101 1328.1904,-291.3923"/>
</g>
<!-- offsetIndex_append -->
<g id="node7" class="node">
<title>offsetIndex_append</title>
<polygon fill="none" stroke="#000000" points="1524,-286 1400,-286 1400,-250 1524,-250 1524,-286"/>
<text text-anchor="middle" x="1462" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">offsetIndex_append</text>
</g>
<!-- segment_append&#45;&gt;offsetIndex_append -->
<g id="edge5" class="edge">
<title>segment_append&#45;&gt;offsetIndex_append</title>
<path fill="none" stroke="#000000" d="M1398.1892,-339.7872C1409.9001,-326.6123 1425.8923,-308.6211 1438.937,-293.9459"/>
<polygon fill="#000000" stroke="#000000" points="1441.8072,-295.9852 1445.8349,-286.1858 1436.5753,-291.3346 1441.8072,-295.9852"/>
</g>
<!-- segment_read -->
<g id="node8" class="node">
<title>segment_read</title>
<polygon fill="none" stroke="#000000" points="1206,-286 1152,-286 1152,-250 1206,-250 1206,-286"/>
<text text-anchor="middle" x="1179" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">read</text>
</g>
<!-- segment_read&#45;&gt;FileRecords_slice -->
<g id="edge6" class="edge">
<title>segment_read&#45;&gt;FileRecords_slice</title>
<path fill="none" stroke="#000000" d="M1200.387,-249.7495C1204.9586,-246.679 1209.9421,-243.8821 1215,-242 1349.2167,-192.0549 1397.5941,-250.7756 1536,-214 1536.7297,-213.8061 1537.4627,-213.5994 1538.1976,-213.3812"/>
<polygon fill="#000000" stroke="#000000" points="1539.4835,-216.6389 1547.7432,-210.0036 1537.1484,-210.0398 1539.4835,-216.6389"/>
</g>
<!-- translateOffset -->
<g id="node9" class="node">
<title>translateOffset</title>
<polygon fill="none" stroke="#000000" points="1248,-214 1152,-214 1152,-178 1248,-178 1248,-214"/>
<text text-anchor="middle" x="1200" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">translateOffset</text>
</g>
<!-- segment_read&#45;&gt;translateOffset -->
<g id="edge7" class="edge">
<title>segment_read&#45;&gt;translateOffset</title>
<path fill="none" stroke="#000000" d="M1184.2992,-249.8314C1186.5698,-242.0463 1189.2746,-232.7729 1191.794,-224.1347"/>
<polygon fill="#000000" stroke="#000000" points="1195.1894,-224.9933 1194.6295,-214.4133 1188.4694,-223.0332 1195.1894,-224.9933"/>
</g>
<!-- appendAsLeader -->
<g id="node10" class="node">
<title>appendAsLeader</title>
<polygon fill="none" stroke="#000000" points="1128,-530.5 1020,-530.5 1020,-494.5 1128,-494.5 1128,-530.5"/>
<text text-anchor="middle" x="1074" y="-508.8" font-family="Times,serif" font-size="14.00" fill="#000000">appendAsLeader</text>
</g>
<!-- append -->
<g id="node11" class="node">
<title>append</title>
<polygon fill="none" stroke="#000000" points="1115,-458.5 1059,-458.5 1059,-422.5 1115,-422.5 1115,-458.5"/>
<text text-anchor="middle" x="1087" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#000000">append</text>
</g>
<!-- appendAsLeader&#45;&gt;append -->
<g id="edge8" class="edge">
<title>appendAsLeader&#45;&gt;append</title>
<path fill="none" stroke="#000000" d="M1077.2804,-494.3314C1078.6708,-486.631 1080.3241,-477.4743 1081.8692,-468.9166"/>
<polygon fill="#000000" stroke="#000000" points="1085.3428,-469.3761 1083.6754,-458.9133 1078.4542,-468.1322 1085.3428,-469.3761"/>
</g>
<!-- append&#45;&gt;segment_append -->
<g id="edge9" class="edge">
<title>append&#45;&gt;segment_append</title>
<path fill="none" stroke="#000000" d="M1115.0188,-432.6642C1168.178,-417.7977 1283.7228,-385.4843 1343.8758,-368.6619"/>
<polygon fill="#000000" stroke="#000000" points="1345.0488,-371.9682 1353.7366,-365.9042 1343.1635,-365.2268 1345.0488,-371.9682"/>
</g>
<!-- localLog_read -->
<g id="node12" class="node">
<title>localLog_read</title>
<polygon fill="none" stroke="#000000" points="1101,-376 1047,-376 1047,-340 1101,-340 1101,-376"/>
<text text-anchor="middle" x="1074" y="-354.3" font-family="Times,serif" font-size="14.00" fill="#000000">read</text>
</g>
<!-- localLog_read&#45;&gt;segment_read -->
<g id="edge10" class="edge">
<title>localLog_read&#45;&gt;segment_read</title>
<path fill="none" stroke="#000000" d="M1095.2483,-339.7872C1111.0459,-326.2464 1132.7791,-307.6179 1150.1474,-292.7308"/>
<polygon fill="#000000" stroke="#000000" points="1152.4685,-295.3511 1157.7833,-286.1858 1147.9129,-290.0363 1152.4685,-295.3511"/>
</g>
<!-- logCreationOrDeletionLock -->
<g id="node13" class="node">
<title>logCreationOrDeletionLock</title>
<polygon fill="#95e1d3" stroke="#000000" points="704.5,-52 539.5,-52 535.5,-48 535.5,-16 700.5,-16 704.5,-20 704.5,-52"/>
<polyline fill="none" stroke="#000000" points="700.5,-48 535.5,-48 "/>
<polyline fill="none" stroke="#000000" points="700.5,-48 700.5,-16 "/>
<polyline fill="none" stroke="#000000" points="700.5,-48 704.5,-52 "/>
<text text-anchor="middle" x="620" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">logCreationOrDeletionLock</text>
</g>
<!-- getOrCreateLog -->
<g id="node14" class="node">
<title>getOrCreateLog</title>
<polygon fill="none" stroke="#000000" points="830,-124 726,-124 726,-88 830,-88 830,-124"/>
<text text-anchor="middle" x="778" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#000000">getOrCreateLog</text>
</g>
<!-- getOrCreateLog&#45;&gt;logCreationOrDeletionLock -->
<g id="edge11" class="edge">
<title>getOrCreateLog&#45;&gt;logCreationOrDeletionLock</title>
<path fill="none" stroke="#000000" d="M738.1299,-87.8314C717.0923,-78.2446 691.1017,-66.4008 668.8604,-56.2655"/>
<polygon fill="#000000" stroke="#000000" points="670.1345,-52.9999 659.5834,-52.038 667.2317,-59.3697 670.1345,-52.9999"/>
</g>
<!-- preferredLogDirs -->
<g id="node15" class="node">
<title>preferredLogDirs</title>
<polygon fill="none" stroke="#000000" points="833.5,-52 722.5,-52 722.5,-16 833.5,-16 833.5,-52"/>
<text text-anchor="middle" x="778" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">preferredLogDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;preferredLogDirs -->
<g id="edge12" class="edge">
<title>getOrCreateLog&#45;&gt;preferredLogDirs</title>
<path fill="none" stroke="#000000" d="M778,-87.8314C778,-80.131 778,-70.9743 778,-62.4166"/>
<polygon fill="#000000" stroke="#000000" points="781.5001,-62.4132 778,-52.4133 774.5001,-62.4133 781.5001,-62.4132"/>
</g>
<!-- logDirs -->
<g id="node16" class="node">
<title>logDirs</title>
<polygon fill="none" stroke="#000000" points="908.5,-52 851.5,-52 851.5,-16 908.5,-16 908.5,-52"/>
<text text-anchor="middle" x="880" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">logDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;logDirs -->
<g id="edge13" class="edge">
<title>getOrCreateLog&#45;&gt;logDirs</title>
<path fill="none" stroke="#000000" d="M803.7389,-87.8314C816.5437,-78.7927 832.1909,-67.7476 845.9719,-58.0198"/>
<polygon fill="#000000" stroke="#000000" points="848.118,-60.7891 854.2693,-52.1628 844.0812,-55.0703 848.118,-60.7891"/>
</g>
<!-- finishedInitializingLog -->
<g id="node17" class="node">
<title>finishedInitializingLog</title>
<polygon fill="none" stroke="#000000" points="707.5,-124 566.5,-124 566.5,-88 707.5,-88 707.5,-124"/>
<text text-anchor="middle" x="637" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#000000">finishedInitializingLog</text>
</g>
<!-- appendRecordsToLeader -->
<g id="node18" class="node">
<title>appendRecordsToLeader</title>
<polygon fill="none" stroke="#000000" points="910,-620.5 758,-620.5 758,-584.5 910,-584.5 910,-620.5"/>
<text text-anchor="middle" x="834" y="-598.8" font-family="Times,serif" font-size="14.00" fill="#000000">appendRecordsToLeader</text>
</g>
<!-- appendRecordsToLeader&#45;&gt;appendAsLeader -->
<g id="edge14" class="edge">
<title>appendRecordsToLeader&#45;&gt;appendAsLeader</title>
<path fill="none" stroke="#000000" d="M910.3296,-592.7172C951.5048,-586.5644 997.5745,-578.0053 1016,-568.5 1030.2138,-561.1674 1043.2942,-549.2238 1053.4212,-538.2463"/>
<polygon fill="#000000" stroke="#000000" points="1056.2596,-540.3193 1060.2472,-530.5035 1051.0087,-535.6902 1056.2596,-540.3193"/>
</g>
<!-- partition_readRecords -->
<g id="node19" class="node">
<title>partition_readRecords</title>
<polygon fill="none" stroke="#000000" points="907,-458.5 823,-458.5 823,-422.5 907,-422.5 907,-458.5"/>
<text text-anchor="middle" x="865" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#000000">readRecords</text>
</g>
<!-- partition_readRecords&#45;&gt;localLog_read -->
<g id="edge15" class="edge">
<title>partition_readRecords&#45;&gt;localLog_read</title>
<path fill="none" stroke="#000000" d="M907.0051,-435.3337C942.5818,-430.5085 990.5105,-422.8178 1008,-414.5 1023.8668,-406.9539 1038.959,-394.5772 1050.6964,-383.3283"/>
<polygon fill="#000000" stroke="#000000" points="1053.2794,-385.6956 1057.8995,-376.1611 1048.342,-380.7335 1053.2794,-385.6956"/>
</g>
<!-- localLogWithEpochOrException -->
<g id="node20" class="node">
<title>localLogWithEpochOrException</title>
<polygon fill="none" stroke="#000000" points="963,-376 767,-376 767,-340 963,-340 963,-376"/>
<text text-anchor="middle" x="865" y="-354.3" font-family="Times,serif" font-size="14.00" fill="#000000">localLogWithEpochOrException</text>
</g>
<!-- partition_readRecords&#45;&gt;localLogWithEpochOrException -->
<g id="edge16" class="edge">
<title>partition_readRecords&#45;&gt;localLogWithEpochOrException</title>
<path fill="none" stroke="#000000" d="M865,-422.1906C865,-411.7232 865,-398.3662 865,-386.5498"/>
<polygon fill="#000000" stroke="#000000" points="868.5001,-386.2582 865,-376.2582 861.5001,-386.2583 868.5001,-386.2582"/>
</g>
<!-- getLocalLog -->
<g id="node22" class="node">
<title>getLocalLog</title>
<polygon fill="none" stroke="#000000" points="910,-286 824,-286 824,-250 910,-250 910,-286"/>
<text text-anchor="middle" x="867" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">getLocalLog</text>
</g>
<!-- localLogWithEpochOrException&#45;&gt;getLocalLog -->
<g id="edge18" class="edge">
<title>localLogWithEpochOrException&#45;&gt;getLocalLog</title>
<path fill="none" stroke="#000000" d="M865.4047,-339.7872C865.6812,-327.3443 866.0532,-310.6053 866.3684,-296.4211"/>
<polygon fill="#000000" stroke="#000000" points="869.8727,-296.2611 866.5959,-286.1858 862.8745,-296.1055 869.8727,-296.2611"/>
</g>
<!-- fetchOffsetSnapshot -->
<g id="node21" class="node">
<title>fetchOffsetSnapshot</title>
<polygon fill="none" stroke="#000000" points="802.5,-458.5 675.5,-458.5 675.5,-422.5 802.5,-422.5 802.5,-458.5"/>
<text text-anchor="middle" x="739" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#000000">fetchOffsetSnapshot</text>
</g>
<!-- fetchOffsetSnapshot&#45;&gt;localLogWithEpochOrException -->
<g id="edge17" class="edge">
<title>fetchOffsetSnapshot&#45;&gt;localLogWithEpochOrException</title>
<path fill="none" stroke="#000000" d="M766.6512,-422.395C784.9513,-410.4129 809.1348,-394.5784 828.9411,-381.61"/>
<polygon fill="#000000" stroke="#000000" points="830.9643,-384.4688 837.4133,-376.0627 827.1298,-378.6125 830.9643,-384.4688"/>
</g>
<!-- checkCurrentLeaderEpoch -->
<g id="node23" class="node">
<title>checkCurrentLeaderEpoch</title>
<polygon fill="none" stroke="#000000" points="995.5,-214 834.5,-214 834.5,-178 995.5,-178 995.5,-214"/>
<text text-anchor="middle" x="915" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkCurrentLeaderEpoch</text>
</g>
<!-- getLocalLog&#45;&gt;checkCurrentLeaderEpoch -->
<g id="edge19" class="edge">
<title>getLocalLog&#45;&gt;checkCurrentLeaderEpoch</title>
<path fill="none" stroke="#000000" d="M879.1124,-249.8314C884.5281,-241.7079 891.0242,-231.9637 896.9921,-223.0118"/>
<polygon fill="#000000" stroke="#000000" points="900.0896,-224.6753 902.7245,-214.4133 894.2653,-220.7923 900.0896,-224.6753"/>
</g>
<!-- log -->
<g id="node24" class="node">
<title>log</title>
<polygon fill="#95e1d3" stroke="#000000" points="816,-214 766,-214 762,-210 762,-178 812,-178 816,-182 816,-214"/>
<polyline fill="none" stroke="#000000" points="812,-210 762,-210 "/>
<polyline fill="none" stroke="#000000" points="812,-210 812,-178 "/>
<polyline fill="none" stroke="#000000" points="812,-210 816,-214 "/>
<text text-anchor="middle" x="789" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">log</text>
</g>
<!-- getLocalLog&#45;&gt;log -->
<g id="edge20" class="edge">
<title>getLocalLog&#45;&gt;log</title>
<path fill="none" stroke="#000000" d="M847.3173,-249.8314C837.8949,-241.1337 826.4599,-230.5783 816.2204,-221.1265"/>
<polygon fill="#000000" stroke="#000000" points="818.3984,-218.3738 808.6764,-214.1628 813.6505,-223.5175 818.3984,-218.3738"/>
</g>
<!-- createLogIfNotExists -->
<g id="node25" class="node">
<title>createLogIfNotExists</title>
<polygon fill="none" stroke="#000000" points="805.5,-286 672.5,-286 672.5,-250 805.5,-250 805.5,-286"/>
<text text-anchor="middle" x="739" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">createLogIfNotExists</text>
</g>
<!-- createLogIfNotExists&#45;&gt;log -->
<g id="edge21" class="edge">
<title>createLogIfNotExists&#45;&gt;log</title>
<path fill="none" stroke="#000000" d="M751.6171,-249.8314C757.3172,-241.6232 764.1663,-231.7606 770.4359,-222.7323"/>
<polygon fill="#000000" stroke="#000000" points="773.3838,-224.6234 776.213,-214.4133 767.6342,-220.6306 773.3838,-224.6234"/>
</g>
<!-- createLog -->
<g id="node26" class="node">
<title>createLog</title>
<polygon fill="none" stroke="#000000" points="743.5,-214 672.5,-214 672.5,-178 743.5,-178 743.5,-214"/>
<text text-anchor="middle" x="708" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">createLog</text>
</g>
<!-- createLogIfNotExists&#45;&gt;createLog -->
<g id="edge22" class="edge">
<title>createLogIfNotExists&#45;&gt;createLog</title>
<path fill="none" stroke="#000000" d="M731.1774,-249.8314C727.7891,-241.9617 723.7459,-232.5712 719.9924,-223.8533"/>
<polygon fill="#000000" stroke="#000000" points="723.0973,-222.214 715.9279,-214.4133 716.6679,-224.9822 723.0973,-222.214"/>
</g>
<!-- createLog&#45;&gt;getOrCreateLog -->
<g id="edge23" class="edge">
<title>createLog&#45;&gt;getOrCreateLog</title>
<path fill="none" stroke="#000000" d="M722.1655,-177.7872C732.3177,-164.7343 746.147,-146.9539 757.5022,-132.3544"/>
<polygon fill="#000000" stroke="#000000" points="760.4788,-134.2281 763.8555,-124.1858 754.9533,-129.9305 760.4788,-134.2281"/>
</g>
<!-- createLog&#45;&gt;finishedInitializingLog -->
<g id="edge24" class="edge">
<title>createLog&#45;&gt;finishedInitializingLog</title>
<path fill="none" stroke="#000000" d="M693.6321,-177.7872C683.3349,-164.7343 669.3081,-146.9539 657.7907,-132.3544"/>
<polygon fill="#000000" stroke="#000000" points="660.2881,-129.8691 651.3465,-124.1858 654.7923,-134.2046 660.2881,-129.8691"/>
</g>
<!-- fetchMessages -->
<g id="node27" class="node">
<title>fetchMessages</title>
<polygon fill="none" stroke="#000000" points="464.5,-774.5 367.5,-774.5 367.5,-738.5 464.5,-738.5 464.5,-774.5"/>
<text text-anchor="middle" x="416" y="-752.8" font-family="Times,serif" font-size="14.00" fill="#000000">fetchMessages</text>
</g>
<!-- readFromLog -->
<g id="node28" class="node">
<title>readFromLog</title>
<polygon fill="none" stroke="#000000" points="473,-702.5 381,-702.5 381,-666.5 473,-666.5 473,-702.5"/>
<text text-anchor="middle" x="427" y="-680.8" font-family="Times,serif" font-size="14.00" fill="#000000">readFromLog</text>
</g>
<!-- fetchMessages&#45;&gt;readFromLog -->
<g id="edge25" class="edge">
<title>fetchMessages&#45;&gt;readFromLog</title>
<path fill="none" stroke="#000000" d="M418.7758,-738.3314C419.9522,-730.631 421.3511,-721.4743 422.6586,-712.9166"/>
<polygon fill="#000000" stroke="#000000" points="426.1364,-713.3272 424.1869,-702.9133 419.2167,-712.2699 426.1364,-713.3272"/>
</g>
<!-- readFromLocalLog -->
<g id="node29" class="node">
<title>readFromLocalLog</title>
<polygon fill="none" stroke="#000000" points="554,-620.5 432,-620.5 432,-584.5 554,-584.5 554,-620.5"/>
<text text-anchor="middle" x="493" y="-598.8" font-family="Times,serif" font-size="14.00" fill="#000000">readFromLocalLog</text>
</g>
<!-- readFromLog&#45;&gt;readFromLocalLog -->
<g id="edge26" class="edge">
<title>readFromLog&#45;&gt;readFromLocalLog</title>
<path fill="none" stroke="#000000" d="M441.6475,-666.3015C450.5341,-655.2606 462.0242,-640.9851 471.8818,-628.7378"/>
<polygon fill="#000000" stroke="#000000" points="474.8498,-630.6323 478.3934,-620.6476 469.3967,-626.2432 474.8498,-630.6323"/>
</g>
<!-- read -->
<g id="node30" class="node">
<title>read</title>
<polygon fill="none" stroke="#000000" points="596,-530.5 542,-530.5 542,-494.5 596,-494.5 596,-530.5"/>
<text text-anchor="middle" x="569" y="-508.8" font-family="Times,serif" font-size="14.00" fill="#000000">read</text>
</g>
<!-- readFromLocalLog&#45;&gt;read -->
<g id="edge27" class="edge">
<title>readFromLocalLog&#45;&gt;read</title>
<path fill="none" stroke="#000000" d="M508.3797,-584.2872C519.5051,-571.1123 534.6977,-553.1211 547.0902,-538.4459"/>
<polygon fill="#000000" stroke="#000000" points="549.8654,-540.5842 553.6431,-530.6858 544.5172,-536.0679 549.8654,-540.5842"/>
</g>
<!-- read&#45;&gt;partition_readRecords -->
<g id="edge28" class="edge">
<title>read&#45;&gt;partition_readRecords</title>
<path fill="none" stroke="#000000" d="M596.0808,-507.3971C641.0568,-498.7129 733.8469,-479.9065 811,-458.5 811.732,-458.2969 812.4688,-458.0898 813.2093,-457.879"/>
<polygon fill="#000000" stroke="#000000" points="814.3883,-461.1799 822.9729,-454.9706 812.3899,-454.4712 814.3883,-461.1799"/>
</g>
<!-- read&#45;&gt;fetchOffsetSnapshot -->
<g id="edge31" class="edge">
<title>read&#45;&gt;fetchOffsetSnapshot</title>
<path fill="none" stroke="#000000" d="M596.3134,-500.932C620.7047,-490.6016 657.0952,-475.1891 687.0203,-462.5149"/>
<polygon fill="#000000" stroke="#000000" points="688.6424,-465.629 696.4856,-458.5061 685.9124,-459.1832 688.6424,-465.629"/>
</g>
<!-- getPartitionOrException -->
<g id="node33" class="node">
<title>getPartitionOrException</title>
<polygon fill="none" stroke="#000000" points="472.5,-458.5 323.5,-458.5 323.5,-422.5 472.5,-422.5 472.5,-458.5"/>
<text text-anchor="middle" x="398" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#000000">getPartitionOrException</text>
</g>
<!-- read&#45;&gt;getPartitionOrException -->
<g id="edge32" class="edge">
<title>read&#45;&gt;getPartitionOrException</title>
<path fill="none" stroke="#000000" d="M541.9045,-501.0914C517.4309,-490.7867 480.7279,-475.3328 450.515,-462.6116"/>
<polygon fill="#000000" stroke="#000000" points="451.532,-459.2422 440.9574,-458.5873 448.8155,-465.6937 451.532,-459.2422"/>
</g>
<!-- findPreferredReadReplica -->
<g id="node34" class="node">
<title>findPreferredReadReplica</title>
<polygon fill="none" stroke="#000000" points="648,-458.5 490,-458.5 490,-422.5 648,-422.5 648,-458.5"/>
<text text-anchor="middle" x="569" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#000000">findPreferredReadReplica</text>
</g>
<!-- read&#45;&gt;findPreferredReadReplica -->
<g id="edge33" class="edge">
<title>read&#45;&gt;findPreferredReadReplica</title>
<path fill="none" stroke="#000000" d="M569,-494.3314C569,-486.631 569,-477.4743 569,-468.9166"/>
<polygon fill="#000000" stroke="#000000" points="572.5001,-468.9132 569,-458.9133 565.5001,-468.9133 572.5001,-468.9132"/>
</g>
<!-- appendRecords -->
<g id="node31" class="node">
<title>appendRecords</title>
<polygon fill="none" stroke="#000000" points="587,-774.5 487,-774.5 487,-738.5 587,-738.5 587,-774.5"/>
<text text-anchor="middle" x="537" y="-752.8" font-family="Times,serif" font-size="14.00" fill="#000000">appendRecords</text>
</g>
<!-- appendToLocalLog -->
<g id="node32" class="node">
<title>appendToLocalLog</title>
<polygon fill="none" stroke="#000000" points="636.5,-702.5 513.5,-702.5 513.5,-666.5 636.5,-666.5 636.5,-702.5"/>
<text text-anchor="middle" x="575" y="-680.8" font-family="Times,serif" font-size="14.00" fill="#000000">appendToLocalLog</text>
</g>
<!-- appendRecords&#45;&gt;appendToLocalLog -->
<g id="edge29" class="edge">
<title>appendRecords&#45;&gt;appendToLocalLog</title>
<path fill="none" stroke="#000000" d="M546.589,-738.3314C550.8317,-730.2925 555.9121,-720.6666 560.596,-711.7918"/>
<polygon fill="#000000" stroke="#000000" points="563.7096,-713.3908 565.2819,-702.9133 557.5189,-710.1235 563.7096,-713.3908"/>
</g>
<!-- appendToLocalLog&#45;&gt;appendRecordsToLeader -->
<g id="edge30" class="edge">
<title>appendToLocalLog&#45;&gt;appendRecordsToLeader</title>
<path fill="none" stroke="#000000" d="M634.4797,-666.4264C643.0493,-663.7875 651.7547,-661.0877 660,-658.5 695.9458,-647.2187 735.9726,-634.3573 768.5648,-623.8076"/>
<polygon fill="#000000" stroke="#000000" points="769.9938,-627.0238 778.4282,-620.612 767.8363,-620.3646 769.9938,-627.0238"/>
</g>
<!-- getPartitionOrError -->
<g id="node35" class="node">
<title>getPartitionOrError</title>
<polygon fill="none" stroke="#000000" points="459,-376 337,-376 337,-340 459,-340 459,-376"/>
<text text-anchor="middle" x="398" y="-354.3" font-family="Times,serif" font-size="14.00" fill="#000000">getPartitionOrError</text>
</g>
<!-- getPartitionOrException&#45;&gt;getPartitionOrError -->
<g id="edge34" class="edge">
<title>getPartitionOrException&#45;&gt;getPartitionOrError</title>
<path fill="none" stroke="#000000" d="M398,-422.1906C398,-411.7232 398,-398.3662 398,-386.5498"/>
<polygon fill="#000000" stroke="#000000" points="401.5001,-386.2582 398,-376.2582 394.5001,-386.2583 401.5001,-386.2582"/>
</g>
<!-- getPartition -->
<g id="node36" class="node">
<title>getPartition</title>
<polygon fill="none" stroke="#000000" points="438,-286 358,-286 358,-250 438,-250 438,-286"/>
<text text-anchor="middle" x="398" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#000000">getPartition</text>
</g>
<!-- getPartitionOrError&#45;&gt;getPartition -->
<g id="edge35" class="edge">
<title>getPartitionOrError&#45;&gt;getPartition</title>
<path fill="none" stroke="#000000" d="M398,-339.7872C398,-327.3443 398,-310.6053 398,-296.4211"/>
<polygon fill="#000000" stroke="#000000" points="401.5001,-296.1857 398,-286.1858 394.5001,-296.1858 401.5001,-296.1857"/>
</g>
<!-- handle -->
<g id="node37" class="node">
<title>handle</title>
<polygon fill="none" stroke="#000000" points="77,-893 77,-939 239,-939 239,-893 77,-893"/>
<text text-anchor="middle" x="158" y="-923.8" font-family="Times,serif" font-size="14.00" fill="#000000">handle</text>
<polyline fill="none" stroke="#000000" points="77,-916 239,-916 "/>
<text text-anchor="start" x="85" y="-900.8" font-family="Times,serif" font-size="14.00" fill="#000000">KafkaServer api处理入口</text>
</g>
<!-- handleProduceRequest -->
<g id="node38" class="node">
<title>handleProduceRequest</title>
<polygon fill="none" stroke="#000000" points="300,-856.5 160,-856.5 160,-820.5 300,-820.5 300,-856.5"/>
<text text-anchor="middle" x="230" y="-834.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleProduceRequest</text>
</g>
<!-- handle&#45;&gt;handleProduceRequest -->
<g id="edge36" class="edge">
<title>handle&#45;&gt;handleProduceRequest</title>
<path fill="none" stroke="#000000" d="M179.6024,-892.7474C188.0162,-883.6909 197.6863,-873.2821 206.2916,-864.0195"/>
<polygon fill="#000000" stroke="#000000" points="208.9764,-866.2718 213.2186,-856.5633 203.848,-861.5074 208.9764,-866.2718"/>
</g>
<!-- handleFetchRequest -->
<g id="node39" class="node">
<title>handleFetchRequest</title>
<polygon fill="none" stroke="#000000" points="142,-856.5 16,-856.5 16,-820.5 142,-820.5 142,-856.5"/>
<text text-anchor="middle" x="79" y="-834.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleFetchRequest</text>
</g>
<!-- handle&#45;&gt;handleFetchRequest -->
<g id="edge37" class="edge">
<title>handle&#45;&gt;handleFetchRequest</title>
<path fill="none" stroke="#000000" d="M134.2974,-892.7474C124.9732,-883.6003 114.243,-873.0738 104.7305,-863.742"/>
<polygon fill="#000000" stroke="#000000" points="107.0025,-861.0678 97.4129,-856.5633 102.1004,-866.0648 107.0025,-861.0678"/>
</g>
<!-- handleProduceRequest&#45;&gt;appendRecords -->
<g id="edge42" class="edge">
<title>handleProduceRequest&#45;&gt;appendRecords</title>
<path fill="none" stroke="#000000" d="M300.1484,-835.6792C360.6838,-832.3945 442.9761,-825.6462 473,-812.5 488.8648,-805.5535 503.6283,-793.2149 514.9687,-781.8843"/>
<polygon fill="#000000" stroke="#000000" points="517.5096,-784.2915 521.9038,-774.6509 512.4567,-779.447 517.5096,-784.2915"/>
</g>
<!-- handleFetchRequest&#45;&gt;fetchMessages -->
<g id="edge38" class="edge">
<title>handleFetchRequest&#45;&gt;fetchMessages</title>
<path fill="none" stroke="#000000" d="M142.076,-821.9908C145.0828,-821.4371 148.0686,-820.935 151,-820.5 186.4339,-815.242 277.4931,-822.1168 312,-812.5 336.6677,-805.6253 362.0159,-792.1327 381.5112,-780.1143"/>
<polygon fill="#000000" stroke="#000000" points="383.4521,-783.0282 390.0332,-774.7252 379.7107,-777.1119 383.4521,-783.0282"/>
</g>
<!-- processResponseCallback -->
<g id="node40" class="node">
<title>processResponseCallback</title>
<polygon fill="none" stroke="#000000" points="175.5,-774.5 18.5,-774.5 18.5,-738.5 175.5,-738.5 175.5,-774.5"/>
<text text-anchor="middle" x="97" y="-752.8" font-family="Times,serif" font-size="14.00" fill="#000000">processResponseCallback</text>
</g>
<!-- handleFetchRequest&#45;&gt;processResponseCallback -->
<g id="edge39" class="edge">
<title>handleFetchRequest&#45;&gt;processResponseCallback</title>
<path fill="none" stroke="#000000" d="M82.9948,-820.3015C85.3019,-809.7915 88.2524,-796.3503 90.8498,-784.5177"/>
<polygon fill="#000000" stroke="#000000" points="94.2908,-785.1655 93.0164,-774.6476 87.4536,-783.6646 94.2908,-785.1655"/>
</g>
<!-- createResponse -->
<g id="node41" class="node">
<title>createResponse</title>
<polygon fill="none" stroke="#000000" points="148.5,-702.5 47.5,-702.5 47.5,-666.5 148.5,-666.5 148.5,-702.5"/>
<text text-anchor="middle" x="98" y="-680.8" font-family="Times,serif" font-size="14.00" fill="#000000">createResponse</text>
</g>
<!-- processResponseCallback&#45;&gt;createResponse -->
<g id="edge40" class="edge">
<title>processResponseCallback&#45;&gt;createResponse</title>
<path fill="none" stroke="#000000" d="M97.2523,-738.3314C97.3593,-730.631 97.4865,-721.4743 97.6053,-712.9166"/>
<polygon fill="#000000" stroke="#000000" points="101.1049,-712.9609 97.7443,-702.9133 94.1056,-712.8637 101.1049,-712.9609"/>
</g>
<!-- maybeConvertFetchedData -->
<g id="node42" class="node">
<title>maybeConvertFetchedData</title>
<polygon fill="none" stroke="#000000" points="181.5,-620.5 16.5,-620.5 16.5,-584.5 181.5,-584.5 181.5,-620.5"/>
<text text-anchor="middle" x="99" y="-598.8" font-family="Times,serif" font-size="14.00" fill="#000000">maybeConvertFetchedData</text>
</g>
<!-- createResponse&#45;&gt;maybeConvertFetchedData -->
<g id="edge41" class="edge">
<title>createResponse&#45;&gt;maybeConvertFetchedData</title>
<path fill="none" stroke="#000000" d="M98.2219,-666.3015C98.3488,-655.8976 98.5107,-642.6215 98.6539,-630.8768"/>
<polygon fill="#000000" stroke="#000000" points="102.1564,-630.6896 98.7787,-620.6476 95.1569,-630.6041 102.1564,-630.6896"/>
</g>
</g>
</svg>
