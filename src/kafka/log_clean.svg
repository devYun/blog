<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: logClean Pages: 1 -->
<svg width="1119pt" height="569pt"
 viewBox="0.00 0.00 1119.00 569.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 565)">
<title>logClean</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-565 1115,-565 1115,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_log</title>
<polygon fill="none" stroke="#000000" points="693.5,-8 693.5,-198 831.5,-198 831.5,-8 693.5,-8"/>
<text text-anchor="middle" x="762.5" y="-178" font-family="Times,serif" font-size="20.00" fill="#000000">log</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_logCleaner</title>
<polygon fill="none" stroke="#000000" points="407.5,-105 407.5,-198 586.5,-198 586.5,-105 407.5,-105"/>
<text text-anchor="middle" x="497" y="-178" font-family="Times,serif" font-size="20.00" fill="#000000">logCleaner</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_logManager</title>
<polygon fill="none" stroke="#000000" points="138,-206 138,-553 1103,-553 1103,-206 138,-206"/>
<text text-anchor="middle" x="620.5" y="-533" font-family="Times,serif" font-size="20.00" fill="#000000">logManager</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_KafkaServer</title>
<polygon fill="none" stroke="#000000" points="0,-320 0,-402 118,-402 118,-320 0,-320"/>
<text text-anchor="middle" x="59" y="-382" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaServer</text>
</g>
<!-- log_flush -->
<g id="node1" class="node">
<title>log_flush</title>
<polygon fill="none" stroke="#000000" points="789.5,-106 735.5,-106 735.5,-70 789.5,-70 789.5,-106"/>
<text text-anchor="middle" x="762.5" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">flush</text>
</g>
<!-- log_delete -->
<g id="node2" class="node">
<title>log_delete</title>
<polygon fill="none" stroke="#000000" points="789.5,-52 735.5,-52 735.5,-16 789.5,-16 789.5,-52"/>
<text text-anchor="middle" x="762.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">delete</text>
</g>
<!-- deleteOldSegments -->
<g id="node3" class="node">
<title>deleteOldSegments</title>
<polygon fill="none" stroke="#000000" points="823.5,-160 701.5,-160 701.5,-124 823.5,-124 823.5,-160"/>
<text text-anchor="middle" x="762.5" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#000000">deleteOldSegments</text>
</g>
<!-- cleaner_startup -->
<g id="node4" class="node">
<title>cleaner_startup</title>
<polygon fill="none" stroke="#000000" points="415.5,-113 415.5,-159 578.5,-159 578.5,-113 415.5,-113"/>
<text text-anchor="middle" x="497" y="-143.8" font-family="Times,serif" font-size="14.00" fill="#000000">startup</text>
<polyline fill="none" stroke="#000000" points="415.5,-136 578.5,-136 "/>
<text text-anchor="start" x="423.5" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#000000">清理compact类型的日志</text>
</g>
<!-- logManager_startup -->
<g id="node5" class="node">
<title>logManager_startup</title>
<polygon fill="none" stroke="#000000" points="200,-364 146,-364 146,-328 200,-328 200,-364"/>
<text text-anchor="middle" x="173" y="-342.3" font-family="Times,serif" font-size="14.00" fill="#000000">startup</text>
</g>
<!-- scheduler_schedule -->
<g id="node6" class="node">
<title>scheduler_schedule</title>
<polygon fill="none" stroke="#000000" points="236,-323 236,-369 367,-369 367,-323 236,-323"/>
<text text-anchor="middle" x="301.5" y="-353.8" font-family="Times,serif" font-size="14.00" fill="#000000">scheduler.schedule</text>
<polyline fill="none" stroke="#000000" points="236,-346 367,-346 "/>
<text text-anchor="start" x="244" y="-330.8" font-family="Times,serif" font-size="14.00" fill="#000000">后台启动定时任务</text>
</g>
<!-- logManager_startup&#45;&gt;scheduler_schedule -->
<g id="edge1" class="edge">
<title>logManager_startup&#45;&gt;scheduler_schedule</title>
<path fill="none" stroke="#000000" d="M200.2515,-346C207.9882,-346 216.8107,-346 225.948,-346"/>
<polygon fill="#000000" stroke="#000000" points="225.9501,-349.5001 235.9501,-346 225.9501,-342.5001 225.9501,-349.5001"/>
</g>
<!-- scheduler_schedule&#45;&gt;cleaner_startup -->
<g id="edge2" class="edge">
<title>scheduler_schedule&#45;&gt;cleaner_startup</title>
<path fill="none" stroke="#000000" d="M314.326,-322.9732C331.7877,-292.9153 365.2251,-239.7059 403,-202 416.6939,-188.3311 433.5113,-175.5423 449.1171,-164.9301"/>
<polygon fill="#000000" stroke="#000000" points="451.2455,-167.7181 457.6349,-159.2667 447.3697,-161.889 451.2455,-167.7181"/>
</g>
<!-- cleanupLogs -->
<g id="node7" class="node">
<title>cleanupLogs</title>
<polygon fill="none" stroke="#000000" points="446,-360 446,-406 548,-406 548,-360 446,-360"/>
<text text-anchor="middle" x="497" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#000000">cleanupLogs</text>
<polyline fill="none" stroke="#000000" points="446,-383 548,-383 "/>
<text text-anchor="start" x="454" y="-367.8" font-family="Times,serif" font-size="14.00" fill="#000000">清理过期日志</text>
</g>
<!-- scheduler_schedule&#45;&gt;cleanupLogs -->
<g id="edge3" class="edge">
<title>scheduler_schedule&#45;&gt;cleanupLogs</title>
<path fill="none" stroke="#000000" d="M367.1425,-358.4234C389.2634,-362.61 413.8522,-367.2636 435.6306,-371.3853"/>
<polygon fill="#000000" stroke="#000000" points="435.269,-374.879 445.7454,-373.2996 436.5707,-368.001 435.269,-374.879"/>
</g>
<!-- flushDirtyLogs -->
<g id="node8" class="node">
<title>flushDirtyLogs</title>
<polygon fill="none" stroke="#000000" points="430,-279.5 430,-340.5 564,-340.5 564,-279.5 430,-279.5"/>
<text text-anchor="middle" x="497" y="-325.3" font-family="Times,serif" font-size="14.00" fill="#000000">flushDirtyLogs</text>
<polyline fill="none" stroke="#000000" points="430,-317.5 564,-317.5 "/>
<text text-anchor="start" x="438" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#000000">定时刷新还没</text>
<text text-anchor="start" x="438" y="-287.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 写到磁盘上的日志</text>
</g>
<!-- scheduler_schedule&#45;&gt;flushDirtyLogs -->
<g id="edge4" class="edge">
<title>scheduler_schedule&#45;&gt;flushDirtyLogs</title>
<path fill="none" stroke="#000000" d="M367.1425,-333.9124C384.0191,-330.8047 402.3321,-327.4325 419.7376,-324.2273"/>
<polygon fill="#000000" stroke="#000000" points="420.6624,-327.616 429.8632,-322.3628 419.3947,-320.7317 420.6624,-327.616"/>
</g>
<!-- deleteLogs -->
<g id="node9" class="node">
<title>deleteLogs</title>
<polygon fill="none" stroke="#000000" points="403,-214 403,-260 591,-260 591,-214 403,-214"/>
<text text-anchor="middle" x="497" y="-244.8" font-family="Times,serif" font-size="14.00" fill="#000000">deleteLogs</text>
<polyline fill="none" stroke="#000000" points="403,-237 591,-237 "/>
<text text-anchor="start" x="411" y="-221.8" font-family="Times,serif" font-size="14.00" fill="#000000">定时删除标记为删除的日志</text>
</g>
<!-- scheduler_schedule&#45;&gt;deleteLogs -->
<g id="edge5" class="edge">
<title>scheduler_schedule&#45;&gt;deleteLogs</title>
<path fill="none" stroke="#000000" d="M327.55,-322.9644C347.2081,-306.4902 375.421,-284.7163 403,-270 406.7767,-267.9847 410.7017,-266.0507 414.7112,-264.201"/>
<polygon fill="#000000" stroke="#000000" points="416.4401,-267.2645 424.1895,-260.0396 413.6261,-260.855 416.4401,-267.2645"/>
</g>
<!-- checkpointLogRecoveryOffsets -->
<g id="node10" class="node">
<title>checkpointLogRecoveryOffsets</title>
<polygon fill="none" stroke="#000000" points="591,-461 403,-461 403,-425 591,-425 591,-461"/>
<text text-anchor="middle" x="497" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkpointLogRecoveryOffsets</text>
</g>
<!-- scheduler_schedule&#45;&gt;checkpointLogRecoveryOffsets -->
<g id="edge6" class="edge">
<title>scheduler_schedule&#45;&gt;checkpointLogRecoveryOffsets</title>
<path fill="none" stroke="#000000" d="M329.7208,-369.1878C349.2842,-384.2972 376.4889,-403.4631 403,-416 406.9933,-417.8884 411.1457,-419.6718 415.3837,-421.3521"/>
<polygon fill="#000000" stroke="#000000" points="414.1772,-424.6376 424.7696,-424.8665 416.6318,-418.0821 414.1772,-424.6376"/>
</g>
<!-- checkpointLogStartOffsets -->
<g id="node11" class="node">
<title>checkpointLogStartOffsets</title>
<polygon fill="none" stroke="#000000" points="578,-515 416,-515 416,-479 578,-479 578,-515"/>
<text text-anchor="middle" x="497" y="-493.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkpointLogStartOffsets</text>
</g>
<!-- scheduler_schedule&#45;&gt;checkpointLogStartOffsets -->
<g id="edge7" class="edge">
<title>scheduler_schedule&#45;&gt;checkpointLogStartOffsets</title>
<path fill="none" stroke="#000000" d="M314.4976,-369.2806C331.3272,-397.3006 363.2668,-443.8386 403,-470 405.3133,-471.5232 407.7135,-472.9618 410.1801,-474.3206"/>
<polygon fill="#000000" stroke="#000000" points="408.8538,-477.5702 419.365,-478.8992 411.9768,-471.3054 408.8538,-477.5702"/>
</g>
<!-- cleanupLogs&#45;&gt;deleteOldSegments -->
<g id="edge9" class="edge">
<title>cleanupLogs&#45;&gt;deleteOldSegments</title>
<path fill="none" stroke="#000000" d="M548.1967,-374.8642C563.8494,-370.025 579.8546,-362.3075 591,-350 636.4407,-299.8217 583.5823,-253.9386 627,-202 643.6054,-182.1357 668.0945,-168.617 691.7029,-159.5246"/>
<polygon fill="#000000" stroke="#000000" points="693.1796,-162.7123 701.388,-156.0135 690.7938,-156.1314 693.1796,-162.7123"/>
</g>
<!-- pauseCleaningForNonCompactedPartitions -->
<g id="node12" class="node">
<title>pauseCleaningForNonCompactedPartitions</title>
<polygon fill="none" stroke="#000000" points="888.5,-353 636.5,-353 636.5,-317 888.5,-317 888.5,-353"/>
<text text-anchor="middle" x="762.5" y="-331.3" font-family="Times,serif" font-size="14.00" fill="#000000">pauseCleaningForNonCompactedPartitions</text>
</g>
<!-- cleanupLogs&#45;&gt;pauseCleaningForNonCompactedPartitions -->
<g id="edge10" class="edge">
<title>cleanupLogs&#45;&gt;pauseCleaningForNonCompactedPartitions</title>
<path fill="none" stroke="#000000" d="M548.1911,-373.7451C577.8733,-368.3788 616.4373,-361.4068 652.6557,-354.8589"/>
<polygon fill="#000000" stroke="#000000" points="653.5818,-358.2483 662.7995,-353.0249 652.3364,-351.3599 653.5818,-358.2483"/>
</g>
<!-- flushDirtyLogs&#45;&gt;log_flush -->
<g id="edge8" class="edge">
<title>flushDirtyLogs&#45;&gt;log_flush</title>
<path fill="none" stroke="#000000" d="M564.4739,-290.6672C574.4751,-285.326 583.8161,-278.5578 591,-270 636.4711,-215.833 576.2096,-164.2139 627,-115 652.8111,-89.9901 694.8256,-85.007 725.2342,-85.1753"/>
<polygon fill="#000000" stroke="#000000" points="725.378,-88.6797 735.4605,-85.4253 725.5491,-81.6818 725.378,-88.6797"/>
</g>
<!-- deleteLogs&#45;&gt;log_delete -->
<g id="edge13" class="edge">
<title>deleteLogs&#45;&gt;log_delete</title>
<path fill="none" stroke="#000000" d="M577.1,-213.9183C582.2083,-210.4806 586.9257,-206.5329 591,-202 634.2355,-153.898 580.0642,-105.4988 627,-61 653.0039,-36.3463 694.7997,-31.2714 725.102,-31.3204"/>
<polygon fill="#000000" stroke="#000000" points="725.2271,-34.8236 735.2963,-31.5277 725.3695,-27.825 725.2271,-34.8236"/>
</g>
<!-- checkpointRecoveryOffsetsAndCleanSnapshot -->
<g id="node13" class="node">
<title>checkpointRecoveryOffsetsAndCleanSnapshot</title>
<polygon fill="none" stroke="#000000" points="898,-407 627,-407 627,-371 898,-371 898,-407"/>
<text text-anchor="middle" x="762.5" y="-385.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkpointRecoveryOffsetsAndCleanSnapshot</text>
</g>
<!-- checkpointLogRecoveryOffsets&#45;&gt;checkpointRecoveryOffsetsAndCleanSnapshot -->
<g id="edge11" class="edge">
<title>checkpointLogRecoveryOffsets&#45;&gt;checkpointRecoveryOffsetsAndCleanSnapshot</title>
<path fill="none" stroke="#000000" d="M583.3405,-424.9657C597.9095,-421.9518 612.8824,-418.8726 627,-416 638.0897,-413.7435 649.694,-411.4018 661.2467,-409.0827"/>
<polygon fill="#000000" stroke="#000000" points="662.2544,-412.4504 671.3715,-407.0533 660.8786,-405.5869 662.2544,-412.4504"/>
</g>
<!-- liveLogDirs -->
<g id="node14" class="node">
<title>liveLogDirs</title>
<polygon fill="none" stroke="#000000" points="803.5,-461 721.5,-461 721.5,-425 803.5,-425 803.5,-461"/>
<text text-anchor="middle" x="762.5" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000">liveLogDirs</text>
</g>
<!-- checkpointLogRecoveryOffsets&#45;&gt;liveLogDirs -->
<g id="edge12" class="edge">
<title>checkpointLogRecoveryOffsets&#45;&gt;liveLogDirs</title>
<path fill="none" stroke="#000000" d="M591.3529,-443C631.7402,-443 677.3153,-443 711.2751,-443"/>
<polygon fill="#000000" stroke="#000000" points="711.4228,-446.5001 721.4228,-443 711.4228,-439.5001 711.4228,-446.5001"/>
</g>
<!-- checkpointLogStartOffsets&#45;&gt;liveLogDirs -->
<g id="edge14" class="edge">
<title>checkpointLogStartOffsets&#45;&gt;liveLogDirs</title>
<path fill="none" stroke="#000000" d="M578.1152,-480.0474C594.3037,-476.6938 611.1882,-473.2173 627,-470 654.7861,-464.3463 685.8034,-458.1567 711.143,-453.1318"/>
<polygon fill="#000000" stroke="#000000" points="712.1408,-456.5022 721.27,-451.1256 710.7805,-449.6357 712.1408,-456.5022"/>
</g>
<!-- checkpointLogStartOffsetsInDir -->
<g id="node15" class="node">
<title>checkpointLogStartOffsetsInDir</title>
<polygon fill="none" stroke="#000000" points="858,-515 667,-515 667,-479 858,-479 858,-515"/>
<text text-anchor="middle" x="762.5" y="-493.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkpointLogStartOffsetsInDir</text>
</g>
<!-- checkpointLogStartOffsets&#45;&gt;checkpointLogStartOffsetsInDir -->
<g id="edge15" class="edge">
<title>checkpointLogStartOffsets&#45;&gt;checkpointLogStartOffsetsInDir</title>
<path fill="none" stroke="#000000" d="M578.1014,-497C602.8727,-497 630.4866,-497 656.6461,-497"/>
<polygon fill="#000000" stroke="#000000" points="656.9767,-500.5001 666.9766,-497 656.9766,-493.5001 656.9767,-500.5001"/>
</g>
<!-- logsByDir -->
<g id="node16" class="node">
<title>logsByDir</title>
<polygon fill="none" stroke="#000000" points="1051,-407 978,-407 978,-371 1051,-371 1051,-407"/>
<text text-anchor="middle" x="1014.5" y="-385.3" font-family="Times,serif" font-size="14.00" fill="#000000">logsByDir</text>
</g>
<!-- checkpointLogStartOffsetsInDir&#45;&gt;logsByDir -->
<g id="edge16" class="edge">
<title>checkpointLogStartOffsetsInDir&#45;&gt;logsByDir</title>
<path fill="none" stroke="#000000" d="M858.1253,-487.8298C872.2414,-483.7394 886.039,-478.0041 898,-470 921.9722,-453.9583 911.0935,-433.5297 934,-416 943.9687,-408.3713 956.2127,-402.8302 968.1153,-398.8321"/>
<polygon fill="#000000" stroke="#000000" points="969.4319,-402.0898 977.9757,-395.8247 967.3897,-395.3943 969.4319,-402.0898"/>
</g>
<!-- logStartOffsetCheckpoints -->
<g id="node17" class="node">
<title>logStartOffsetCheckpoints</title>
<polygon fill="none" stroke="#000000" points="1095,-461 934,-461 934,-425 1095,-425 1095,-461"/>
<text text-anchor="middle" x="1014.5" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000">logStartOffsetCheckpoints</text>
</g>
<!-- checkpointLogStartOffsetsInDir&#45;&gt;logStartOffsetCheckpoints -->
<g id="edge17" class="edge">
<title>checkpointLogStartOffsetsInDir&#45;&gt;logStartOffsetCheckpoints</title>
<path fill="none" stroke="#000000" d="M855.148,-478.9368C869.5103,-476.0217 884.1653,-472.9808 898,-470 907.8436,-467.8791 918.1388,-465.5928 928.3613,-463.2798"/>
<polygon fill="#000000" stroke="#000000" points="929.1487,-466.6902 938.1228,-461.0585 927.5955,-459.8646 929.1487,-466.6902"/>
</g>
<!-- checkpoint_write -->
<g id="node18" class="node">
<title>checkpoint_write</title>
<polygon fill="none" stroke="#000000" points="1069.5,-515 959.5,-515 959.5,-479 1069.5,-479 1069.5,-515"/>
<text text-anchor="middle" x="1014.5" y="-493.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkpoint_write</text>
</g>
<!-- checkpointLogStartOffsetsInDir&#45;&gt;checkpoint_write -->
<g id="edge18" class="edge">
<title>checkpointLogStartOffsetsInDir&#45;&gt;checkpoint_write</title>
<path fill="none" stroke="#000000" d="M858.1297,-497C888.5017,-497 921.3771,-497 949.1101,-497"/>
<polygon fill="#000000" stroke="#000000" points="949.4713,-500.5001 959.4712,-497 949.4712,-493.5001 949.4713,-500.5001"/>
</g>
<!-- startup -->
<g id="node19" class="node">
<title>startup</title>
<polygon fill="none" stroke="#000000" points="86,-364 32,-364 32,-328 86,-328 86,-364"/>
<text text-anchor="middle" x="59" y="-342.3" font-family="Times,serif" font-size="14.00" fill="#000000">startup</text>
</g>
<!-- startup&#45;&gt;logManager_startup -->
<g id="edge19" class="edge">
<title>startup&#45;&gt;logManager_startup</title>
<path fill="none" stroke="#000000" d="M86.0164,-346C100.8155,-346 119.3844,-346 135.5611,-346"/>
<polygon fill="#000000" stroke="#000000" points="135.7825,-349.5001 145.7824,-346 135.7824,-342.5001 135.7825,-349.5001"/>
</g>
</g>
</svg>
