<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: partionLogCreate Pages: 1 -->
<svg width="1640pt" height="257pt"
 viewBox="0.00 0.00 1640.00 256.57" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 252.567)">
<title>partionLogCreate</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-252.567 1636,-252.567 1636,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_logManager</title>
<polygon fill="none" stroke="#000000" points="1262,-50.567 1262,-240.567 1624,-240.567 1624,-50.567 1262,-50.567"/>
<text text-anchor="middle" x="1443" y="-220.567" font-family="Times,serif" font-size="20.00" fill="#000000">logManager</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Partition</title>
<polygon fill="none" stroke="#000000" points="785,-23.567 785,-213.567 1242,-213.567 1242,-23.567 785,-23.567"/>
<text text-anchor="middle" x="1013.5" y="-193.567" font-family="Times,serif" font-size="20.00" fill="#000000">Partition</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_ReplicaManager</title>
<polygon fill="none" stroke="#000000" points="452,-23.567 452,-159.567 765,-159.567 765,-23.567 452,-23.567"/>
<text text-anchor="middle" x="608.5" y="-139.567" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_KafkaApi</title>
<polygon fill="none" stroke="#000000" points="8,-23.567 8,-159.567 432,-159.567 432,-23.567 8,-23.567"/>
<text text-anchor="middle" x="220" y="-139.567" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi: kafkaServer对外接口</text>
</g>
<!-- logCreationOrDeletionLock -->
<g id="node1" class="node">
<title>logCreationOrDeletionLock</title>
<polygon fill="#95e1d3" stroke="#000000" points="1616,-94.567 1451,-94.567 1447,-90.567 1447,-58.567 1612,-58.567 1616,-62.567 1616,-94.567"/>
<polyline fill="none" stroke="#000000" points="1612,-90.567 1447,-90.567 "/>
<polyline fill="none" stroke="#000000" points="1612,-90.567 1612,-58.567 "/>
<polyline fill="none" stroke="#000000" points="1612,-90.567 1616,-94.567 "/>
<text text-anchor="middle" x="1531.5" y="-72.867" font-family="Times,serif" font-size="14.00" fill="#000000">logCreationOrDeletionLock</text>
</g>
<!-- getOrCreateLog -->
<g id="node2" class="node">
<title>getOrCreateLog</title>
<polygon fill="none" stroke="#000000" points="1392.5,-148.567 1288.5,-148.567 1288.5,-112.567 1392.5,-112.567 1392.5,-148.567"/>
<text text-anchor="middle" x="1340.5" y="-126.867" font-family="Times,serif" font-size="14.00" fill="#000000">getOrCreateLog</text>
</g>
<!-- getOrCreateLog&#45;&gt;logCreationOrDeletionLock -->
<g id="edge1" class="edge">
<title>getOrCreateLog&#45;&gt;logCreationOrDeletionLock</title>
<path fill="none" stroke="#000000" d="M1392.6916,-115.8113C1412.806,-110.1245 1436.1724,-103.5183 1457.9327,-97.3661"/>
<polygon fill="#000000" stroke="#000000" points="1459.1296,-100.665 1467.8002,-94.5764 1457.2252,-93.929 1459.1296,-100.665"/>
</g>
<!-- preferredLogDirs -->
<g id="node3" class="node">
<title>preferredLogDirs</title>
<polygon fill="none" stroke="#000000" points="1587,-148.567 1476,-148.567 1476,-112.567 1587,-112.567 1587,-148.567"/>
<text text-anchor="middle" x="1531.5" y="-126.867" font-family="Times,serif" font-size="14.00" fill="#000000">preferredLogDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;preferredLogDirs -->
<g id="edge2" class="edge">
<title>getOrCreateLog&#45;&gt;preferredLogDirs</title>
<path fill="none" stroke="#000000" d="M1392.6916,-130.567C1415.2101,-130.567 1441.8043,-130.567 1465.6579,-130.567"/>
<polygon fill="#000000" stroke="#000000" points="1465.6933,-134.0671 1475.6932,-130.567 1465.6932,-127.0671 1465.6933,-134.0671"/>
</g>
<!-- logDirs -->
<g id="node4" class="node">
<title>logDirs</title>
<polygon fill="none" stroke="#000000" points="1560,-202.567 1503,-202.567 1503,-166.567 1560,-166.567 1560,-202.567"/>
<text text-anchor="middle" x="1531.5" y="-180.867" font-family="Times,serif" font-size="14.00" fill="#000000">logDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;logDirs -->
<g id="edge3" class="edge">
<title>getOrCreateLog&#45;&gt;logDirs</title>
<path fill="none" stroke="#000000" d="M1392.6916,-145.3227C1424.4074,-154.2895 1464.2082,-165.5421 1493.0499,-173.6963"/>
<polygon fill="#000000" stroke="#000000" points="1492.1882,-177.0898 1502.7633,-176.4425 1494.0927,-170.3538 1492.1882,-177.0898"/>
</g>
<!-- finishedInitializingLog -->
<g id="node5" class="node">
<title>finishedInitializingLog</title>
<polygon fill="none" stroke="#000000" points="1411,-94.567 1270,-94.567 1270,-58.567 1411,-58.567 1411,-94.567"/>
<text text-anchor="middle" x="1340.5" y="-72.867" font-family="Times,serif" font-size="14.00" fill="#000000">finishedInitializingLog</text>
</g>
<!-- log -->
<g id="node6" class="node">
<title>log</title>
<polygon fill="#95e1d3" stroke="#000000" points="1225.5,-67.567 1175.5,-67.567 1171.5,-63.567 1171.5,-31.567 1221.5,-31.567 1225.5,-35.567 1225.5,-67.567"/>
<polyline fill="none" stroke="#000000" points="1221.5,-63.567 1171.5,-63.567 "/>
<polyline fill="none" stroke="#000000" points="1221.5,-63.567 1221.5,-31.567 "/>
<polyline fill="none" stroke="#000000" points="1221.5,-63.567 1225.5,-67.567 "/>
<text text-anchor="middle" x="1198.5" y="-45.867" font-family="Times,serif" font-size="14.00" fill="#000000">log</text>
</g>
<!-- maybeCreateFutureReplica -->
<g id="node7" class="node">
<title>maybeCreateFutureReplica</title>
<polygon fill="none" stroke="#000000" points="958,-175.567 793,-175.567 793,-139.567 958,-139.567 958,-175.567"/>
<text text-anchor="middle" x="875.5" y="-153.867" font-family="Times,serif" font-size="14.00" fill="#000000">maybeCreateFutureReplica</text>
</g>
<!-- createLogIfNotExists -->
<g id="node10" class="node">
<title>createLogIfNotExists</title>
<polygon fill="#f38181" stroke="#000000" points="1127,-67.567 994,-67.567 994,-31.567 1127,-31.567 1127,-67.567"/>
<text text-anchor="middle" x="1060.5" y="-45.867" font-family="Times,serif" font-size="14.00" fill="#000000">createLogIfNotExists</text>
</g>
<!-- maybeCreateFutureReplica&#45;&gt;createLogIfNotExists -->
<g id="edge4" class="edge">
<title>maybeCreateFutureReplica&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M938.6348,-139.4864C945.3146,-136.8167 951.8916,-133.845 958,-130.567 986.2796,-115.3912 1014.6132,-92.2441 1034.3007,-74.5747"/>
<polygon fill="#000000" stroke="#000000" points="1036.896,-76.9447 1041.9231,-67.6185 1032.1773,-71.7741 1036.896,-76.9447"/>
</g>
<!-- makeLeader -->
<g id="node8" class="node">
<title>makeLeader</title>
<polygon fill="none" stroke="#000000" points="917.5,-121.567 833.5,-121.567 833.5,-85.567 917.5,-85.567 917.5,-121.567"/>
<text text-anchor="middle" x="875.5" y="-99.867" font-family="Times,serif" font-size="14.00" fill="#000000">makeLeader</text>
</g>
<!-- makeLeader&#45;&gt;createLogIfNotExists -->
<g id="edge5" class="edge">
<title>makeLeader&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M917.9427,-91.1783C938.9447,-85.048 964.8733,-77.4797 988.8344,-70.4856"/>
<polygon fill="#000000" stroke="#000000" points="989.9896,-73.7946 998.6083,-67.6327 988.0282,-67.075 989.9896,-73.7946"/>
</g>
<!-- makeFollower -->
<g id="node9" class="node">
<title>makeFollower</title>
<polygon fill="none" stroke="#000000" points="923,-67.567 828,-67.567 828,-31.567 923,-31.567 923,-67.567"/>
<text text-anchor="middle" x="875.5" y="-45.867" font-family="Times,serif" font-size="14.00" fill="#000000">makeFollower</text>
</g>
<!-- makeFollower&#45;&gt;createLogIfNotExists -->
<g id="edge6" class="edge">
<title>makeFollower&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M923.1421,-49.567C941.5508,-49.567 963.087,-49.567 983.5739,-49.567"/>
<polygon fill="#000000" stroke="#000000" points="983.8476,-53.0671 993.8476,-49.567 983.8476,-46.0671 983.8476,-53.0671"/>
</g>
<!-- createLogIfNotExists&#45;&gt;log -->
<g id="edge7" class="edge">
<title>createLogIfNotExists&#45;&gt;log</title>
<path fill="none" stroke="#000000" d="M1127.0747,-49.567C1138.8607,-49.567 1150.7412,-49.567 1161.3384,-49.567"/>
<polygon fill="#000000" stroke="#000000" points="1161.4569,-53.0671 1171.4568,-49.567 1161.4568,-46.0671 1161.4569,-53.0671"/>
</g>
<!-- createLog -->
<g id="node11" class="node">
<title>createLog</title>
<polygon fill="none" stroke="#000000" points="1234,-121.567 1163,-121.567 1163,-85.567 1234,-85.567 1234,-121.567"/>
<text text-anchor="middle" x="1198.5" y="-99.867" font-family="Times,serif" font-size="14.00" fill="#000000">createLog</text>
</g>
<!-- createLogIfNotExists&#45;&gt;createLog -->
<g id="edge8" class="edge">
<title>createLogIfNotExists&#45;&gt;createLog</title>
<path fill="none" stroke="#000000" d="M1106.8359,-67.6984C1121.8662,-73.5798 1138.5104,-80.0928 1153.4459,-85.9372"/>
<polygon fill="#000000" stroke="#000000" points="1152.3919,-89.2831 1162.9798,-89.6678 1154.9428,-82.7644 1152.3919,-89.2831"/>
</g>
<!-- createLog&#45;&gt;getOrCreateLog -->
<g id="edge9" class="edge">
<title>createLog&#45;&gt;getOrCreateLog</title>
<path fill="none" stroke="#000000" d="M1234.3326,-110.3802C1247.617,-112.9061 1263.0988,-115.8499 1278.0654,-118.6956"/>
<polygon fill="#000000" stroke="#000000" points="1277.8334,-122.2142 1288.3112,-120.6438 1279.141,-115.3374 1277.8334,-122.2142"/>
</g>
<!-- createLog&#45;&gt;finishedInitializingLog -->
<g id="edge10" class="edge">
<title>createLog&#45;&gt;finishedInitializingLog</title>
<path fill="none" stroke="#000000" d="M1234.3326,-96.7538C1242.2123,-95.2555 1250.8652,-93.6102 1259.7251,-91.9256"/>
<polygon fill="#000000" stroke="#000000" points="1260.6158,-95.319 1269.786,-90.0126 1259.3082,-88.4422 1260.6158,-95.319"/>
</g>
<!-- becomeLeaderOrFollower -->
<g id="node12" class="node">
<title>becomeLeaderOrFollower</title>
<polygon fill="none" stroke="#000000" points="620,-67.567 460,-67.567 460,-31.567 620,-31.567 620,-67.567"/>
<text text-anchor="middle" x="540" y="-45.867" font-family="Times,serif" font-size="14.00" fill="#000000">becomeLeaderOrFollower</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;createLogIfNotExists -->
<g id="edge11" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M607.4917,-31.5544C690.5667,-12.0279 835.6694,13.4568 958,-9.567 977.1656,-13.1742 997.3466,-20.266 1014.685,-27.4894"/>
<polygon fill="#000000" stroke="#000000" points="1013.4311,-30.7601 1024.0005,-31.4947 1016.1961,-24.3293 1013.4311,-30.7601"/>
</g>
<!-- makeFollowers -->
<g id="node13" class="node">
<title>makeFollowers</title>
<polygon fill="none" stroke="#000000" points="757,-67.567 656,-67.567 656,-31.567 757,-31.567 757,-67.567"/>
<text text-anchor="middle" x="706.5" y="-45.867" font-family="Times,serif" font-size="14.00" fill="#000000">makeFollowers</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;makeFollowers -->
<g id="edge12" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;makeFollowers</title>
<path fill="none" stroke="#000000" d="M620.3238,-49.567C628.8605,-49.567 637.4383,-49.567 645.6976,-49.567"/>
<polygon fill="#000000" stroke="#000000" points="645.9619,-53.0671 655.9619,-49.567 645.9618,-46.0671 645.9619,-53.0671"/>
</g>
<!-- makeLeaders -->
<g id="node14" class="node">
<title>makeLeaders</title>
<polygon fill="none" stroke="#000000" points="751,-121.567 662,-121.567 662,-85.567 751,-85.567 751,-121.567"/>
<text text-anchor="middle" x="706.5" y="-99.867" font-family="Times,serif" font-size="14.00" fill="#000000">makeLeaders</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;makeLeaders -->
<g id="edge15" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;makeLeaders</title>
<path fill="none" stroke="#000000" d="M595.9053,-67.6984C613.9997,-73.5669 634.033,-80.0642 652.0224,-85.8986"/>
<polygon fill="#000000" stroke="#000000" points="651.189,-89.3077 661.781,-89.0635 653.3485,-82.6491 651.189,-89.3077"/>
</g>
<!-- makeFollowers&#45;&gt;makeFollower -->
<g id="edge13" class="edge">
<title>makeFollowers&#45;&gt;makeFollower</title>
<path fill="none" stroke="#000000" d="M757.2056,-49.567C776.2483,-49.567 798.0325,-49.567 817.6742,-49.567"/>
<polygon fill="#000000" stroke="#000000" points="817.7244,-53.0671 827.7244,-49.567 817.7243,-46.0671 817.7244,-53.0671"/>
</g>
<!-- makeFollowers&#45;&gt;createLogIfNotExists -->
<g id="edge14" class="edge">
<title>makeFollowers&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M750.6683,-31.5248C761.6977,-27.8176 773.6281,-24.468 785,-22.567 860.8366,-9.8895 881.7478,-12.6925 958,-22.567 969.292,-24.0293 981.1134,-26.362 992.5486,-29.059"/>
<polygon fill="#000000" stroke="#000000" points="991.9278,-32.5108 1002.4753,-31.5101 993.6059,-25.7149 991.9278,-32.5108"/>
</g>
<!-- makeLeaders&#45;&gt;makeLeader -->
<g id="edge16" class="edge">
<title>makeLeaders&#45;&gt;makeLeader</title>
<path fill="none" stroke="#000000" d="M751.3452,-103.567C773.3932,-103.567 800.0993,-103.567 823.0854,-103.567"/>
<polygon fill="#000000" stroke="#000000" points="823.3547,-107.0671 833.3547,-103.567 823.3547,-100.0671 823.3547,-107.0671"/>
</g>
<!-- alterReplicaLogDirs -->
<g id="node15" class="node">
<title>alterReplicaLogDirs</title>
<polygon fill="none" stroke="#000000" points="603.5,-121.567 476.5,-121.567 476.5,-85.567 603.5,-85.567 603.5,-121.567"/>
<text text-anchor="middle" x="540" y="-99.867" font-family="Times,serif" font-size="14.00" fill="#000000">alterReplicaLogDirs</text>
</g>
<!-- alterReplicaLogDirs&#45;&gt;maybeCreateFutureReplica -->
<g id="edge17" class="edge">
<title>alterReplicaLogDirs&#45;&gt;maybeCreateFutureReplica</title>
<path fill="none" stroke="#000000" d="M603.568,-119.6459C620.53,-123.584 638.8981,-127.5337 656,-130.567 697.3852,-137.9073 743.5136,-143.9071 782.7611,-148.3705"/>
<polygon fill="#000000" stroke="#000000" points="782.5186,-151.8652 792.8463,-149.5011 783.2985,-144.9088 782.5186,-151.8652"/>
</g>
<!-- handle -->
<g id="node16" class="node">
<title>handle</title>
<polygon fill="none" stroke="#000000" points="16,-52.567 16,-98.567 178,-98.567 178,-52.567 16,-52.567"/>
<text text-anchor="middle" x="97" y="-83.367" font-family="Times,serif" font-size="14.00" fill="#000000">handle</text>
<polyline fill="none" stroke="#000000" points="16,-75.567 178,-75.567 "/>
<text text-anchor="start" x="24" y="-60.367" font-family="Times,serif" font-size="14.00" fill="#000000">KafkaServer api处理入口</text>
</g>
<!-- handleLeaderAndIsrRequest -->
<g id="node17" class="node">
<title>handleLeaderAndIsrRequest</title>
<polygon fill="none" stroke="#000000" points="404.5,-67.567 233.5,-67.567 233.5,-31.567 404.5,-31.567 404.5,-67.567"/>
<text text-anchor="middle" x="319" y="-45.867" font-family="Times,serif" font-size="14.00" fill="#000000">handleLeaderAndIsrRequest</text>
</g>
<!-- handle&#45;&gt;handleLeaderAndIsrRequest -->
<g id="edge18" class="edge">
<title>handle&#45;&gt;handleLeaderAndIsrRequest</title>
<path fill="none" stroke="#000000" d="M178.0894,-66.07C192.6819,-64.361 208.0197,-62.5647 222.9871,-60.8118"/>
<polygon fill="#000000" stroke="#000000" points="223.7514,-64.2463 233.2763,-59.6067 222.937,-57.2938 223.7514,-64.2463"/>
</g>
<!-- handleAlterReplicaLogDirsRequest -->
<g id="node18" class="node">
<title>handleAlterReplicaLogDirsRequest</title>
<polygon fill="none" stroke="#000000" points="424,-121.567 214,-121.567 214,-85.567 424,-85.567 424,-121.567"/>
<text text-anchor="middle" x="319" y="-99.867" font-family="Times,serif" font-size="14.00" fill="#000000">handleAlterReplicaLogDirsRequest</text>
</g>
<!-- handle&#45;&gt;handleAlterReplicaLogDirsRequest -->
<g id="edge19" class="edge">
<title>handle&#45;&gt;handleAlterReplicaLogDirsRequest</title>
<path fill="none" stroke="#000000" d="M178.0894,-85.7945C186.4579,-86.85 195.0714,-87.9364 203.7196,-89.0271"/>
<polygon fill="#000000" stroke="#000000" points="203.5158,-92.5291 213.8752,-90.308 204.3918,-85.5841 203.5158,-92.5291"/>
</g>
<!-- handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower -->
<g id="edge20" class="edge">
<title>handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower</title>
<path fill="none" stroke="#000000" d="M404.7607,-49.567C419.4493,-49.567 434.7528,-49.567 449.559,-49.567"/>
<polygon fill="#000000" stroke="#000000" points="449.7165,-53.0671 459.7164,-49.567 449.7164,-46.0671 449.7165,-53.0671"/>
</g>
<!-- handleAlterReplicaLogDirsRequest&#45;&gt;alterReplicaLogDirs -->
<g id="edge21" class="edge">
<title>handleAlterReplicaLogDirsRequest&#45;&gt;alterReplicaLogDirs</title>
<path fill="none" stroke="#000000" d="M424.322,-103.567C438.4966,-103.567 452.7852,-103.567 466.2518,-103.567"/>
<polygon fill="#000000" stroke="#000000" points="466.3742,-107.0671 476.3741,-103.567 466.3741,-100.0671 466.3742,-107.0671"/>
</g>
</g>
</svg>
