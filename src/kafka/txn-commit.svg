<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: txn_end Pages: 1 -->
<svg width="2839pt" height="995pt"
 viewBox="0.00 0.00 2839.29 995.35" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 991.3524)">
<title>txn_end</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-991.3524 2835.2939,-991.3524 2835.2939,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_ReplicaManager</title>
<path fill="none" stroke="#000000" d="M44.8931,-181.3524C44.8931,-181.3524 168.9829,-181.3524 168.9829,-181.3524 174.9829,-181.3524 180.9829,-187.3524 180.9829,-193.3524 180.9829,-193.3524 180.9829,-283.3524 180.9829,-283.3524 180.9829,-289.3524 174.9829,-295.3524 168.9829,-295.3524 168.9829,-295.3524 44.8931,-295.3524 44.8931,-295.3524 38.8931,-295.3524 32.8931,-289.3524 32.8931,-283.3524 32.8931,-283.3524 32.8931,-193.3524 32.8931,-193.3524 32.8931,-187.3524 38.8931,-181.3524 44.8931,-181.3524"/>
<text text-anchor="middle" x="106.938" y="-275.3524" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_TransactionMetadata</title>
<path fill="none" stroke="#000000" d="M457.0327,-757.3524C457.0327,-757.3524 2506.9658,-757.3524 2506.9658,-757.3524 2512.9658,-757.3524 2518.9658,-763.3524 2518.9658,-769.3524 2518.9658,-769.3524 2518.9658,-967.3524 2518.9658,-967.3524 2518.9658,-973.3524 2512.9658,-979.3524 2506.9658,-979.3524 2506.9658,-979.3524 457.0327,-979.3524 457.0327,-979.3524 451.0327,-979.3524 445.0327,-973.3524 445.0327,-967.3524 445.0327,-967.3524 445.0327,-769.3524 445.0327,-769.3524 445.0327,-763.3524 451.0327,-757.3524 457.0327,-757.3524"/>
<text text-anchor="middle" x="1481.9993" y="-959.3524" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionMetadata</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_TransactionStateManager</title>
<path fill="none" stroke="#000000" d="M243.5815,-140.3524C243.5815,-140.3524 2811.2939,-140.3524 2811.2939,-140.3524 2817.2939,-140.3524 2823.2939,-146.3524 2823.2939,-152.3524 2823.2939,-152.3524 2823.2939,-353.3524 2823.2939,-353.3524 2823.2939,-359.3524 2817.2939,-365.3524 2811.2939,-365.3524 2811.2939,-365.3524 243.5815,-365.3524 243.5815,-365.3524 237.5815,-365.3524 231.5815,-359.3524 231.5815,-353.3524 231.5815,-353.3524 231.5815,-152.3524 231.5815,-152.3524 231.5815,-146.3524 237.5815,-140.3524 243.5815,-140.3524"/>
<text text-anchor="middle" x="1527.4377" y="-345.3524" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionStateManager</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_TransactionMarkerChannelManager</title>
<path fill="none" stroke="#000000" d="M244.0396,-373.3524C244.0396,-373.3524 2766.4536,-373.3524 2766.4536,-373.3524 2772.4536,-373.3524 2778.4536,-379.3524 2778.4536,-385.3524 2778.4536,-385.3524 2778.4536,-737.3524 2778.4536,-737.3524 2778.4536,-743.3524 2772.4536,-749.3524 2766.4536,-749.3524 2766.4536,-749.3524 244.0396,-749.3524 244.0396,-749.3524 238.0396,-749.3524 232.0396,-743.3524 232.0396,-737.3524 232.0396,-737.3524 232.0396,-385.3524 232.0396,-385.3524 232.0396,-379.3524 238.0396,-373.3524 244.0396,-373.3524"/>
<text text-anchor="middle" x="1505.2466" y="-729.3524" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionMarkerChannelManager</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_TransactionMarkerRequestCompletionHandler</title>
<path fill="none" stroke="#000000" d="M669.667,-441.3524C669.667,-441.3524 1042.3848,-441.3524 1042.3848,-441.3524 1048.3848,-441.3524 1054.3848,-447.3524 1054.3848,-453.3524 1054.3848,-453.3524 1054.3848,-583.3524 1054.3848,-583.3524 1054.3848,-589.3524 1048.3848,-595.3524 1042.3848,-595.3524 1042.3848,-595.3524 669.667,-595.3524 669.667,-595.3524 663.667,-595.3524 657.667,-589.3524 657.667,-583.3524 657.667,-583.3524 657.667,-453.3524 657.667,-453.3524 657.667,-447.3524 663.667,-441.3524 669.667,-441.3524"/>
<text text-anchor="middle" x="856.0259" y="-575.3524" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionMarkerRequestCompletionHandler</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_InterBrokerSendThread</title>
<path fill="none" stroke="#000000" d="M16,-598.3524C16,-598.3524 197.876,-598.3524 197.876,-598.3524 203.876,-598.3524 209.876,-604.3524 209.876,-610.3524 209.876,-610.3524 209.876,-680.3524 209.876,-680.3524 209.876,-686.3524 203.876,-692.3524 197.876,-692.3524 197.876,-692.3524 16,-692.3524 16,-692.3524 10,-692.3524 4,-686.3524 4,-680.3524 4,-680.3524 4,-610.3524 4,-610.3524 4,-604.3524 10,-598.3524 16,-598.3524"/>
<text text-anchor="middle" x="106.938" y="-672.3524" font-family="Times,serif" font-size="20.00" fill="#000000">InterBrokerSendThread</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_TransactionCoordinator</title>
<path fill="none" stroke="#000000" d="M241.876,-22.3524C241.876,-22.3524 594.1533,-22.3524 594.1533,-22.3524 600.1533,-22.3524 606.1533,-28.3524 606.1533,-34.3524 606.1533,-34.3524 606.1533,-90.3524 606.1533,-90.3524 606.1533,-96.3524 600.1533,-102.3524 594.1533,-102.3524 594.1533,-102.3524 241.876,-102.3524 241.876,-102.3524 235.876,-102.3524 229.876,-96.3524 229.876,-90.3524 229.876,-90.3524 229.876,-34.3524 229.876,-34.3524 229.876,-28.3524 235.876,-22.3524 241.876,-22.3524"/>
<text text-anchor="middle" x="418.0146" y="-82.3524" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionCoordinator</text>
</g>
<g id="clust17" class="cluster">
<title>cluster_KafkaApi</title>
<path fill="none" stroke="#000000" d="M38.6758,-22.3524C38.6758,-22.3524 174.2002,-22.3524 174.2002,-22.3524 180.2002,-22.3524 186.2002,-28.3524 186.2002,-34.3524 186.2002,-34.3524 186.2002,-90.3524 186.2002,-90.3524 186.2002,-96.3524 180.2002,-102.3524 174.2002,-102.3524 174.2002,-102.3524 38.6758,-102.3524 38.6758,-102.3524 32.6758,-102.3524 26.6758,-96.3524 26.6758,-90.3524 26.6758,-90.3524 26.6758,-34.3524 26.6758,-34.3524 26.6758,-28.3524 32.6758,-22.3524 38.6758,-22.3524"/>
<text text-anchor="middle" x="106.438" y="-82.3524" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi</text>
</g>
<!-- appendRecords -->
<g id="node1" class="node">
<title>appendRecords</title>
<polygon fill="none" stroke="#000000" points="47.8931,-189.7525 47.8931,-258.9523 164.9829,-258.9523 164.9829,-189.7525 47.8931,-189.7525"/>
<text text-anchor="middle" x="106.438" y="-243.7523" font-family="Times,serif" font-size="14.00" fill="#000000">appendRecords</text>
<polyline fill="none" stroke="#000000" points="47.8931,-236.9523 164.9829,-236.9523 "/>
<text text-anchor="start" x="55.8931" y="-221.7523" font-family="Times,serif" font-size="14.00" fill="#000000">将日志写入kafka</text>
<text text-anchor="start" x="55.8931" y="-202.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> internal topic中</text>
</g>
<!-- updateCacheCallback -->
<g id="node13" class="node">
<title>updateCacheCallback</title>
<polygon fill="none" stroke="#000000" points="239.5815,-259.7525 239.5815,-328.9523 377.6372,-328.9523 377.6372,-259.7525 239.5815,-259.7525"/>
<text text-anchor="middle" x="308.6094" y="-313.7523" font-family="Times,serif" font-size="14.00" fill="#000000">updateCacheCallback</text>
<polyline fill="none" stroke="#000000" points="239.5815,-306.9523 377.6372,-306.9523 "/>
<text text-anchor="start" x="247.5815" y="-291.7523" font-family="Times,serif" font-size="14.00" fill="#000000">日志写入成功</text>
<text text-anchor="middle" x="308.6094" y="-272.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 后的回调</text>
</g>
<!-- appendRecords&#45;&gt;updateCacheCallback -->
<g id="edge47" class="edge">
<title>appendRecords&#45;&gt;updateCacheCallback</title>
<path fill="none" stroke="#000000" d="M165.1859,-244.6933C185.3957,-251.6908 208.3612,-259.6424 229.8997,-267.0999"/>
<polygon fill="#000000" stroke="#000000" points="228.7596,-270.409 239.3544,-270.3735 231.05,-263.7942 228.7596,-270.409"/>
</g>
<!-- TransactionMetadata -->
<g id="node2" class="node">
<title>TransactionMetadata</title>
<polygon fill="#95e1d3" stroke="#000000" points="2250.2051,-766.3524 2250.2051,-942.3524 2510.9658,-942.3524 2510.9658,-766.3524 2250.2051,-766.3524"/>
<text text-anchor="middle" x="2380.5854" y="-927.1524" font-family="Times,serif" font-size="14.00" fill="#000000">TransactionMetadata</text>
<polyline fill="none" stroke="#000000" points="2250.2051,-920.3524 2510.9658,-920.3524 "/>
<text text-anchor="start" x="2258.2051" y="-905.1524" font-family="Times,serif" font-size="14.00" fill="#000000">transactionalId: String </text>
<polyline fill="none" stroke="#000000" points="2250.2051,-898.3524 2510.9658,-898.3524 "/>
<text text-anchor="start" x="2258.2051" y="-883.1524" font-family="Times,serif" font-size="14.00" fill="#000000">producerId: long </text>
<polyline fill="none" stroke="#000000" points="2250.2051,-876.3524 2510.9658,-876.3524 "/>
<text text-anchor="start" x="2258.2051" y="-861.1524" font-family="Times,serif" font-size="14.00" fill="#000000">lastProducerId: Long </text>
<polyline fill="none" stroke="#000000" points="2250.2051,-854.3524 2510.9658,-854.3524 "/>
<text text-anchor="start" x="2258.2051" y="-839.1524" font-family="Times,serif" font-size="14.00" fill="#000000">producerEpoch: short </text>
<polyline fill="none" stroke="#000000" points="2250.2051,-832.3524 2510.9658,-832.3524 "/>
<text text-anchor="start" x="2258.2051" y="-817.1524" font-family="Times,serif" font-size="14.00" fill="#000000">txnTimeoutMs: Int </text>
<polyline fill="none" stroke="#000000" points="2250.2051,-810.3524 2510.9658,-810.3524 "/>
<text text-anchor="start" x="2258.2051" y="-795.1524" font-family="Times,serif" font-size="14.00" fill="#000000">state: TransactionState </text>
<polyline fill="none" stroke="#000000" points="2250.2051,-788.3524 2510.9658,-788.3524 "/>
<text text-anchor="start" x="2258.2051" y="-773.1524" font-family="Times,serif" font-size="14.00" fill="#000000">topicPartitions: mutable.Set[TopicPartition]</text>
</g>
<!-- removePartition -->
<g id="node3" class="node">
<title>removePartition</title>
<polygon fill="none" stroke="#000000" points="2088.7394,-801.3524 1982.3387,-801.3524 1982.3387,-765.3524 2088.7394,-765.3524 2088.7394,-801.3524"/>
<text text-anchor="middle" x="2035.5391" y="-779.1524" font-family="Times,serif" font-size="14.00" fill="#000000">removePartition</text>
</g>
<!-- removePartition&#45;&gt;TransactionMetadata -->
<g id="edge1" class="edge">
<title>removePartition&#45;&gt;TransactionMetadata:tp</title>
<path fill="none" stroke="#000000" d="M2088.9943,-781.0326C2129.8644,-779.4465 2187.9386,-777.5925 2240.498,-777.3738"/>
<polygon fill="#000000" stroke="#000000" points="2240.5929,-780.8737 2250.5854,-777.3524 2240.578,-773.8737 2240.5929,-780.8737"/>
</g>
<!-- prepareTransitionTo -->
<g id="node4" class="node">
<title>prepareTransitionTo</title>
<polygon fill="none" stroke="#000000" points="1082.3848,-769.7525 1082.3848,-838.9523 1282.7158,-838.9523 1282.7158,-769.7525 1082.3848,-769.7525"/>
<text text-anchor="middle" x="1182.5503" y="-823.7523" font-family="Times,serif" font-size="14.00" fill="#000000">prepareTransitionTo</text>
<polyline fill="none" stroke="#000000" points="1082.3848,-816.9523 1282.7158,-816.9523 "/>
<text text-anchor="start" x="1090.3848" y="-801.7523" font-family="Times,serif" font-size="14.00" fill="#000000">将状态设置为CompleteCommit</text>
<text text-anchor="start" x="1090.3848" y="-782.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 或者CompleteAbort</text>
</g>
<!-- completeTransitionTo -->
<g id="node5" class="node">
<title>completeTransitionTo</title>
<polygon fill="none" stroke="#000000" points="591.9492,-828.3524 453.0605,-828.3524 453.0605,-792.3524 591.9492,-792.3524 591.9492,-828.3524"/>
<text text-anchor="middle" x="522.5049" y="-806.1524" font-family="Times,serif" font-size="14.00" fill="#000000">completeTransitionTo</text>
</g>
<!-- topicPartitions_clear -->
<g id="node6" class="node">
<title>topicPartitions_clear</title>
<polygon fill="none" stroke="#000000" points="921.8814,-855.3524 790.1703,-855.3524 790.1703,-819.3524 921.8814,-819.3524 921.8814,-855.3524"/>
<text text-anchor="middle" x="856.0259" y="-833.1524" font-family="Times,serif" font-size="14.00" fill="#000000">topicPartitions_clear</text>
</g>
<!-- completeTransitionTo&#45;&gt;topicPartitions_clear -->
<g id="edge2" class="edge">
<title>completeTransitionTo&#45;&gt;topicPartitions_clear</title>
<path fill="none" stroke="#000000" d="M592.0158,-815.9796C646.8313,-820.4172 723.1958,-826.5992 779.7007,-831.1735"/>
<polygon fill="#000000" stroke="#000000" points="779.7608,-834.6898 790.0107,-832.0082 780.3257,-827.7126 779.7608,-834.6898"/>
</g>
<!-- prepareComplete -->
<g id="node7" class="node">
<title>prepareComplete</title>
<polygon fill="none" stroke="#000000" points="912.427,-801.3524 799.6248,-801.3524 799.6248,-765.3524 912.427,-765.3524 912.427,-801.3524"/>
<text text-anchor="middle" x="856.0259" y="-779.1524" font-family="Times,serif" font-size="14.00" fill="#000000">prepareComplete</text>
</g>
<!-- prepareComplete&#45;&gt;prepareTransitionTo -->
<g id="edge3" class="edge">
<title>prepareComplete&#45;&gt;prepareTransitionTo</title>
<path fill="none" stroke="#000000" d="M912.5293,-786.9863C956.3421,-789.8041 1018.421,-793.7966 1072.0101,-797.2431"/>
<polygon fill="#000000" stroke="#000000" points="1072.0544,-800.7531 1082.2584,-797.9023 1072.5037,-793.7676 1072.0544,-800.7531"/>
</g>
<!-- appendTransactionToLog -->
<g id="node8" class="node">
<title>appendTransactionToLog</title>
<polygon fill="none" stroke="#000000" points="2301.0098,-148.7525 2301.0098,-217.9523 2460.1611,-217.9523 2460.1611,-148.7525 2301.0098,-148.7525"/>
<text text-anchor="middle" x="2380.5854" y="-202.7523" font-family="Times,serif" font-size="14.00" fill="#000000">appendTransactionToLog</text>
<polyline fill="none" stroke="#000000" points="2301.0098,-195.9523 2460.1611,-195.9523 "/>
<text text-anchor="start" x="2309.0098" y="-180.7523" font-family="Times,serif" font-size="14.00" fill="#000000">将事务日志对应的</text>
<text text-anchor="start" x="2309.0098" y="-161.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 写入topic_partition</text>
</g>
<!-- appendTransactionToLog&#45;&gt;appendRecords -->
<g id="edge10" class="edge">
<title>appendTransactionToLog&#45;&gt;appendRecords</title>
<path fill="none" stroke="#000000" d="M2300.9923,-164.5307C2270.7726,-158.071 2235.9367,-151.4442 2203.9648,-147.3524 1981.3903,-118.8673 1924.2,-120.3524 1699.8101,-120.3524 522.5049,-120.3524 522.5049,-120.3524 522.5049,-120.3524 396.9385,-120.3524 256.2477,-165.4858 174.8521,-196.2877"/>
<polygon fill="#000000" stroke="#000000" points="173.3151,-193.1282 165.2247,-199.969 175.8153,-199.6665 173.3151,-193.1282"/>
</g>
<!-- appendTransactionToLog&#45;&gt;updateCacheCallback -->
<g id="edge4" class="edge">
<title>appendTransactionToLog&#45;&gt;updateCacheCallback</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2300.9961,-176.7969C2173.979,-166.9169 1917.551,-149.3524 1699.8101,-149.3524 856.0259,-149.3524 856.0259,-149.3524 856.0259,-149.3524 684.2433,-149.3524 491.9436,-216.8994 387.1571,-259.7882"/>
<polygon fill="#000000" stroke="#000000" points="385.8215,-256.553 377.9115,-263.6016 388.4906,-263.0242 385.8215,-256.553"/>
</g>
<!-- TRANSACTION_STATE_TOPIC_NAME -->
<g id="node15" class="node">
<title>TRANSACTION_STATE_TOPIC_NAME</title>
<polygon fill="none" stroke="#000000" points="2815.3379,-201.3524 2557.1621,-201.3524 2557.1621,-165.3524 2815.3379,-165.3524 2815.3379,-201.3524"/>
<text text-anchor="middle" x="2686.25" y="-179.1524" font-family="Times,serif" font-size="14.00" fill="#000000">TRANSACTION_STATE_TOPIC_NAME</text>
</g>
<!-- appendTransactionToLog&#45;&gt;TRANSACTION_STATE_TOPIC_NAME -->
<g id="edge11" class="edge">
<title>appendTransactionToLog&#45;&gt;TRANSACTION_STATE_TOPIC_NAME</title>
<path fill="none" stroke="#000000" d="M2460.496,-183.3524C2487.0358,-183.3524 2517.4076,-183.3524 2547.0864,-183.3524"/>
<polygon fill="#000000" stroke="#000000" points="2547.1183,-186.8525 2557.1183,-183.3524 2547.1182,-179.8525 2547.1183,-186.8525"/>
</g>
<!-- getTransactionState -->
<g id="node9" class="node">
<title>getTransactionState</title>
<polygon fill="none" stroke="#000000" points="1097.1606,-269.5524 1097.1606,-319.1524 1267.9399,-319.1524 1267.9399,-269.5524 1097.1606,-269.5524"/>
<text text-anchor="middle" x="1182.5503" y="-303.9524" font-family="Times,serif" font-size="14.00" fill="#000000">getTransactionState</text>
<polyline fill="none" stroke="#000000" points="1097.1606,-297.1524 1267.9399,-297.1524 "/>
<text text-anchor="middle" x="1182.5503" y="-281.9524" font-family="Times,serif" font-size="14.00" fill="#000000">根据tid获取事务对应状态</text>
</g>
<!-- getAndMaybeAddTransactionState -->
<g id="node14" class="node">
<title>getAndMaybeAddTransactionState</title>
<polygon fill="none" stroke="#000000" points="1532.4024,-308.3524 1318.8202,-308.3524 1318.8202,-272.3524 1532.4024,-272.3524 1532.4024,-308.3524"/>
<text text-anchor="middle" x="1425.6113" y="-286.1524" font-family="Times,serif" font-size="14.00" fill="#000000">getAndMaybeAddTransactionState</text>
</g>
<!-- getTransactionState&#45;&gt;getAndMaybeAddTransactionState -->
<g id="edge7" class="edge">
<title>getTransactionState&#45;&gt;getAndMaybeAddTransactionState</title>
<path fill="none" stroke="#000000" d="M1268.2445,-292.9421C1281.2054,-292.7289 1294.7634,-292.5057 1308.2528,-292.2837"/>
<polygon fill="#000000" stroke="#000000" points="1308.6028,-295.7785 1318.5439,-292.1144 1308.4876,-288.7795 1308.6028,-295.7785"/>
</g>
<!-- transactionMetadataCache -->
<g id="node10" class="node">
<title>transactionMetadataCache</title>
<polygon fill="#95e1d3" stroke="#000000" points="1568.5068,-168.5524 1568.5068,-232.1524 1831.1133,-232.1524 1831.1133,-168.5524 1568.5068,-168.5524"/>
<text text-anchor="middle" x="1699.8101" y="-216.9524" font-family="Times,serif" font-size="14.00" fill="#000000">transactionMetadataCache</text>
<polyline fill="none" stroke="#000000" points="1568.5068,-210.1524 1831.1133,-210.1524 "/>
<text text-anchor="start" x="1576.5068" y="-194.9524" font-family="Times,serif" font-size="14.00" fill="#000000">mutable.Map[Int, TxnMetadataCacheEntry]</text>
<text text-anchor="middle" x="1699.8101" y="-180.9524" font-family="Times,serif" font-size="14.00" fill="#000000"> parition 到cacheEntry的映射</text>
</g>
<!-- TxnMetadataCacheEntry -->
<g id="node11" class="node">
<title>TxnMetadataCacheEntry</title>
<polygon fill="#95e1d3" stroke="#000000" points="1928.958,-199.5524 1928.958,-299.1524 2142.1201,-299.1524 2142.1201,-199.5524 1928.958,-199.5524"/>
<text text-anchor="middle" x="2035.5391" y="-283.9524" font-family="Times,serif" font-size="14.00" fill="#000000">TxnMetadataCacheEntry</text>
<polyline fill="none" stroke="#000000" points="1928.958,-277.1524 2142.1201,-277.1524 "/>
<text text-anchor="start" x="1936.958" y="-261.9524" font-family="Times,serif" font-size="14.00" fill="#000000">coordinatorEpoch Int </text>
<polyline fill="none" stroke="#000000" points="1928.958,-255.1524 2142.1201,-255.1524 "/>
<text text-anchor="start" x="1936.958" y="-239.9524" font-family="Times,serif" font-size="14.00" fill="#000000">metadataPerTransactionalId </text>
<text text-anchor="start" x="1936.958" y="-225.9524" font-family="Times,serif" font-size="14.00" fill="#000000"> Pool[String, TransactionMetadata]</text>
<text text-anchor="middle" x="2035.5391" y="-211.9524" font-family="Times,serif" font-size="14.00" fill="#000000"> 事务ID到事务metadata映射</text>
</g>
<!-- transactionMetadataCache&#45;&gt;TxnMetadataCacheEntry -->
<g id="edge5" class="edge">
<title>transactionMetadataCache:entry&#45;&gt;TxnMetadataCacheEntry</title>
<path fill="none" stroke="#000000" d="M1830.8101,-189.3524C1859.9661,-189.3524 1890.5492,-195.0256 1918.925,-202.883"/>
<polygon fill="#000000" stroke="#000000" points="1918.2857,-206.3412 1928.8639,-205.7477 1920.2244,-199.615 1918.2857,-206.3412"/>
</g>
<!-- TxnMetadataCacheEntry&#45;&gt;TransactionMetadata -->
<g id="edge6" class="edge">
<title>TxnMetadataCacheEntry:meta&#45;&gt;TransactionMetadata</title>
<path fill="none" stroke="#000000" d="M2142.5391,-227.3524C2211.3019,-227.3524 2186.8945,-302.7422 2203.9648,-369.3524 2225.2417,-452.3769 2197.3262,-679.0038 2239.9648,-753.3524 2241.2733,-755.6339 2242.6565,-757.8774 2244.108,-760.0829"/>
<polygon fill="#000000" stroke="#000000" points="2241.3793,-762.2849 2250.0306,-768.401 2247.0816,-758.2249 2241.3793,-762.2849"/>
</g>
<!-- partitionFor -->
<g id="node12" class="node">
<title>partitionFor</title>
<polygon fill="none" stroke="#000000" points="1585.6719,-251.5524 1585.6719,-329.1524 1813.9482,-329.1524 1813.9482,-251.5524 1585.6719,-251.5524"/>
<text text-anchor="middle" x="1699.8101" y="-313.9524" font-family="Times,serif" font-size="14.00" fill="#000000">partitionFor</text>
<polyline fill="none" stroke="#000000" points="1585.6719,-307.1524 1813.9482,-307.1524 "/>
<text text-anchor="start" x="1593.6719" y="-291.9524" font-family="Times,serif" font-size="14.00" fill="#000000">Utils.abs(transactionalId.hashCode)%</text>
<text text-anchor="start" x="1593.6719" y="-277.9524" font-family="Times,serif" font-size="14.00" fill="#000000"> transactionTopicPartitionCount </text>
<text text-anchor="start" x="1593.6719" y="-263.9524" font-family="Times,serif" font-size="14.00" fill="#000000"> 根据事务id获取对应的partition</text>
</g>
<!-- updateCacheCallback&#45;&gt;completeTransitionTo -->
<g id="edge49" class="edge">
<title>updateCacheCallback&#45;&gt;completeTransitionTo</title>
<path fill="none" stroke="#000000" d="M350.518,-329.1652C361.752,-340.7463 372.6301,-354.5127 379.3428,-369.3524 414.6664,-447.4422 367.8213,-682.0257 415.3428,-753.3524 425.1587,-768.0854 440.0729,-779.2872 455.6821,-787.6888"/>
<polygon fill="#000000" stroke="#000000" points="454.4112,-790.9668 464.9196,-792.3175 457.5471,-784.7084 454.4112,-790.9668"/>
</g>
<!-- updateCacheCallback&#45;&gt;getTransactionState -->
<g id="edge50" class="edge">
<title>updateCacheCallback&#45;&gt;getTransactionState</title>
<path fill="none" stroke="#000000" d="M377.9165,-294.3524C533.2608,-294.3524 909.5631,-294.3524 1086.9762,-294.3524"/>
<polygon fill="#000000" stroke="#000000" points="1087.0804,-297.8525 1097.0804,-294.3524 1087.0804,-290.8525 1087.0804,-297.8525"/>
</g>
<!-- appendCallback -->
<g id="node26" class="node">
<title>appendCallback</title>
<polygon fill="none" stroke="#000000" points="2239.9648,-381.9525 2239.9648,-470.7523 2521.2061,-470.7523 2521.2061,-381.9525 2239.9648,-381.9525"/>
<text text-anchor="middle" x="2380.5854" y="-455.5523" font-family="Times,serif" font-size="14.00" fill="#000000">appendCallback</text>
<polyline fill="none" stroke="#000000" points="2239.9648,-448.7523 2521.2061,-448.7523 "/>
<text text-anchor="start" x="2247.9648" y="-433.5523" font-family="Times,serif" font-size="14.00" fill="#000000">对于COORDINATOR_NOT_AVALIBLE错误</text>
<text text-anchor="start" x="2247.9648" y="-413.9524" font-family="Times,serif" font-size="14.00" fill="#000000"> 加入重试队列,InterBroker线程</text>
<text text-anchor="start" x="2247.9648" y="-394.3524" font-family="Times,serif" font-size="14.00" fill="#000000"> 会尝试重新发送</text>
</g>
<!-- updateCacheCallback&#45;&gt;appendCallback -->
<g id="edge51" class="edge">
<title>updateCacheCallback&#45;&gt;appendCallback</title>
<path fill="none" stroke="#000000" d="M377.9141,-306.6489C481.5585,-323.9401 683.2506,-353.3524 856.0259,-353.3524 856.0259,-353.3524 856.0259,-353.3524 1182.5503,-353.3524 1636.6594,-353.3524 1754.4757,-314.7417 2203.9648,-379.3524 2212.5222,-380.5825 2221.2587,-382.0831 2230.0392,-383.7827"/>
<polygon fill="#000000" stroke="#000000" points="2229.4699,-387.2383 2239.9642,-385.7824 2230.8525,-380.3762 2229.4699,-387.2383"/>
</g>
<!-- sendTxnMarkersCallback -->
<g id="node27" class="node">
<title>sendTxnMarkersCallback</title>
<polygon fill="none" stroke="#000000" points="417.1064,-381.5527 417.1064,-529.1521 627.9033,-529.1521 627.9033,-381.5527 417.1064,-381.5527"/>
<text text-anchor="middle" x="522.5049" y="-513.9521" font-family="Times,serif" font-size="14.00" fill="#000000">sendTxnMarkersCallback</text>
<polyline fill="none" stroke="#000000" points="417.1064,-507.1521 627.9033,-507.1521 "/>
<text text-anchor="start" x="425.1064" y="-491.9521" font-family="Times,serif" font-size="14.00" fill="#000000">prepareAbortOrCommit 事务日志</text>
<text text-anchor="start" x="425.1064" y="-472.3522" font-family="Times,serif" font-size="14.00" fill="#000000"> 写成功后的回调</text>
<text text-anchor="start" x="425.1064" y="-452.7523" font-family="Times,serif" font-size="14.00" fill="#000000"> coordinator开始向各个broker</text>
<text text-anchor="start" x="425.1064" y="-433.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 发送txnMark请求</text>
<text text-anchor="start" x="425.1064" y="-413.5525" font-family="Times,serif" font-size="14.00" fill="#000000"> 不断尝试直到成功</text>
<text text-anchor="start" x="425.1064" y="-393.9526" font-family="Times,serif" font-size="14.00" fill="#000000"> 并将状态设置为Complete</text>
</g>
<!-- updateCacheCallback&#45;&gt;sendTxnMarkersCallback -->
<g id="edge52" class="edge">
<title>updateCacheCallback&#45;&gt;sendTxnMarkersCallback</title>
<path fill="none" stroke="#000000" d="M354.7582,-329.0888C372.8354,-342.6956 394.383,-358.9146 415.9115,-375.1191"/>
<polygon fill="#000000" stroke="#000000" points="414.0598,-378.106 424.1543,-381.3235 418.2695,-372.5133 414.0598,-378.106"/>
</g>
<!-- getAndMaybeAddTransactionState&#45;&gt;transactionMetadataCache -->
<g id="edge8" class="edge">
<title>getAndMaybeAddTransactionState&#45;&gt;transactionMetadataCache</title>
<path fill="none" stroke="#000000" d="M1478.8192,-272.2756C1505.6794,-263.202 1538.7896,-252.0958 1568.5068,-242.3524 1575.4646,-240.0712 1582.6345,-237.7353 1589.8667,-235.3905"/>
<polygon fill="#000000" stroke="#000000" points="1591.3162,-238.6003 1599.7532,-232.1918 1589.1613,-231.9402 1591.3162,-238.6003"/>
</g>
<!-- getAndMaybeAddTransactionState&#45;&gt;partitionFor -->
<g id="edge9" class="edge">
<title>getAndMaybeAddTransactionState&#45;&gt;partitionFor</title>
<path fill="none" stroke="#000000" d="M1532.4089,-290.3524C1546.4451,-290.3524 1560.9275,-290.3524 1575.2267,-290.3524"/>
<polygon fill="#000000" stroke="#000000" points="1575.5974,-293.8525 1585.5974,-290.3524 1575.5974,-286.8525 1575.5974,-293.8525"/>
</g>
<!-- TransactionMarkerRequestCompletionHandler -->
<g id="node16" class="node">
<title>TransactionMarkerRequestCompletionHandler</title>
<polygon fill="none" stroke="#000000" points="665.667,-450.1526 665.667,-558.5522 1046.3848,-558.5522 1046.3848,-450.1526 665.667,-450.1526"/>
<text text-anchor="middle" x="856.0259" y="-543.3522" font-family="Times,serif" font-size="14.00" fill="#000000">TransactionMarkerRequestCompletionHandler</text>
<polyline fill="none" stroke="#000000" points="665.667,-536.5522 1046.3848,-536.5522 "/>
<text text-anchor="start" x="673.667" y="-521.3522" font-family="Times,serif" font-size="14.00" fill="#000000">处理parition broker对writeMark的响应</text>
<text text-anchor="start" x="673.667" y="-501.7523" font-family="Times,serif" font-size="14.00" fill="#000000"> 1.首先判断自己是否还是tid对应的coordinator</text>
<text text-anchor="start" x="673.667" y="-482.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 检查epoch能否对的上 如果不是的就removeMarkersForTxnId</text>
<text text-anchor="start" x="673.667" y="-462.5525" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.将出错的partition加入retry队列</text>
</g>
<!-- TransactionMarkerRequestCompletionHandler&#45;&gt;removePartition -->
<g id="edge41" class="edge">
<title>TransactionMarkerRequestCompletionHandler&#45;&gt;removePartition</title>
<path fill="none" stroke="#000000" d="M1046.506,-555.2751C1049.2508,-557.8393 1051.882,-560.5297 1054.3848,-563.3524 1103.4412,-618.6797 1027.2933,-678.0312 1082.3848,-727.3524 1115.5562,-757.0494 1764.5417,-776.3464 1972.2099,-781.7802"/>
<polygon fill="#000000" stroke="#000000" points="1972.2574,-785.2825 1982.345,-782.0435 1972.4393,-778.2849 1972.2574,-785.2825"/>
</g>
<!-- TransactionMarkerRequestCompletionHandler&#45;&gt;getTransactionState -->
<g id="edge42" class="edge">
<title>TransactionMarkerRequestCompletionHandler&#45;&gt;getTransactionState</title>
<path fill="none" stroke="#000000" d="M1046.6615,-452.0854C1049.3177,-449.9307 1051.8954,-447.6876 1054.3848,-445.3524 1080.6386,-420.7244 1060.8718,-398.214 1082.3848,-369.3524 1095.2157,-352.1385 1113.0679,-337.0379 1130.1522,-324.9844"/>
<polygon fill="#000000" stroke="#000000" points="1132.168,-327.8461 1138.452,-319.3161 1128.2201,-322.0656 1132.168,-327.8461"/>
</g>
<!-- completeSendMarkersForTxnId -->
<g id="node23" class="node">
<title>completeSendMarkersForTxnId</title>
<polygon fill="none" stroke="#000000" points="1084.7295,-560.7525 1084.7295,-629.9523 1280.3711,-629.9523 1280.3711,-560.7525 1084.7295,-560.7525"/>
<text text-anchor="middle" x="1182.5503" y="-614.7523" font-family="Times,serif" font-size="14.00" fill="#000000">completeSendMarkersForTxnId</text>
<polyline fill="none" stroke="#000000" points="1084.7295,-607.9523 1280.3711,-607.9523 "/>
<text text-anchor="start" x="1092.7295" y="-592.7523" font-family="Times,serif" font-size="14.00" fill="#000000">所有marker请求都处理成功了</text>
<text text-anchor="start" x="1092.7295" y="-573.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 写入日志</text>
</g>
<!-- TransactionMarkerRequestCompletionHandler&#45;&gt;completeSendMarkersForTxnId -->
<g id="edge43" class="edge">
<title>TransactionMarkerRequestCompletionHandler&#45;&gt;completeSendMarkersForTxnId</title>
<path fill="none" stroke="#000000" d="M1046.439,-557.4192C1055.9957,-560.0826 1065.4248,-562.7104 1074.5902,-565.2647"/>
<polygon fill="#000000" stroke="#000000" points="1073.8532,-568.6926 1084.4257,-568.0058 1075.7325,-561.9496 1073.8532,-568.6926"/>
</g>
<!-- removeMarkersForTxnId -->
<g id="node32" class="node">
<title>removeMarkersForTxnId</title>
<polygon fill="none" stroke="#000000" points="1261.8406,-540.3524 1103.26,-540.3524 1103.26,-504.3524 1261.8406,-504.3524 1261.8406,-540.3524"/>
<text text-anchor="middle" x="1182.5503" y="-518.1524" font-family="Times,serif" font-size="14.00" fill="#000000">removeMarkersForTxnId</text>
</g>
<!-- TransactionMarkerRequestCompletionHandler&#45;&gt;removeMarkersForTxnId -->
<g id="edge44" class="edge">
<title>TransactionMarkerRequestCompletionHandler&#45;&gt;removeMarkersForTxnId</title>
<path fill="none" stroke="#000000" d="M1046.439,-514.8491C1062.5834,-515.7391 1078.3634,-516.609 1093.1234,-517.4226"/>
<polygon fill="#000000" stroke="#000000" points="1092.9933,-520.9207 1103.1708,-517.9765 1093.3787,-513.9313 1092.9933,-520.9207"/>
</g>
<!-- addTxnMarkersToBrokerQueue -->
<g id="node33" class="node">
<title>addTxnMarkersToBrokerQueue</title>
<polygon fill="none" stroke="#000000" points="1280.4531,-482.3524 1084.6475,-482.3524 1084.6475,-446.3524 1280.4531,-446.3524 1280.4531,-482.3524"/>
<text text-anchor="middle" x="1182.5503" y="-460.1524" font-family="Times,serif" font-size="14.00" fill="#000000">addTxnMarkersToBrokerQueue</text>
</g>
<!-- TransactionMarkerRequestCompletionHandler&#45;&gt;addTxnMarkersToBrokerQueue -->
<g id="edge45" class="edge">
<title>TransactionMarkerRequestCompletionHandler&#45;&gt;addTxnMarkersToBrokerQueue</title>
<path fill="none" stroke="#000000" d="M1046.439,-481.0264C1056.0985,-479.843 1065.6276,-478.6757 1074.8858,-477.5415"/>
<polygon fill="#000000" stroke="#000000" points="1075.3188,-481.0148 1084.819,-476.3247 1074.4676,-474.0667 1075.3188,-481.0148"/>
</g>
<!-- retryLogAppends -->
<g id="node17" class="node">
<title>retryLogAppends</title>
<polygon fill="none" stroke="#000000" points="1757.0623,-702.3524 1642.5578,-702.3524 1642.5578,-666.3524 1757.0623,-666.3524 1757.0623,-702.3524"/>
<text text-anchor="middle" x="1699.8101" y="-680.1524" font-family="Times,serif" font-size="14.00" fill="#000000">retryLogAppends</text>
</g>
<!-- txnLogAppendRetryQueue -->
<g id="node18" class="node">
<title>txnLogAppendRetryQueue</title>
<polygon fill="#95e1d3" stroke="#000000" points="2770.6577,-450.3524 2605.8423,-450.3524 2601.8423,-446.3524 2601.8423,-414.3524 2766.6577,-414.3524 2770.6577,-418.3524 2770.6577,-450.3524"/>
<polyline fill="none" stroke="#000000" points="2766.6577,-446.3524 2601.8423,-446.3524 "/>
<polyline fill="none" stroke="#000000" points="2766.6577,-446.3524 2766.6577,-414.3524 "/>
<polyline fill="none" stroke="#000000" points="2766.6577,-446.3524 2770.6577,-450.3524 "/>
<text text-anchor="middle" x="2686.25" y="-428.1524" font-family="Times,serif" font-size="14.00" fill="#000000">txnLogAppendRetryQueue</text>
</g>
<!-- retryLogAppends&#45;&gt;txnLogAppendRetryQueue -->
<g id="edge12" class="edge">
<title>retryLogAppends&#45;&gt;txnLogAppendRetryQueue</title>
<path fill="none" stroke="#000000" d="M1757.3232,-700.2293C1903.9808,-736.9326 2296.1804,-810.8229 2521.2061,-622.3524 2570.4592,-581.1004 2514.5339,-530.3804 2557.2061,-482.3524 2567.7784,-470.4531 2581.521,-461.3641 2596.085,-454.4276"/>
<polygon fill="#000000" stroke="#000000" points="2597.5074,-457.6256 2605.2383,-450.381 2594.677,-451.2234 2597.5074,-457.6256"/>
</g>
<!-- TxnIdAndMarkerEntry -->
<g id="node19" class="node">
<title>TxnIdAndMarkerEntry</title>
<polygon fill="#95e1d3" stroke="#000000" points="2276.4893,-546.3524 2276.4893,-612.3524 2484.6816,-612.3524 2484.6816,-546.3524 2276.4893,-546.3524"/>
<text text-anchor="middle" x="2380.5854" y="-597.1524" font-family="Times,serif" font-size="14.00" fill="#000000">TxnIdAndMarkerEntry</text>
<polyline fill="none" stroke="#000000" points="2276.4893,-590.3524 2484.6816,-590.3524 "/>
<text text-anchor="middle" x="2380.5854" y="-575.1524" font-family="Times,serif" font-size="14.00" fill="#000000">txnId: String</text>
<polyline fill="none" stroke="#000000" points="2276.4893,-568.3524 2484.6816,-568.3524 "/>
<text text-anchor="middle" x="2380.5854" y="-553.1524" font-family="Times,serif" font-size="14.00" fill="#000000">txnMarkerEntry: TxnMarkerEntry</text>
</g>
<!-- TxnMarkerEntry -->
<g id="node20" class="node">
<title>TxnMarkerEntry</title>
<polygon fill="#95e1d3" stroke="#000000" points="2610.2598,-491.3524 2610.2598,-623.3524 2762.2402,-623.3524 2762.2402,-491.3524 2610.2598,-491.3524"/>
<text text-anchor="middle" x="2686.25" y="-608.1524" font-family="Times,serif" font-size="14.00" fill="#000000">TxnMarkerEntry</text>
<polyline fill="none" stroke="#000000" points="2610.2598,-601.3524 2762.2402,-601.3524 "/>
<text text-anchor="middle" x="2686.25" y="-586.1524" font-family="Times,serif" font-size="14.00" fill="#000000">producerId long</text>
<polyline fill="none" stroke="#000000" points="2610.2598,-579.3524 2762.2402,-579.3524 "/>
<text text-anchor="middle" x="2686.25" y="-564.1524" font-family="Times,serif" font-size="14.00" fill="#000000">producerEpoch short</text>
<polyline fill="none" stroke="#000000" points="2610.2598,-557.3524 2762.2402,-557.3524 "/>
<text text-anchor="middle" x="2686.25" y="-542.1524" font-family="Times,serif" font-size="14.00" fill="#000000">coordinatorEpoch int</text>
<polyline fill="none" stroke="#000000" points="2610.2598,-535.3524 2762.2402,-535.3524 "/>
<text text-anchor="middle" x="2686.25" y="-520.1524" font-family="Times,serif" font-size="14.00" fill="#000000">TransactionResult result</text>
<polyline fill="none" stroke="#000000" points="2610.2598,-513.3524 2762.2402,-513.3524 "/>
<text text-anchor="start" x="2618.2598" y="-498.1524" font-family="Times,serif" font-size="14.00" fill="#000000">partitions </text>
</g>
<!-- TxnIdAndMarkerEntry&#45;&gt;TxnMarkerEntry -->
<g id="edge28" class="edge">
<title>TxnIdAndMarkerEntry:entry&#45;&gt;TxnMarkerEntry</title>
<path fill="none" stroke="#000000" d="M2484.5854,-557.3524C2522.3463,-557.3524 2564.0843,-557.3524 2599.7459,-557.3524"/>
<polygon fill="#000000" stroke="#000000" points="2600.1193,-560.8525 2610.1193,-557.3524 2600.1193,-553.8525 2600.1193,-560.8525"/>
</g>
<!-- markersPerTxnTopicPartition -->
<g id="node21" class="node">
<title>markersPerTxnTopicPartition</title>
<polygon fill="#95e1d3" stroke="#000000" points="1900.0215,-568.3524 1900.0215,-612.3524 2171.0566,-612.3524 2171.0566,-568.3524 1900.0215,-568.3524"/>
<text text-anchor="middle" x="2035.5391" y="-597.1524" font-family="Times,serif" font-size="14.00" fill="#000000">markersPerTxnTopicPartition</text>
<polyline fill="none" stroke="#000000" points="1900.0215,-590.3524 2171.0566,-590.3524 "/>
<text text-anchor="middle" x="2035.5391" y="-575.1524" font-family="Times,serif" font-size="14.00" fill="#000000">[Int, BlockingQueue[TxnIdAndMarkerEntry]</text>
</g>
<!-- markersPerTxnTopicPartition&#45;&gt;TxnIdAndMarkerEntry -->
<g id="edge29" class="edge">
<title>markersPerTxnTopicPartition:txn&#45;&gt;TxnIdAndMarkerEntry</title>
<path fill="none" stroke="#000000" d="M2171.5391,-579.3524C2202.1894,-579.3524 2235.3677,-579.3524 2266.0702,-579.3524"/>
<polygon fill="#000000" stroke="#000000" points="2266.3803,-582.8525 2276.3802,-579.3524 2266.3802,-575.8525 2266.3803,-582.8525"/>
</g>
<!-- addTxnMarkersToSend -->
<g id="node22" class="node">
<title>addTxnMarkersToSend</title>
<polygon fill="#f38181" stroke="#000000" points="769.481,-381.5524 769.481,-431.1524 942.5708,-431.1524 942.5708,-381.5524 769.481,-381.5524"/>
<text text-anchor="middle" x="856.0259" y="-415.9524" font-family="Times,serif" font-size="14.00" fill="#000000">addTxnMarkersToSend</text>
<polyline fill="none" stroke="#000000" points="769.481,-409.1524 942.5708,-409.1524 "/>
<text text-anchor="middle" x="856.0259" y="-393.9524" font-family="Times,serif" font-size="14.00" fill="#000000">将txnMarker加入发送队列</text>
</g>
<!-- addTxnMarkersToSend&#45;&gt;addTxnMarkersToBrokerQueue -->
<g id="edge19" class="edge">
<title>addTxnMarkersToSend&#45;&gt;addTxnMarkersToBrokerQueue</title>
<path fill="none" stroke="#000000" d="M942.6027,-418.872C977.4097,-424.1686 1017.8724,-430.6581 1054.3848,-437.3524 1065.9175,-439.4668 1078.004,-441.8249 1089.9532,-444.2426"/>
<polygon fill="#000000" stroke="#000000" points="1089.4449,-447.7109 1099.9432,-446.2834 1090.8461,-440.8526 1089.4449,-447.7109"/>
</g>
<!-- tryCompleteElseWatch -->
<g id="node34" class="node">
<title>tryCompleteElseWatch</title>
<polygon fill="none" stroke="#000000" points="1255.058,-420.3524 1110.0426,-420.3524 1110.0426,-384.3524 1255.058,-384.3524 1255.058,-420.3524"/>
<text text-anchor="middle" x="1182.5503" y="-398.1524" font-family="Times,serif" font-size="14.00" fill="#000000">tryCompleteElseWatch</text>
</g>
<!-- addTxnMarkersToSend&#45;&gt;tryCompleteElseWatch -->
<g id="edge20" class="edge">
<title>addTxnMarkersToSend&#45;&gt;tryCompleteElseWatch</title>
<path fill="none" stroke="#000000" d="M942.6712,-405.291C991.3543,-404.6946 1051.792,-403.9542 1099.8226,-403.3658"/>
<polygon fill="#000000" stroke="#000000" points="1099.9185,-406.865 1109.8749,-403.2427 1099.8327,-399.8655 1099.9185,-406.865"/>
</g>
<!-- checkAndComplete -->
<g id="node30" class="node">
<title>checkAndComplete</title>
<polygon fill="none" stroke="#000000" points="1489.298,-633.3524 1361.9247,-633.3524 1361.9247,-597.3524 1489.298,-597.3524 1489.298,-633.3524"/>
<text text-anchor="middle" x="1425.6113" y="-611.1524" font-family="Times,serif" font-size="14.00" fill="#000000">checkAndComplete</text>
</g>
<!-- completeSendMarkersForTxnId&#45;&gt;checkAndComplete -->
<g id="edge13" class="edge">
<title>completeSendMarkersForTxnId&#45;&gt;checkAndComplete</title>
<path fill="none" stroke="#000000" d="M1280.7119,-603.4295C1304.4772,-605.385 1329.4814,-607.4425 1351.902,-609.2873"/>
<polygon fill="#000000" stroke="#000000" points="1351.7545,-612.7869 1362.0079,-610.1189 1352.3286,-605.8105 1351.7545,-612.7869"/>
</g>
<!-- generateRequests -->
<g id="node24" class="node">
<title>generateRequests</title>
<polygon fill="none" stroke="#000000" points="240.0396,-596.7525 240.0396,-665.9523 377.1792,-665.9523 377.1792,-596.7525 240.0396,-596.7525"/>
<text text-anchor="middle" x="308.6094" y="-650.7523" font-family="Times,serif" font-size="14.00" fill="#000000">generateRequests</text>
<polyline fill="none" stroke="#000000" points="240.0396,-643.9523 377.1792,-643.9523 "/>
<text text-anchor="start" x="248.0396" y="-628.7523" font-family="Times,serif" font-size="14.00" fill="#000000">遍历marker队列</text>
<text text-anchor="start" x="248.0396" y="-609.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 生成WriteMark请求</text>
</g>
<!-- drainQueuedTransactionMarkers -->
<g id="node29" class="node">
<title>drainQueuedTransactionMarkers</title>
<polygon fill="none" stroke="#000000" points="415.3428,-596.7525 415.3428,-665.9523 629.667,-665.9523 629.667,-596.7525 415.3428,-596.7525"/>
<text text-anchor="middle" x="522.5049" y="-650.7523" font-family="Times,serif" font-size="14.00" fill="#000000">drainQueuedTransactionMarkers</text>
<polyline fill="none" stroke="#000000" points="415.3428,-643.9523 629.667,-643.9523 "/>
<text text-anchor="start" x="423.3428" y="-628.7523" font-family="Times,serif" font-size="14.00" fill="#000000">从各种队列中生成TxnMarks请求</text>
<text text-anchor="start" x="423.3428" y="-609.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 并设置请求回调</text>
</g>
<!-- generateRequests&#45;&gt;drainQueuedTransactionMarkers -->
<g id="edge30" class="edge">
<title>generateRequests&#45;&gt;drainQueuedTransactionMarkers</title>
<path fill="none" stroke="#000000" d="M377.4646,-631.3524C386.3436,-631.3524 395.6254,-631.3524 405.0168,-631.3524"/>
<polygon fill="#000000" stroke="#000000" points="405.2365,-634.8525 415.2365,-631.3524 405.2364,-627.8525 405.2365,-634.8525"/>
</g>
<!-- WriteTxnMarkersRequest -->
<g id="node25" class="node">
<title>WriteTxnMarkersRequest</title>
<polygon fill="none" stroke="#000000" points="775.2163,-623.7525 775.2163,-692.9523 936.8354,-692.9523 936.8354,-623.7525 775.2163,-623.7525"/>
<text text-anchor="middle" x="856.0259" y="-677.7523" font-family="Times,serif" font-size="14.00" fill="#000000">WriteTxnMarkersRequest</text>
<polyline fill="none" stroke="#000000" points="775.2163,-670.9523 936.8354,-670.9523 "/>
<text text-anchor="start" x="783.2163" y="-655.7523" font-family="Times,serif" font-size="14.00" fill="#000000">生成对broker的</text>
<text text-anchor="start" x="783.2163" y="-636.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> WriteTxnMarkers请求</text>
</g>
<!-- appendCallback&#45;&gt;txnLogAppendRetryQueue -->
<g id="edge18" class="edge">
<title>appendCallback&#45;&gt;txnLogAppendRetryQueue</title>
<path fill="none" stroke="#000000" d="M2521.3397,-429.1153C2545.2535,-429.5847 2569.5643,-430.0619 2591.9103,-430.5006"/>
<polygon fill="#000000" stroke="#000000" points="2591.9638,-434.0022 2602.0306,-430.6992 2592.1012,-427.0035 2591.9638,-434.0022"/>
</g>
<!-- sendTxnMarkersCallback&#45;&gt;prepareComplete -->
<g id="edge46" class="edge">
<title>sendTxnMarkersCallback&#45;&gt;prepareComplete</title>
<path fill="none" stroke="#000000" d="M593.5127,-529.3936C607.4023,-547.2339 620.488,-567.0445 629.667,-587.3524 660.4833,-655.5314 604.3136,-700.8983 657.667,-753.3524 691.6965,-786.8083 746.121,-793.0456 789.361,-791.6163"/>
<polygon fill="#000000" stroke="#000000" points="789.7054,-795.104 799.5286,-791.1348 789.3742,-788.1118 789.7054,-795.104"/>
</g>
<!-- sendTxnMarkersCallback&#45;&gt;addTxnMarkersToSend -->
<g id="edge48" class="edge">
<title>sendTxnMarkersCallback&#45;&gt;addTxnMarkersToSend</title>
<path fill="none" stroke="#000000" d="M628.033,-439.8485C670.0819,-433.6708 718.1624,-426.6069 759.2963,-420.5636"/>
<polygon fill="#000000" stroke="#000000" points="759.9371,-424.0072 769.3221,-419.0907 758.9196,-417.0815 759.9371,-424.0072"/>
</g>
<!-- tryAppendToLog -->
<g id="node28" class="node">
<title>tryAppendToLog</title>
<polygon fill="none" stroke="#000000" points="1867.1133,-388.7525 1867.1133,-457.9523 2203.9648,-457.9523 2203.9648,-388.7525 1867.1133,-388.7525"/>
<text text-anchor="middle" x="2035.5391" y="-442.7523" font-family="Times,serif" font-size="14.00" fill="#000000">tryAppendToLog</text>
<polyline fill="none" stroke="#000000" points="1867.1133,-435.9523 2203.9648,-435.9523 "/>
<text text-anchor="start" x="1875.1133" y="-420.7523" font-family="Times,serif" font-size="14.00" fill="#000000">尝试写入Complete事务日志</text>
<text text-anchor="start" x="1875.1133" y="-401.1524" font-family="Times,serif" font-size="14.00" fill="#000000"> 如果遇到COORDINATOR_NOT_AVAILABLE就重试</text>
</g>
<!-- tryAppendToLog&#45;&gt;appendTransactionToLog -->
<g id="edge16" class="edge">
<title>tryAppendToLog&#45;&gt;appendTransactionToLog</title>
<path fill="none" stroke="#000000" d="M2166.3335,-388.7484C2179.4709,-383.135 2192.263,-376.7012 2203.9648,-369.3524 2264.2434,-331.4969 2318.1051,-268.4002 2350.0628,-226.3414"/>
<polygon fill="#000000" stroke="#000000" points="2352.9523,-228.3221 2356.1577,-218.2238 2347.3545,-224.1191 2352.9523,-228.3221"/>
</g>
<!-- tryAppendToLog&#45;&gt;appendCallback -->
<g id="edge17" class="edge">
<title>tryAppendToLog&#45;&gt;appendCallback</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2204.0191,-424.8172C2212.5325,-424.8913 2221.0591,-424.9654 2229.5158,-425.0389"/>
<polygon fill="#000000" stroke="#000000" points="2229.7608,-428.5411 2239.7909,-425.1283 2229.8217,-421.5414 2229.7608,-428.5411"/>
</g>
<!-- drainQueuedTransactionMarkers&#45;&gt;TransactionMarkerRequestCompletionHandler -->
<g id="edge35" class="edge">
<title>drainQueuedTransactionMarkers&#45;&gt;TransactionMarkerRequestCompletionHandler</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M585.7243,-596.6395C608.0629,-585.1579 633.6159,-572.8923 657.667,-563.3524 658.5437,-563.0047 659.4232,-562.6579 660.3055,-562.312"/>
<polygon fill="#000000" stroke="#000000" points="661.776,-565.4965 669.8559,-558.6433 659.2658,-558.9621 661.776,-565.4965"/>
</g>
<!-- drainQueuedTransactionMarkers&#45;&gt;retryLogAppends -->
<g id="edge33" class="edge">
<title>drainQueuedTransactionMarkers&#45;&gt;retryLogAppends</title>
<path fill="none" stroke="#000000" d="M574.0495,-665.9737C598.3174,-680.2447 628.3293,-695.1158 657.667,-702.3524 1015.9989,-790.741 1464.8571,-726.8635 1632.5431,-697.2397"/>
<polygon fill="#000000" stroke="#000000" points="1633.2353,-700.6716 1642.4647,-695.4687 1632.0052,-693.7805 1633.2353,-700.6716"/>
</g>
<!-- drainQueuedTransactionMarkers&#45;&gt;WriteTxnMarkersRequest -->
<g id="edge34" class="edge">
<title>drainQueuedTransactionMarkers&#45;&gt;WriteTxnMarkersRequest</title>
<path fill="none" stroke="#000000" d="M629.8689,-640.044C673.4096,-643.5688 723.1645,-647.5967 764.8999,-650.9754"/>
<polygon fill="#000000" stroke="#000000" points="764.8021,-654.4788 775.052,-651.7972 765.367,-647.5016 764.8021,-654.4788"/>
</g>
<!-- forEachTxnTopicPartition -->
<g id="node40" class="node">
<title>forEachTxnTopicPartition</title>
<polygon fill="none" stroke="#000000" points="1781.0642,-642.3524 1618.556,-642.3524 1618.556,-606.3524 1781.0642,-606.3524 1781.0642,-642.3524"/>
<text text-anchor="middle" x="1699.8101" y="-620.1524" font-family="Times,serif" font-size="14.00" fill="#000000">forEachTxnTopicPartition</text>
</g>
<!-- drainQueuedTransactionMarkers&#45;&gt;forEachTxnTopicPartition -->
<g id="edge31" class="edge">
<title>drainQueuedTransactionMarkers&#45;&gt;forEachTxnTopicPartition</title>
<path fill="none" stroke="#000000" d="M629.7361,-616.623C639.1681,-615.7042 648.5794,-614.9217 657.667,-614.3524 701.6605,-611.5966 1013.1998,-598.6417 1054.3848,-614.3524 1069.9721,-620.2984 1066.8355,-633.3075 1082.3848,-639.3524 1180.2912,-677.4139 1213.6734,-641.6857 1318.7158,-642.3524 1413.7321,-642.9554 1437.625,-647.4418 1532.5068,-642.3524 1557.1202,-641.0321 1583.683,-638.6268 1608.2364,-635.9952"/>
<polygon fill="#000000" stroke="#000000" points="1608.7012,-639.4653 1618.2604,-634.8967 1607.9387,-632.5069 1608.7012,-639.4653"/>
</g>
<!-- appendToLogCallback -->
<g id="node31" class="node">
<title>appendToLogCallback</title>
<polygon fill="none" stroke="#000000" points="1771.6229,-441.3524 1627.9972,-441.3524 1627.9972,-405.3524 1771.6229,-405.3524 1771.6229,-441.3524"/>
<text text-anchor="middle" x="1699.8101" y="-419.1524" font-family="Times,serif" font-size="14.00" fill="#000000">appendToLogCallback</text>
</g>
<!-- checkAndComplete&#45;&gt;appendToLogCallback -->
<g id="edge14" class="edge">
<title>checkAndComplete&#45;&gt;appendToLogCallback</title>
<path fill="none" stroke="#000000" d="M1489.4469,-607.7862C1504.6003,-603.7707 1519.9838,-597.6548 1532.5068,-588.3524 1557.4713,-569.8082 1548.0399,-551.7664 1568.5068,-528.3524 1596.5349,-496.2884 1635.2664,-466.6658 1663.3959,-447.1174"/>
<polygon fill="#000000" stroke="#000000" points="1665.4927,-449.9235 1671.7618,-441.3825 1661.5347,-444.1498 1665.4927,-449.9235"/>
</g>
<!-- appendToLogCallback&#45;&gt;tryAppendToLog -->
<g id="edge15" class="edge">
<title>appendToLogCallback&#45;&gt;tryAppendToLog</title>
<path fill="none" stroke="#000000" d="M1771.8324,-423.3524C1797.1055,-423.3524 1826.7376,-423.3524 1856.8363,-423.3524"/>
<polygon fill="#000000" stroke="#000000" points="1857.056,-426.8525 1867.056,-423.3524 1857.0559,-419.8525 1857.056,-426.8525"/>
</g>
<!-- cancelForKey -->
<g id="node39" class="node">
<title>cancelForKey</title>
<polygon fill="none" stroke="#000000" points="1472.6301,-579.3524 1378.5925,-579.3524 1378.5925,-543.3524 1472.6301,-543.3524 1472.6301,-579.3524"/>
<text text-anchor="middle" x="1425.6113" y="-557.1524" font-family="Times,serif" font-size="14.00" fill="#000000">cancelForKey</text>
</g>
<!-- removeMarkersForTxnId&#45;&gt;cancelForKey -->
<g id="edge27" class="edge">
<title>removeMarkersForTxnId&#45;&gt;cancelForKey</title>
<path fill="none" stroke="#000000" d="M1261.8012,-535.0685C1296.553,-540.6445 1336.5738,-547.066 1368.3585,-552.166"/>
<polygon fill="#000000" stroke="#000000" points="1367.9435,-555.6441 1378.3717,-553.7726 1369.0525,-548.7325 1367.9435,-555.6441"/>
</g>
<!-- addMarkersForBroker -->
<g id="node36" class="node">
<title>addMarkersForBroker</title>
<polygon fill="none" stroke="#000000" points="1496.298,-471.3524 1354.9247,-471.3524 1354.9247,-435.3524 1496.298,-435.3524 1496.298,-471.3524"/>
<text text-anchor="middle" x="1425.6113" y="-449.1524" font-family="Times,serif" font-size="14.00" fill="#000000">addMarkersForBroker</text>
</g>
<!-- addTxnMarkersToBrokerQueue&#45;&gt;addMarkersForBroker -->
<g id="edge23" class="edge">
<title>addTxnMarkersToBrokerQueue&#45;&gt;addMarkersForBroker</title>
<path fill="none" stroke="#000000" d="M1280.3619,-459.9258C1301.7877,-458.9562 1324.2368,-457.9402 1344.9039,-457.0049"/>
<polygon fill="#000000" stroke="#000000" points="1345.0626,-460.5014 1354.8941,-456.5528 1344.746,-453.5086 1345.0626,-460.5014"/>
</g>
<!-- markersQueueForUnknownBroker -->
<g id="node37" class="node">
<title>markersQueueForUnknownBroker</title>
<polygon fill="none" stroke="#000000" points="1531.2843,-525.3524 1319.9384,-525.3524 1319.9384,-489.3524 1531.2843,-489.3524 1531.2843,-525.3524"/>
<text text-anchor="middle" x="1425.6113" y="-503.1524" font-family="Times,serif" font-size="14.00" fill="#000000">markersQueueForUnknownBroker</text>
</g>
<!-- addTxnMarkersToBrokerQueue&#45;&gt;markersQueueForUnknownBroker -->
<g id="edge24" class="edge">
<title>addTxnMarkersToBrokerQueue&#45;&gt;markersQueueForUnknownBroker</title>
<path fill="none" stroke="#000000" d="M1280.3619,-481.6563C1291.2695,-483.586 1302.4425,-485.5626 1313.5104,-487.5206"/>
<polygon fill="#000000" stroke="#000000" points="1313.1779,-491.016 1323.6348,-489.3117 1314.3974,-484.1231 1313.1779,-491.016"/>
</g>
<!-- DelayedTxnMarker -->
<g id="node35" class="node">
<title>DelayedTxnMarker</title>
<polygon fill="none" stroke="#000000" points="1489.0055,-417.3524 1362.2172,-417.3524 1362.2172,-381.3524 1489.0055,-381.3524 1489.0055,-417.3524"/>
<text text-anchor="middle" x="1425.6113" y="-395.1524" font-family="Times,serif" font-size="14.00" fill="#000000">DelayedTxnMarker</text>
</g>
<!-- tryCompleteElseWatch&#45;&gt;DelayedTxnMarker -->
<g id="edge21" class="edge">
<title>tryCompleteElseWatch&#45;&gt;DelayedTxnMarker</title>
<path fill="none" stroke="#000000" d="M1255.1474,-401.4564C1285.6874,-401.0794 1321.1768,-400.6414 1351.8417,-400.2629"/>
<polygon fill="#000000" stroke="#000000" points="1352.086,-403.7603 1362.042,-400.137 1351.9995,-396.7608 1352.086,-403.7603"/>
</g>
<!-- DelayedTxnMarker&#45;&gt;appendToLogCallback -->
<g id="edge22" class="edge">
<title>DelayedTxnMarker&#45;&gt;appendToLogCallback</title>
<path fill="none" stroke="#000000" d="M1488.8623,-404.8886C1527.1437,-408.2393 1576.374,-412.5483 1617.6461,-416.1608"/>
<polygon fill="#000000" stroke="#000000" points="1617.415,-419.6538 1627.6822,-417.0392 1618.0255,-412.6805 1617.415,-419.6538"/>
</g>
<!-- addMarkers -->
<g id="node38" class="node">
<title>addMarkers</title>
<polygon fill="none" stroke="#000000" points="1741.1725,-573.3524 1658.4476,-573.3524 1658.4476,-537.3524 1741.1725,-537.3524 1741.1725,-573.3524"/>
<text text-anchor="middle" x="1699.8101" y="-551.1524" font-family="Times,serif" font-size="14.00" fill="#000000">addMarkers</text>
</g>
<!-- addMarkersForBroker&#45;&gt;addMarkers -->
<g id="edge25" class="edge">
<title>addMarkersForBroker&#45;&gt;addMarkers</title>
<path fill="none" stroke="#000000" d="M1496.2773,-469.3486C1508.4684,-472.6337 1520.9352,-476.3316 1532.5068,-480.3524 1575.2436,-495.2021 1622.0983,-516.6824 1655.3238,-532.8526"/>
<polygon fill="#000000" stroke="#000000" points="1653.7992,-536.0031 1664.3189,-537.2627 1656.8807,-529.7179 1653.7992,-536.0031"/>
</g>
<!-- addMarkers&#45;&gt;markersPerTxnTopicPartition -->
<g id="edge26" class="edge">
<title>addMarkers&#45;&gt;markersPerTxnTopicPartition</title>
<path fill="none" stroke="#000000" d="M1741.3137,-559.6792C1778.6397,-563.5704 1835.7501,-569.5243 1889.7572,-575.1545"/>
<polygon fill="#000000" stroke="#000000" points="1889.4909,-578.6456 1899.7999,-576.2015 1890.2168,-571.6834 1889.4909,-578.6456"/>
</g>
<!-- forEachTxnTopicPartition&#45;&gt;markersPerTxnTopicPartition -->
<g id="edge32" class="edge">
<title>forEachTxnTopicPartition&#45;&gt;markersPerTxnTopicPartition</title>
<path fill="none" stroke="#000000" d="M1781.0807,-616.1219C1813.859,-612.8024 1852.7034,-608.8686 1890.0443,-605.087"/>
<polygon fill="#000000" stroke="#000000" points="1890.417,-608.5672 1900.0134,-604.0774 1889.7116,-601.6028 1890.417,-608.5672"/>
</g>
<!-- doWork -->
<g id="node41" class="node">
<title>doWork</title>
<polygon fill="#f38181" stroke="#000000" points="16,-606.5524 16,-656.1524 196.876,-656.1524 196.876,-606.5524 16,-606.5524"/>
<text text-anchor="middle" x="106.438" y="-640.9524" font-family="Times,serif" font-size="14.00" fill="#000000">doWork</text>
<polyline fill="none" stroke="#000000" points="16,-634.1524 196.876,-634.1524 "/>
<text text-anchor="middle" x="106.438" y="-618.9524" font-family="Times,serif" font-size="14.00" fill="#000000">Broker之间发送请求的线程</text>
</g>
<!-- doWork&#45;&gt;generateRequests -->
<g id="edge36" class="edge">
<title>doWork&#45;&gt;generateRequests</title>
<path fill="none" stroke="#000000" d="M196.8799,-631.3524C207.795,-631.3524 218.8776,-631.3524 229.6109,-631.3524"/>
<polygon fill="#000000" stroke="#000000" points="229.7776,-634.8525 239.7776,-631.3524 229.7776,-627.8525 229.7776,-634.8525"/>
</g>
<!-- handleEndTransaction -->
<g id="node42" class="node">
<title>handleEndTransaction</title>
<polygon fill="none" stroke="#000000" points="379.5769,-66.3524 237.6418,-66.3524 237.6418,-30.3524 379.5769,-30.3524 379.5769,-66.3524"/>
<text text-anchor="middle" x="308.6094" y="-44.1524" font-family="Times,serif" font-size="14.00" fill="#000000">handleEndTransaction</text>
</g>
<!-- handleEndTransaction&#45;&gt;appendTransactionToLog -->
<g id="edge37" class="edge">
<title>handleEndTransaction&#45;&gt;appendTransactionToLog</title>
<path fill="none" stroke="#000000" d="M370.8244,-30.3393C385.3223,-26.7777 400.7805,-23.4852 415.3428,-21.3524 609.3145,7.0572 659.9848,-2.3524 856.0259,-2.3524 856.0259,-2.3524 856.0259,-2.3524 1699.8101,-2.3524 1928.5967,-2.3524 1985.8943,-37.1529 2203.9648,-106.3524 2236.4714,-116.6676 2271.0994,-130.9793 2301.0033,-144.4683"/>
<polygon fill="#000000" stroke="#000000" points="2299.5733,-147.6629 2310.1246,-148.6228 2302.4749,-141.2925 2299.5733,-147.6629"/>
</g>
<!-- handleEndTransaction&#45;&gt;sendTxnMarkersCallback -->
<g id="edge40" class="edge">
<title>handleEndTransaction&#45;&gt;sendTxnMarkersCallback</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M325.543,-66.5378C340.8933,-83.6475 363.4769,-110.4422 379.3428,-136.3524 425.7971,-212.2159 465.9788,-305.7557 491.847,-371.8759"/>
<polygon fill="#000000" stroke="#000000" points="488.6741,-373.374 495.5588,-381.427 495.1987,-370.8383 488.6741,-373.374"/>
</g>
<!-- prepareAbortOrCommit -->
<g id="node43" class="node">
<title>prepareAbortOrCommit</title>
<polygon fill="none" stroke="#000000" points="598.302,-66.3524 446.7077,-66.3524 446.7077,-30.3524 598.302,-30.3524 598.302,-66.3524"/>
<text text-anchor="middle" x="522.5049" y="-44.1524" font-family="Times,serif" font-size="14.00" fill="#000000">prepareAbortOrCommit</text>
</g>
<!-- handleEndTransaction&#45;&gt;prepareAbortOrCommit -->
<g id="edge38" class="edge">
<title>handleEndTransaction&#45;&gt;prepareAbortOrCommit</title>
<path fill="none" stroke="#000000" d="M379.5364,-48.3524C397.7818,-48.3524 417.6108,-48.3524 436.5287,-48.3524"/>
<polygon fill="#000000" stroke="#000000" points="436.6259,-51.8525 446.6258,-48.3524 436.6258,-44.8525 436.6259,-51.8525"/>
</g>
<!-- handleEndTxnRequest -->
<g id="node44" class="node">
<title>handleEndTxnRequest</title>
<polygon fill="none" stroke="#000000" points="177.9632,-66.3524 34.9128,-66.3524 34.9128,-30.3524 177.9632,-30.3524 177.9632,-66.3524"/>
<text text-anchor="middle" x="106.438" y="-44.1524" font-family="Times,serif" font-size="14.00" fill="#000000">handleEndTxnRequest</text>
</g>
<!-- handleEndTxnRequest&#45;&gt;handleEndTransaction -->
<g id="edge39" class="edge">
<title>handleEndTxnRequest&#45;&gt;handleEndTransaction</title>
<path fill="none" stroke="#000000" d="M178.0006,-48.3524C194.0861,-48.3524 211.2649,-48.3524 227.7017,-48.3524"/>
<polygon fill="#000000" stroke="#000000" points="227.8237,-51.8525 237.8237,-48.3524 227.8236,-44.8525 227.8237,-51.8525"/>
</g>
</g>
</svg>
