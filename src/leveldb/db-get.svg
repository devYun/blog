<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: db_get Pages: 1 -->
<svg width="2519pt" height="1547pt"
 viewBox="0.00 0.00 2519.00 1547.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1543)">
<title>db_get</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1543 2515,-1543 2515,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_VersionSet</title>
<path fill="none" stroke="#000000" d="M285.5,-1249C285.5,-1249 655,-1249 655,-1249 661,-1249 667,-1255 667,-1261 667,-1261 667,-1375 667,-1375 667,-1381 661,-1387 655,-1387 655,-1387 285.5,-1387 285.5,-1387 279.5,-1387 273.5,-1381 273.5,-1375 273.5,-1375 273.5,-1261 273.5,-1261 273.5,-1255 279.5,-1249 285.5,-1249"/>
<text text-anchor="middle" x="470.25" y="-1367" font-family="Times,serif" font-size="20.00" fill="#000000">VersionSet</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Table</title>
<path fill="none" stroke="#000000" d="M1510,-336C1510,-336 2491,-336 2491,-336 2497,-336 2503,-342 2503,-348 2503,-348 2503,-843 2503,-843 2503,-849 2497,-855 2491,-855 2491,-855 1510,-855 1510,-855 1504,-855 1498,-849 1498,-843 1498,-843 1498,-348 1498,-348 1498,-342 1504,-336 1510,-336"/>
<text text-anchor="middle" x="2000.5" y="-835" font-family="Times,serif" font-size="20.00" fill="#000000">Table</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_Footer</title>
<path fill="none" stroke="#000000" d="M2116,-344C2116,-344 2196,-344 2196,-344 2202,-344 2208,-350 2208,-356 2208,-356 2208,-425 2208,-425 2208,-431 2202,-437 2196,-437 2196,-437 2116,-437 2116,-437 2110,-437 2104,-431 2104,-425 2104,-425 2104,-356 2104,-356 2104,-350 2110,-344 2116,-344"/>
<text text-anchor="middle" x="2156" y="-417" font-family="Times,serif" font-size="20.00" fill="#000000">Footer</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_SkipList</title>
<path fill="none" stroke="#000000" d="M776,-1249C776,-1249 1380.5,-1249 1380.5,-1249 1386.5,-1249 1392.5,-1255 1392.5,-1261 1392.5,-1261 1392.5,-1427 1392.5,-1427 1392.5,-1433 1386.5,-1439 1380.5,-1439 1380.5,-1439 776,-1439 776,-1439 770,-1439 764,-1433 764,-1427 764,-1427 764,-1261 764,-1261 764,-1255 770,-1249 776,-1249"/>
<text text-anchor="middle" x="1078.25" y="-1419" font-family="Times,serif" font-size="20.00" fill="#000000">SkipList</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_MemTable</title>
<path fill="none" stroke="#000000" d="M279.5,-1079C279.5,-1079 879.5,-1079 879.5,-1079 885.5,-1079 891.5,-1085 891.5,-1091 891.5,-1091 891.5,-1229 891.5,-1229 891.5,-1235 885.5,-1241 879.5,-1241 879.5,-1241 279.5,-1241 279.5,-1241 273.5,-1241 267.5,-1235 267.5,-1229 267.5,-1229 267.5,-1091 267.5,-1091 267.5,-1085 273.5,-1079 279.5,-1079"/>
<text text-anchor="middle" x="579.5" y="-1221" font-family="Times,serif" font-size="20.00" fill="#000000">MemTable</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_TableCache</title>
<path fill="none" stroke="#000000" d="M1196,-8C1196,-8 2047,-8 2047,-8 2053,-8 2059,-14 2059,-20 2059,-20 2059,-316 2059,-316 2059,-322 2053,-328 2047,-328 2047,-328 1196,-328 1196,-328 1190,-328 1184,-322 1184,-316 1184,-316 1184,-20 1184,-20 1184,-14 1190,-8 1196,-8"/>
<text text-anchor="middle" x="1621.5" y="-308" font-family="Times,serif" font-size="20.00" fill="#000000">TableCache</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_Version</title>
<path fill="none" stroke="#000000" d="M212,-863C212,-863 2372.5,-863 2372.5,-863 2378.5,-863 2384.5,-869 2384.5,-875 2384.5,-875 2384.5,-1059 2384.5,-1059 2384.5,-1065 2378.5,-1071 2372.5,-1071 2372.5,-1071 212,-1071 212,-1071 206,-1071 200,-1065 200,-1059 200,-1059 200,-875 200,-875 200,-869 206,-863 212,-863"/>
<text text-anchor="middle" x="1292.25" y="-1051" font-family="Times,serif" font-size="20.00" fill="#000000">Version</text>
</g>
<g id="clust19" class="cluster">
<title>cluster_DBImpl</title>
<path fill="none" stroke="#000000" d="M20,-1395C20,-1395 424,-1395 424,-1395 430,-1395 436,-1401 436,-1407 436,-1407 436,-1519 436,-1519 436,-1525 430,-1531 424,-1531 424,-1531 20,-1531 20,-1531 14,-1531 8,-1525 8,-1519 8,-1519 8,-1407 8,-1407 8,-1401 14,-1395 20,-1395"/>
<text text-anchor="middle" x="222" y="-1511" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<!-- VersionSet_LastSequence -->
<g id="node1" class="node">
<title>VersionSet_LastSequence</title>
<polygon fill="none" stroke="#000000" points="296.5,-1312 296.5,-1348 388.5,-1348 388.5,-1312 296.5,-1312"/>
<text text-anchor="middle" x="342.5" y="-1326.3" font-family="Times,serif" font-size="14.00" fill="#000000">LastSequence</text>
</g>
<!-- last_sequence_ -->
<g id="node2" class="node">
<title>last_sequence_</title>
<polygon fill="none" stroke="#000000" points="659,-1348 561,-1348 561,-1312 659,-1312 659,-1348"/>
<text text-anchor="middle" x="610" y="-1326.3" font-family="Times,serif" font-size="14.00" fill="#000000">last_sequence_</text>
</g>
<!-- VersionSet_LastSequence&#45;&gt;last_sequence_ -->
<g id="edge1" class="edge">
<title>VersionSet_LastSequence&#45;&gt;last_sequence_</title>
<path fill="none" stroke="#000000" d="M388.7896,-1330C433.6028,-1330 501.7424,-1330 550.5486,-1330"/>
<polygon fill="#000000" stroke="#000000" points="550.6545,-1333.5001 560.6545,-1330 550.6545,-1326.5001 550.6545,-1333.5001"/>
</g>
<!-- VersionSet_current -->
<g id="node3" class="node">
<title>VersionSet_current</title>
<polygon fill="none" stroke="#000000" points="403.5,-1293 281.5,-1293 281.5,-1257 403.5,-1257 403.5,-1293"/>
<text text-anchor="middle" x="342.5" y="-1271.3" font-family="Times,serif" font-size="14.00" fill="#000000">VersionSet_current</text>
</g>
<!-- current_ -->
<g id="node4" class="node">
<title>current_</title>
<polygon fill="none" stroke="#000000" points="641,-1293 579,-1293 579,-1257 641,-1257 641,-1293"/>
<text text-anchor="middle" x="610" y="-1271.3" font-family="Times,serif" font-size="14.00" fill="#000000">current_</text>
</g>
<!-- VersionSet_current&#45;&gt;current_ -->
<g id="edge2" class="edge">
<title>VersionSet_current&#45;&gt;current_</title>
<path fill="none" stroke="#000000" d="M403.5346,-1275C454.0698,-1275 524.503,-1275 568.6561,-1275"/>
<polygon fill="#000000" stroke="#000000" points="568.7447,-1278.5001 578.7446,-1275 568.7446,-1271.5001 568.7447,-1278.5001"/>
</g>
<!-- SkipList_Iterator_Seek -->
<g id="node5" class="node">
<title>SkipList_Iterator_Seek</title>
<polygon fill="none" stroke="#000000" points="772,-1260 772,-1296 915,-1296 915,-1260 772,-1260"/>
<text text-anchor="middle" x="843.5" y="-1274.3" font-family="Times,serif" font-size="14.00" fill="#000000">SkipList::Iterator::Seek</text>
</g>
<!-- FindGreaterOrEqual -->
<g id="node6" class="node">
<title>FindGreaterOrEqual</title>
<polygon fill="none" stroke="#000000" points="1004,-1281 1004,-1327 1132,-1327 1132,-1281 1004,-1281"/>
<text text-anchor="middle" x="1068" y="-1311.8" font-family="Times,serif" font-size="14.00" fill="#000000">FindGreaterOrEqual</text>
<polyline fill="none" stroke="#000000" points="1004,-1304 1132,-1304 "/>
<text text-anchor="middle" x="1068" y="-1288.8" font-family="Times,serif" font-size="14.00" fill="#000000">在skiplist中查找</text>
</g>
<!-- SkipList_Iterator_Seek&#45;&gt;FindGreaterOrEqual -->
<g id="edge3" class="edge">
<title>SkipList_Iterator_Seek&#45;&gt;FindGreaterOrEqual</title>
<path fill="none" stroke="#000000" d="M915.1504,-1286.298C940.1885,-1289.1978 968.3412,-1292.4582 993.5984,-1295.3833"/>
<polygon fill="#000000" stroke="#000000" points="993.5212,-1298.8977 1003.8575,-1296.5715 994.3266,-1291.9442 993.5212,-1298.8977"/>
</g>
<!-- GetMaxHeight -->
<g id="node7" class="node">
<title>GetMaxHeight</title>
<polygon fill="none" stroke="#000000" points="1380,-1293 1282,-1293 1282,-1257 1380,-1257 1380,-1293"/>
<text text-anchor="middle" x="1331" y="-1271.3" font-family="Times,serif" font-size="14.00" fill="#000000">GetMaxHeight</text>
</g>
<!-- FindGreaterOrEqual&#45;&gt;GetMaxHeight -->
<g id="edge4" class="edge">
<title>FindGreaterOrEqual&#45;&gt;GetMaxHeight</title>
<path fill="none" stroke="#000000" d="M1132.0007,-1296.9429C1174.5621,-1292.2498 1230.0664,-1286.1296 1271.6397,-1281.5454"/>
<polygon fill="#000000" stroke="#000000" points="1272.0679,-1285.0195 1281.624,-1280.4445 1271.3006,-1278.0617 1272.0679,-1285.0195"/>
</g>
<!-- KeyIsAfterNode -->
<g id="node8" class="node">
<title>KeyIsAfterNode</title>
<polygon fill="none" stroke="#000000" points="1384.5,-1347 1277.5,-1347 1277.5,-1311 1384.5,-1311 1384.5,-1347"/>
<text text-anchor="middle" x="1331" y="-1325.3" font-family="Times,serif" font-size="14.00" fill="#000000">KeyIsAfterNode</text>
</g>
<!-- FindGreaterOrEqual&#45;&gt;KeyIsAfterNode -->
<g id="edge5" class="edge">
<title>FindGreaterOrEqual&#45;&gt;KeyIsAfterNode</title>
<path fill="none" stroke="#000000" d="M1132.0007,-1310.0837C1173.0704,-1313.9877 1226.1917,-1319.0372 1267.2184,-1322.9371"/>
<polygon fill="#000000" stroke="#000000" points="1267.0872,-1326.4403 1277.3736,-1323.9024 1267.7497,-1319.4717 1267.0872,-1326.4403"/>
</g>
<!-- Next -->
<g id="node9" class="node">
<title>Next</title>
<polygon fill="none" stroke="#000000" points="1358,-1401 1304,-1401 1304,-1365 1358,-1365 1358,-1401"/>
<text text-anchor="middle" x="1331" y="-1379.3" font-family="Times,serif" font-size="14.00" fill="#000000">Next</text>
</g>
<!-- FindGreaterOrEqual&#45;&gt;Next -->
<g id="edge6" class="edge">
<title>FindGreaterOrEqual&#45;&gt;Next</title>
<path fill="none" stroke="#000000" d="M1112.7496,-1327.0875C1133.895,-1337.2034 1159.7648,-1348.4624 1184,-1356 1220.5703,-1367.374 1263.836,-1374.6078 1293.9201,-1378.6945"/>
<polygon fill="#000000" stroke="#000000" points="1293.6093,-1382.1836 1303.9789,-1380.0104 1294.5174,-1375.2427 1293.6093,-1382.1836"/>
</g>
<!-- MemTable_Get -->
<g id="node10" class="node">
<title>MemTable_Get</title>
<polygon fill="none" stroke="#000000" points="275.5,-1156 275.5,-1202 409.5,-1202 409.5,-1156 275.5,-1156"/>
<text text-anchor="middle" x="342.5" y="-1186.8" font-family="Times,serif" font-size="14.00" fill="#000000">Get</text>
<polyline fill="none" stroke="#000000" points="275.5,-1179 409.5,-1179 "/>
<text text-anchor="start" x="283.5" y="-1163.8" font-family="Times,serif" font-size="14.00" fill="#000000">从内存SkipList查找</text>
</g>
<!-- memtable_key -->
<g id="node11" class="node">
<title>memtable_key</title>
<polygon fill="none" stroke="#000000" points="539,-1087.5 539,-1148.5 681,-1148.5 681,-1087.5 539,-1087.5"/>
<text text-anchor="middle" x="610" y="-1133.3" font-family="Times,serif" font-size="14.00" fill="#000000">memtable_key</text>
<polyline fill="none" stroke="#000000" points="539,-1125.5 681,-1125.5 "/>
<text text-anchor="start" x="547" y="-1110.3" font-family="Times,serif" font-size="14.00" fill="#000000">将key设为slice</text>
<text text-anchor="start" x="547" y="-1095.3" font-family="Times,serif" font-size="14.00" fill="#000000"> Slice(start, end &#45; start)</text>
</g>
<!-- MemTable_Get&#45;&gt;memtable_key -->
<g id="edge7" class="edge">
<title>MemTable_Get&#45;&gt;memtable_key</title>
<path fill="none" stroke="#000000" d="M409.6563,-1163.6859C445.7414,-1155.4571 490.5092,-1145.2484 528.5678,-1136.5696"/>
<polygon fill="#000000" stroke="#000000" points="529.6275,-1139.9179 538.5991,-1134.2821 528.0712,-1133.0931 529.6275,-1139.9179"/>
</g>
<!-- MemTableIterator_Seek -->
<g id="node12" class="node">
<title>MemTableIterator_Seek</title>
<polygon fill="none" stroke="#000000" points="685,-1203 535,-1203 535,-1167 685,-1167 685,-1203"/>
<text text-anchor="middle" x="610" y="-1181.3" font-family="Times,serif" font-size="14.00" fill="#000000">MemTableIterator_Seek</text>
</g>
<!-- MemTable_Get&#45;&gt;MemTableIterator_Seek -->
<g id="edge8" class="edge">
<title>MemTable_Get&#45;&gt;MemTableIterator_Seek</title>
<path fill="none" stroke="#000000" d="M409.6563,-1180.5063C444.4562,-1181.2869 487.3312,-1182.2486 524.4764,-1183.0817"/>
<polygon fill="#000000" stroke="#000000" points="524.7138,-1186.5878 534.7898,-1183.313 524.8708,-1179.5896 524.7138,-1186.5878"/>
</g>
<!-- MemTableIterator_Seek&#45;&gt;SkipList_Iterator_Seek -->
<g id="edge9" class="edge">
<title>MemTableIterator_Seek&#45;&gt;SkipList_Iterator_Seek</title>
<path fill="none" stroke="#000000" d="M647.0977,-1203.018C673.5275,-1215.5374 710.0611,-1232.2042 743,-1245 753.3933,-1249.0375 764.5096,-1253.0161 775.4214,-1256.7365"/>
<polygon fill="#000000" stroke="#000000" points="774.3406,-1260.0656 784.9347,-1259.9346 776.5712,-1253.4305 774.3406,-1260.0656"/>
</g>
<!-- EncodeKey -->
<g id="node13" class="node">
<title>EncodeKey</title>
<polygon fill="none" stroke="#000000" points="883.5,-1203 803.5,-1203 803.5,-1167 883.5,-1167 883.5,-1203"/>
<text text-anchor="middle" x="843.5" y="-1181.3" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeKey</text>
</g>
<!-- MemTableIterator_Seek&#45;&gt;EncodeKey -->
<g id="edge10" class="edge">
<title>MemTableIterator_Seek&#45;&gt;EncodeKey</title>
<path fill="none" stroke="#000000" d="M685.1662,-1185C720.501,-1185 761.6814,-1185 793.187,-1185"/>
<polygon fill="#000000" stroke="#000000" points="793.4782,-1188.5001 803.4781,-1185 793.4781,-1181.5001 793.4782,-1188.5001"/>
</g>
<!-- footer_DecodeFrom -->
<g id="node14" class="node">
<title>footer_DecodeFrom</title>
<polygon fill="none" stroke="#000000" points="2112,-352 2112,-398 2200,-398 2200,-352 2112,-352"/>
<text text-anchor="middle" x="2156" y="-382.8" font-family="Times,serif" font-size="14.00" fill="#000000">DecodeFrom</text>
<polyline fill="none" stroke="#000000" points="2112,-375 2200,-375 "/>
<text text-anchor="middle" x="2156" y="-359.8" font-family="Times,serif" font-size="14.00" fill="#000000">解析Footer</text>
</g>
<!-- Table_Open -->
<g id="node15" class="node">
<title>Table_Open</title>
<polygon fill="none" stroke="#000000" points="1834.5,-344.5 1834.5,-405.5 2030.5,-405.5 2030.5,-344.5 1834.5,-344.5"/>
<text text-anchor="middle" x="1932.5" y="-390.3" font-family="Times,serif" font-size="14.00" fill="#000000">Table_Open</text>
<polyline fill="none" stroke="#000000" points="1834.5,-382.5 2030.5,-382.5 "/>
<text text-anchor="start" x="1842.5" y="-367.3" font-family="Times,serif" font-size="14.00" fill="#000000">将Table的索引, Filter Metadata</text>
<text text-anchor="start" x="1842.5" y="-352.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 加载到内存中</text>
</g>
<!-- Table_Open&#45;&gt;footer_DecodeFrom -->
<g id="edge11" class="edge">
<title>Table_Open&#45;&gt;footer_DecodeFrom</title>
<path fill="none" stroke="#000000" d="M2030.5304,-375C2054.9227,-375 2080.2004,-375 2101.6197,-375"/>
<polygon fill="#000000" stroke="#000000" points="2101.804,-378.5001 2111.804,-375 2101.8039,-371.5001 2101.804,-378.5001"/>
</g>
<!-- ReadBlock_index -->
<g id="node16" class="node">
<title>ReadBlock_index</title>
<polygon fill="none" stroke="#000000" points="2087,-445 2087,-491 2225,-491 2225,-445 2087,-445"/>
<text text-anchor="middle" x="2156" y="-475.8" font-family="Times,serif" font-size="14.00" fill="#000000">ReadBlock</text>
<polyline fill="none" stroke="#000000" points="2087,-468 2225,-468 "/>
<text text-anchor="middle" x="2156" y="-452.8" font-family="Times,serif" font-size="14.00" fill="#000000">读取Index block内容</text>
</g>
<!-- Table_Open&#45;&gt;ReadBlock_index -->
<g id="edge12" class="edge">
<title>Table_Open&#45;&gt;ReadBlock_index</title>
<path fill="none" stroke="#000000" d="M2030.6221,-401.41C2040.4594,-405.4119 2050.0925,-409.9288 2059,-415 2071.346,-422.0288 2072.7016,-428.8185 2086.8534,-439.1672"/>
<polygon fill="#000000" stroke="#000000" points="2085.2761,-442.3206 2095.5462,-444.9236 2089.1409,-436.4842 2085.2761,-442.3206"/>
</g>
<!-- file_Read -->
<g id="node17" class="node">
<title>file_Read</title>
<polygon fill="none" stroke="#000000" points="2190.5,-546 2121.5,-546 2121.5,-510 2190.5,-510 2190.5,-546"/>
<text text-anchor="middle" x="2156" y="-524.3" font-family="Times,serif" font-size="14.00" fill="#000000">file_Read</text>
</g>
<!-- Table_Open&#45;&gt;file_Read -->
<g id="edge13" class="edge">
<title>Table_Open&#45;&gt;file_Read</title>
<path fill="none" stroke="#000000" d="M2030.8091,-395.4488C2041.1863,-400.576 2050.8898,-406.9862 2059,-415 2087.2926,-442.9563 2059.8369,-470.9451 2087,-500 2093.7492,-507.2193 2102.6204,-512.6237 2111.7443,-516.6535"/>
<polygon fill="#000000" stroke="#000000" points="2110.6776,-519.9944 2121.2657,-520.3738 2113.2252,-513.4744 2110.6776,-519.9944"/>
</g>
<!-- ReadMeta -->
<g id="node18" class="node">
<title>ReadMeta</title>
<polygon fill="none" stroke="#000000" points="2192.5,-600 2119.5,-600 2119.5,-564 2192.5,-564 2192.5,-600"/>
<text text-anchor="middle" x="2156" y="-578.3" font-family="Times,serif" font-size="14.00" fill="#000000">ReadMeta</text>
</g>
<!-- Table_Open&#45;&gt;ReadMeta -->
<g id="edge14" class="edge">
<title>Table_Open&#45;&gt;ReadMeta</title>
<path fill="none" stroke="#000000" d="M2030.5411,-393.8874C2041.2284,-399.271 2051.0808,-406.1682 2059,-415 2101.3616,-462.2437 2046.238,-506.3695 2087,-555 2093.0077,-562.1674 2101.1682,-567.4415 2109.7742,-571.3195"/>
<polygon fill="#000000" stroke="#000000" points="2108.6186,-574.6255 2119.2067,-575.0031 2111.165,-568.1051 2108.6186,-574.6255"/>
</g>
<!-- ReadBlock -->
<g id="node19" class="node">
<title>ReadBlock</title>
<polygon fill="none" stroke="#000000" points="2495,-581 2418,-581 2418,-545 2495,-545 2495,-581"/>
<text text-anchor="middle" x="2456.5" y="-559.3" font-family="Times,serif" font-size="14.00" fill="#000000">ReadBlock</text>
</g>
<!-- ReadMeta&#45;&gt;ReadBlock -->
<g id="edge15" class="edge">
<title>ReadMeta&#45;&gt;ReadBlock</title>
<path fill="none" stroke="#000000" d="M2192.9764,-570.0623C2212.8953,-564.2523 2238.0318,-557.9058 2261,-555 2315.4548,-548.1107 2329.6951,-551.9646 2384.5,-555 2392.0091,-555.4159 2399.9386,-556.074 2407.6823,-556.8384"/>
<polygon fill="#000000" stroke="#000000" points="2407.3929,-560.3272 2417.7043,-557.8932 2408.1256,-553.3657 2407.3929,-560.3272"/>
</g>
<!-- ReadFilter -->
<g id="node20" class="node">
<title>ReadFilter</title>
<polygon fill="none" stroke="#000000" points="2358.5,-600 2284.5,-600 2284.5,-564 2358.5,-564 2358.5,-600"/>
<text text-anchor="middle" x="2321.5" y="-578.3" font-family="Times,serif" font-size="14.00" fill="#000000">ReadFilter</text>
</g>
<!-- ReadMeta&#45;&gt;ReadFilter -->
<g id="edge16" class="edge">
<title>ReadMeta&#45;&gt;ReadFilter</title>
<path fill="none" stroke="#000000" d="M2192.7298,-582C2216.6675,-582 2248.1386,-582 2273.9762,-582"/>
<polygon fill="#000000" stroke="#000000" points="2274.3006,-585.5001 2284.3006,-582 2274.3005,-578.5001 2274.3006,-585.5001"/>
</g>
<!-- Block_NewIterator -->
<g id="node21" class="node">
<title>Block_NewIterator</title>
<polygon fill="none" stroke="#000000" points="2382,-654 2261,-654 2261,-618 2382,-618 2382,-654"/>
<text text-anchor="middle" x="2321.5" y="-632.3" font-family="Times,serif" font-size="14.00" fill="#000000">Block_NewIterator</text>
</g>
<!-- ReadMeta&#45;&gt;Block_NewIterator -->
<g id="edge17" class="edge">
<title>ReadMeta&#45;&gt;Block_NewIterator</title>
<path fill="none" stroke="#000000" d="M2192.7298,-593.9844C2211.5604,-600.1285 2235.0528,-607.7937 2256.7975,-614.8886"/>
<polygon fill="#000000" stroke="#000000" points="2255.723,-618.2196 2266.3154,-617.9942 2257.8944,-611.5648 2255.723,-618.2196"/>
</g>
<!-- ReadFilter&#45;&gt;ReadBlock -->
<g id="edge18" class="edge">
<title>ReadFilter&#45;&gt;ReadBlock</title>
<path fill="none" stroke="#000000" d="M2358.7467,-576.7579C2373.8558,-574.6314 2391.5147,-572.1461 2407.6351,-569.8773"/>
<polygon fill="#000000" stroke="#000000" points="2408.5495,-573.2832 2417.964,-568.4236 2407.5738,-566.3515 2408.5495,-573.2832"/>
</g>
<!-- IndexBlock_Iter_Seek -->
<g id="node22" class="node">
<title>IndexBlock_Iter_Seek</title>
<polygon fill="none" stroke="#000000" points="1817.5,-770 1817.5,-816 2047.5,-816 2047.5,-770 1817.5,-770"/>
<text text-anchor="middle" x="1932.5" y="-800.8" font-family="Times,serif" font-size="14.00" fill="#000000">IndexBlock_Iter_Seek</text>
<polyline fill="none" stroke="#000000" points="1817.5,-793 2047.5,-793 "/>
<text text-anchor="middle" x="1932.5" y="-777.8" font-family="Times,serif" font-size="14.00" fill="#000000">从block index中找到包含key的block</text>
</g>
<!-- filter_KeyMayMatch -->
<g id="node23" class="node">
<title>filter_KeyMayMatch</title>
<polygon fill="none" stroke="#000000" points="1829,-424.5 1829,-485.5 2036,-485.5 2036,-424.5 1829,-424.5"/>
<text text-anchor="middle" x="1932.5" y="-470.3" font-family="Times,serif" font-size="14.00" fill="#000000">FilterBlockReader::KeyMayMatch</text>
<polyline fill="none" stroke="#000000" points="1829,-462.5 2036,-462.5 "/>
<text text-anchor="start" x="1837" y="-447.3" font-family="Times,serif" font-size="14.00" fill="#000000">先用filter快速判断</text>
<text text-anchor="start" x="1837" y="-432.3" font-family="Times,serif" font-size="14.00" fill="#000000"> key是否不存在</text>
</g>
<!-- BlockReader_block -->
<g id="node24" class="node">
<title>BlockReader_block</title>
<polygon fill="none" stroke="#000000" points="1847,-505 1847,-551 2018,-551 2018,-505 1847,-505"/>
<text text-anchor="middle" x="1932.5" y="-535.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockReader</text>
<polyline fill="none" stroke="#000000" points="1847,-528 2018,-528 "/>
<text text-anchor="middle" x="1932.5" y="-512.8" font-family="Times,serif" font-size="14.00" fill="#000000">读取该Block返回BlockIter</text>
</g>
<!-- BlockIter_Seek -->
<g id="node25" class="node">
<title>BlockIter_Seek</title>
<polygon fill="none" stroke="#000000" points="1870,-570 1870,-616 1995,-616 1995,-570 1870,-570"/>
<text text-anchor="middle" x="1932.5" y="-600.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockIter::Seek</text>
<polyline fill="none" stroke="#000000" points="1870,-593 1995,-593 "/>
<text text-anchor="start" x="1878" y="-577.8" font-family="Times,serif" font-size="14.00" fill="#000000">在Block中查找key</text>
</g>
<!-- handle_result -->
<g id="node26" class="node">
<title>handle_result</title>
<polygon fill="none" stroke="#000000" points="1865.5,-635.5 1865.5,-696.5 1999.5,-696.5 1999.5,-635.5 1865.5,-635.5"/>
<text text-anchor="middle" x="1932.5" y="-681.3" font-family="Times,serif" font-size="14.00" fill="#000000">handle_result</text>
<polyline fill="none" stroke="#000000" points="1865.5,-673.5 1999.5,-673.5 "/>
<text text-anchor="start" x="1873.5" y="-658.3" font-family="Times,serif" font-size="14.00" fill="#000000">查找成功</text>
<text text-anchor="start" x="1873.5" y="-643.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 调用参数中的回调</text>
</g>
<!-- SaveValue -->
<g id="node29" class="node">
<title>SaveValue</title>
<polygon fill="none" stroke="#000000" points="2193.5,-907 2118.5,-907 2118.5,-871 2193.5,-871 2193.5,-907"/>
<text text-anchor="middle" x="2156" y="-885.3" font-family="Times,serif" font-size="14.00" fill="#000000">SaveValue</text>
</g>
<!-- handle_result&#45;&gt;SaveValue -->
<g id="edge25" class="edge">
<title>handle_result&#45;&gt;SaveValue</title>
<path fill="none" stroke="#000000" d="M1999.5288,-673.2984C2021.355,-678.942 2043.8403,-688.8117 2059,-706 2104.7267,-757.8453 2044.0264,-804.8509 2087,-859 2092.7843,-866.2886 2100.6921,-871.8438 2109.0938,-876.0659"/>
<polygon fill="#000000" stroke="#000000" points="2107.7655,-879.3054 2118.3271,-880.1431 2110.5931,-872.9019 2107.7655,-879.3054"/>
</g>
<!-- Table_InternalGet -->
<g id="node27" class="node">
<title>Table_InternalGet</title>
<polygon fill="none" stroke="#000000" points="1506,-555 1506,-631 1778,-631 1778,-555 1506,-555"/>
<text text-anchor="middle" x="1642" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000">InternalGet</text>
<polyline fill="none" stroke="#000000" points="1506,-608 1778,-608 "/>
<text text-anchor="start" x="1514" y="-592.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.根据BlockIndex找到可能包含key的 block</text>
<text text-anchor="start" x="1514" y="-577.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.根据filter做快速不存在判断</text>
<text text-anchor="start" x="1514" y="-562.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3. 读取block内容, 在block中查找key</text>
</g>
<!-- Table_InternalGet&#45;&gt;IndexBlock_Iter_Seek -->
<g id="edge19" class="edge">
<title>Table_InternalGet&#45;&gt;IndexBlock_Iter_Seek</title>
<path fill="none" stroke="#000000" d="M1671.4701,-631.1419C1702.8382,-669.1875 1755.8855,-726.639 1814,-760 1817.4944,-762.006 1821.1174,-763.8955 1824.831,-765.6749"/>
<polygon fill="#000000" stroke="#000000" points="1823.6693,-768.9893 1834.2271,-769.8746 1826.5257,-762.5986 1823.6693,-768.9893"/>
</g>
<!-- Table_InternalGet&#45;&gt;filter_KeyMayMatch -->
<g id="edge20" class="edge">
<title>Table_InternalGet&#45;&gt;filter_KeyMayMatch</title>
<path fill="none" stroke="#000000" d="M1702.2014,-554.9031C1734.5532,-535.4133 1775.5878,-512.2331 1814,-495 1818.3522,-493.0474 1822.8301,-491.1354 1827.3801,-489.2714"/>
<polygon fill="#000000" stroke="#000000" points="1828.8105,-492.4691 1836.8036,-485.5149 1826.2184,-485.9667 1828.8105,-492.4691"/>
</g>
<!-- Table_InternalGet&#45;&gt;BlockReader_block -->
<g id="edge21" class="edge">
<title>Table_InternalGet&#45;&gt;BlockReader_block</title>
<path fill="none" stroke="#000000" d="M1778.3187,-562.4984C1798.062,-558.0808 1818.0262,-553.6138 1836.7447,-549.4255"/>
<polygon fill="#000000" stroke="#000000" points="1837.7135,-552.7953 1846.708,-547.1961 1836.185,-545.9642 1837.7135,-552.7953"/>
</g>
<!-- Table_InternalGet&#45;&gt;BlockIter_Seek -->
<g id="edge22" class="edge">
<title>Table_InternalGet&#45;&gt;BlockIter_Seek</title>
<path fill="none" stroke="#000000" d="M1778.3187,-593C1806.4341,-593 1834.9975,-593 1859.7738,-593"/>
<polygon fill="#000000" stroke="#000000" points="1859.7879,-596.5001 1869.7879,-593 1859.7878,-589.5001 1859.7879,-596.5001"/>
</g>
<!-- Table_InternalGet&#45;&gt;handle_result -->
<g id="edge23" class="edge">
<title>Table_InternalGet&#45;&gt;handle_result</title>
<path fill="none" stroke="#000000" d="M1778.3187,-627.2557C1804.7613,-633.9004 1831.6001,-640.6448 1855.312,-646.6034"/>
<polygon fill="#000000" stroke="#000000" points="1854.721,-650.0636 1865.2725,-649.1063 1856.4271,-643.2747 1854.721,-650.0636"/>
</g>
<!-- IndexBlock_NewIterator -->
<g id="node28" class="node">
<title>IndexBlock_NewIterator</title>
<polygon fill="none" stroke="#000000" points="2008.5,-751 1856.5,-751 1856.5,-715 2008.5,-715 2008.5,-751"/>
<text text-anchor="middle" x="1932.5" y="-729.3" font-family="Times,serif" font-size="14.00" fill="#000000">IndexBlock_NewIterator</text>
</g>
<!-- Table_InternalGet&#45;&gt;IndexBlock_NewIterator -->
<g id="edge24" class="edge">
<title>Table_InternalGet&#45;&gt;IndexBlock_NewIterator</title>
<path fill="none" stroke="#000000" d="M1689.7518,-631.1172C1722.8729,-655.8057 1768.9659,-686.8194 1814,-706 1824.285,-710.3805 1835.3883,-714.1043 1846.5307,-717.2556"/>
<polygon fill="#000000" stroke="#000000" points="1845.7477,-720.6692 1856.313,-719.8796 1847.5613,-713.9082 1845.7477,-720.6692"/>
</g>
<!-- ParseInternalKey -->
<g id="node46" class="node">
<title>ParseInternalKey</title>
<polygon fill="none" stroke="#000000" points="2376.5,-907 2266.5,-907 2266.5,-871 2376.5,-871 2376.5,-907"/>
<text text-anchor="middle" x="2321.5" y="-885.3" font-family="Times,serif" font-size="14.00" fill="#000000">ParseInternalKey</text>
</g>
<!-- SaveValue&#45;&gt;ParseInternalKey -->
<g id="edge43" class="edge">
<title>SaveValue&#45;&gt;ParseInternalKey</title>
<path fill="none" stroke="#000000" d="M2193.5545,-889C2211.9952,-889 2234.7555,-889 2255.9426,-889"/>
<polygon fill="#000000" stroke="#000000" points="2256.1914,-892.5001 2266.1914,-889 2256.1913,-885.5001 2256.1914,-892.5001"/>
</g>
<!-- Saver_assign -->
<g id="node47" class="node">
<title>Saver_assign</title>
<polygon fill="none" stroke="#000000" points="2365.5,-961 2277.5,-961 2277.5,-925 2365.5,-925 2365.5,-961"/>
<text text-anchor="middle" x="2321.5" y="-939.3" font-family="Times,serif" font-size="14.00" fill="#000000">Saver_assign</text>
</g>
<!-- SaveValue&#45;&gt;Saver_assign -->
<g id="edge44" class="edge">
<title>SaveValue&#45;&gt;Saver_assign</title>
<path fill="none" stroke="#000000" d="M2193.5545,-901.2534C2215.4319,-908.3917 2243.3888,-917.5136 2267.5861,-925.4088"/>
<polygon fill="#000000" stroke="#000000" points="2266.7553,-928.8192 2277.3478,-928.5938 2268.9267,-922.1645 2266.7553,-928.8192"/>
</g>
<!-- TableCache_Get -->
<g id="node30" class="node">
<title>TableCache_Get</title>
<polygon fill="none" stroke="#000000" points="1192,-213 1192,-289 1470,-289 1470,-213 1192,-213"/>
<text text-anchor="middle" x="1331" y="-273.8" font-family="Times,serif" font-size="14.00" fill="#000000">Get</text>
<polyline fill="none" stroke="#000000" points="1192,-266 1470,-266 "/>
<text text-anchor="start" x="1200" y="-250.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.先从cache中查找,如果失败FindTable</text>
<text text-anchor="start" x="1200" y="-235.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.FindTable: 找到table, 加载index和metadata</text>
<text text-anchor="start" x="1200" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.加入到Cache中</text>
</g>
<!-- TableCache_Get&#45;&gt;Table_InternalGet -->
<g id="edge26" class="edge">
<title>TableCache_Get&#45;&gt;Table_InternalGet</title>
<path fill="none" stroke="#000000" d="M1365.7704,-289.2362C1423.3854,-352.5943 1538.4189,-479.0941 1600.3039,-547.1477"/>
<polygon fill="#000000" stroke="#000000" points="1597.8985,-549.7049 1607.2158,-554.7486 1603.0774,-544.9954 1597.8985,-549.7049"/>
</g>
<!-- FindTable -->
<g id="node33" class="node">
<title>FindTable</title>
<polygon fill="none" stroke="#000000" points="1678,-225 1606,-225 1606,-189 1678,-189 1678,-225"/>
<text text-anchor="middle" x="1642" y="-203.3" font-family="Times,serif" font-size="14.00" fill="#000000">FindTable</text>
</g>
<!-- TableCache_Get&#45;&gt;FindTable -->
<g id="edge27" class="edge">
<title>TableCache_Get&#45;&gt;FindTable</title>
<path fill="none" stroke="#000000" d="M1470.1266,-231.3165C1515.4159,-224.909 1562.5785,-218.2365 1596.0175,-213.5056"/>
<polygon fill="#000000" stroke="#000000" points="1596.5262,-216.9685 1605.9373,-212.1021 1595.5456,-210.0376 1596.5262,-216.9685"/>
</g>
<!-- cache_Release -->
<g id="node34" class="node">
<title>cache_Release</title>
<polygon fill="none" stroke="#000000" points="1690,-279 1594,-279 1594,-243 1690,-243 1690,-279"/>
<text text-anchor="middle" x="1642" y="-257.3" font-family="Times,serif" font-size="14.00" fill="#000000">cache_Release</text>
</g>
<!-- TableCache_Get&#45;&gt;cache_Release -->
<g id="edge28" class="edge">
<title>TableCache_Get&#45;&gt;cache_Release</title>
<path fill="none" stroke="#000000" d="M1470.1266,-255.4735C1510.1129,-256.7593 1551.5596,-258.0919 1583.7319,-259.1264"/>
<polygon fill="#000000" stroke="#000000" points="1583.7306,-262.6281 1593.838,-259.4514 1583.9556,-255.6317 1583.7306,-262.6281"/>
</g>
<!-- TableFileName -->
<g id="node31" class="node">
<title>TableFileName</title>
<polygon fill="none" stroke="#000000" points="1814,-16 1814,-62 2051,-62 2051,-16 1814,-16"/>
<text text-anchor="middle" x="1932.5" y="-46.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableFileName</text>
<polyline fill="none" stroke="#000000" points="1814,-39 2051,-39 "/>
<text text-anchor="middle" x="1932.5" y="-23.8" font-family="Times,serif" font-size="14.00" fill="#000000">命名格式为: dbname/$file_number.ldb</text>
</g>
<!-- SSTTableFileName -->
<g id="node32" class="node">
<title>SSTTableFileName</title>
<polygon fill="none" stroke="#000000" points="1815.5,-81 1815.5,-127 2049.5,-127 2049.5,-81 1815.5,-81"/>
<text text-anchor="middle" x="1932.5" y="-111.8" font-family="Times,serif" font-size="14.00" fill="#000000">SSTTableFileName</text>
<polyline fill="none" stroke="#000000" points="1815.5,-104 2049.5,-104 "/>
<text text-anchor="middle" x="1932.5" y="-88.8" font-family="Times,serif" font-size="14.00" fill="#000000">命名格式为: dbname/$file_number.sst</text>
</g>
<!-- FindTable&#45;&gt;Table_Open -->
<g id="edge29" class="edge">
<title>FindTable&#45;&gt;Table_Open</title>
<path fill="none" stroke="#000000" d="M1678.2252,-204.9822C1708.3005,-205.2643 1750.4638,-210.4576 1778,-234 1813.2686,-264.1532 1781.1245,-299.2542 1814,-332 1817.6851,-335.6705 1821.7072,-339.0302 1825.9721,-342.105"/>
<polygon fill="#000000" stroke="#000000" points="1824.1686,-345.1079 1834.4481,-347.6738 1828.0124,-339.2576 1824.1686,-345.1079"/>
</g>
<!-- FindTable&#45;&gt;TableFileName -->
<g id="edge30" class="edge">
<title>FindTable&#45;&gt;TableFileName</title>
<path fill="none" stroke="#000000" d="M1659.8363,-188.7272C1689.2841,-159.5896 1751.0961,-102.6684 1814,-71 1817.5391,-69.2183 1821.1892,-67.5265 1824.9156,-65.9212"/>
<polygon fill="#000000" stroke="#000000" points="1826.3657,-69.11 1834.3155,-62.1063 1823.7333,-62.6238 1826.3657,-69.11"/>
</g>
<!-- FindTable&#45;&gt;SSTTableFileName -->
<g id="edge31" class="edge">
<title>FindTable&#45;&gt;SSTTableFileName</title>
<path fill="none" stroke="#000000" d="M1678.1129,-190.8853C1712.6035,-175.8345 1766.2524,-153.3042 1814,-137 1820.9472,-134.6278 1828.1653,-132.2976 1835.4563,-130.041"/>
<polygon fill="#000000" stroke="#000000" points="1836.8744,-133.2682 1845.4251,-127.0123 1834.8395,-126.5705 1836.8744,-133.2682"/>
</g>
<!-- NewRandomAccessFile -->
<g id="node35" class="node">
<title>NewRandomAccessFile</title>
<polygon fill="none" stroke="#000000" points="2006.5,-182 1858.5,-182 1858.5,-146 2006.5,-146 2006.5,-182"/>
<text text-anchor="middle" x="1932.5" y="-160.3" font-family="Times,serif" font-size="14.00" fill="#000000">NewRandomAccessFile</text>
</g>
<!-- FindTable&#45;&gt;NewRandomAccessFile -->
<g id="edge32" class="edge">
<title>FindTable&#45;&gt;NewRandomAccessFile</title>
<path fill="none" stroke="#000000" d="M1678.2047,-201.641C1720.5319,-195.3757 1791.9734,-184.8008 1848.375,-176.4522"/>
<polygon fill="#000000" stroke="#000000" points="1848.9824,-179.9006 1858.3621,-174.9739 1847.9573,-172.976 1848.9824,-179.9006"/>
</g>
<!-- cache_Insert -->
<g id="node36" class="node">
<title>cache_Insert</title>
<polygon fill="none" stroke="#000000" points="1975,-236 1890,-236 1890,-200 1975,-200 1975,-236"/>
<text text-anchor="middle" x="1932.5" y="-214.3" font-family="Times,serif" font-size="14.00" fill="#000000">cache_Insert</text>
</g>
<!-- FindTable&#45;&gt;cache_Insert -->
<g id="edge33" class="edge">
<title>FindTable&#45;&gt;cache_Insert</title>
<path fill="none" stroke="#000000" d="M1678.2047,-208.3709C1728.8538,-210.2888 1821.1911,-213.7852 1879.5626,-215.9955"/>
<polygon fill="#000000" stroke="#000000" points="1879.5678,-219.4981 1889.6931,-216.3791 1879.8327,-212.5031 1879.5678,-219.4981"/>
</g>
<!-- cache_Loopup -->
<g id="node37" class="node">
<title>cache_Loopup</title>
<polygon fill="none" stroke="#000000" points="1980.5,-290 1884.5,-290 1884.5,-254 1980.5,-254 1980.5,-290"/>
<text text-anchor="middle" x="1932.5" y="-268.3" font-family="Times,serif" font-size="14.00" fill="#000000">cache_Loopup</text>
</g>
<!-- FindTable&#45;&gt;cache_Loopup -->
<g id="edge34" class="edge">
<title>FindTable&#45;&gt;cache_Loopup</title>
<path fill="none" stroke="#000000" d="M1678.0125,-213.1296C1705.5532,-218.063 1744.3822,-225.5497 1778,-234 1794.2255,-238.0785 1797.8333,-240.6944 1814,-245 1833.6201,-250.2253 1855.2332,-255.3372 1874.5689,-259.6827"/>
<polygon fill="#000000" stroke="#000000" points="1873.9285,-263.1257 1884.45,-261.8818 1875.4492,-256.2929 1873.9285,-263.1257"/>
</g>
<!-- FileMetaData -->
<g id="node38" class="node">
<title>FileMetaData</title>
<polygon fill="#95e1d3" stroke="#000000" points="1575,-871.5 1575,-1032.5 1709,-1032.5 1709,-871.5 1575,-871.5"/>
<text text-anchor="middle" x="1642" y="-1017.3" font-family="Times,serif" font-size="14.00" fill="#000000">FileMetaData</text>
<polyline fill="none" stroke="#000000" points="1575,-1009.5 1709,-1009.5 "/>
<text text-anchor="start" x="1583" y="-994.3" font-family="Times,serif" font-size="14.00" fill="#000000">int refs;</text>
<polyline fill="none" stroke="#000000" points="1575,-986.5 1709,-986.5 "/>
<text text-anchor="start" x="1583" y="-971.3" font-family="Times,serif" font-size="14.00" fill="#000000">int allowed_seeks;</text>
<polyline fill="none" stroke="#000000" points="1575,-963.5 1709,-963.5 "/>
<text text-anchor="start" x="1583" y="-948.3" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t number;</text>
<polyline fill="none" stroke="#000000" points="1575,-940.5 1709,-940.5 "/>
<text text-anchor="start" x="1583" y="-925.3" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t file_size;</text>
<polyline fill="none" stroke="#000000" points="1575,-917.5 1709,-917.5 "/>
<text text-anchor="start" x="1583" y="-902.3" font-family="Times,serif" font-size="14.00" fill="#000000">InternalKey smallest;</text>
<polyline fill="none" stroke="#000000" points="1575,-894.5 1709,-894.5 "/>
<text text-anchor="start" x="1583" y="-879.3" font-family="Times,serif" font-size="14.00" fill="#000000">InternalKey largest;</text>
</g>
<!-- files_ -->
<g id="node39" class="node">
<title>files_</title>
<polygon fill="#95e1d3" stroke="#000000" points="980,-936.5 980,-997.5 1156,-997.5 1156,-936.5 980,-936.5"/>
<text text-anchor="middle" x="1068" y="-982.3" font-family="Times,serif" font-size="14.00" fill="#000000">files_</text>
<polyline fill="none" stroke="#000000" points="980,-974.5 1156,-974.5 "/>
<text text-anchor="start" x="988" y="-959.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::Vector&lt;FileMetaData*&gt;</text>
<text text-anchor="middle" x="1068" y="-944.3" font-family="Times,serif" font-size="14.00" fill="#000000"> files_[config::kNumLevels];</text>
</g>
<!-- levels -->
<g id="node40" class="node">
<title>levels</title>
<polygon fill="none" stroke="#000000" points="1215.5,-913 1215.5,-1005 1446.5,-1005 1446.5,-913 1215.5,-913"/>
<text text-anchor="middle" x="1331" y="-989.8" font-family="Times,serif" font-size="14.00" fill="#000000">levels</text>
<polyline fill="none" stroke="#000000" points="1215.5,-982 1446.5,-982 "/>
<text text-anchor="start" x="1223.5" y="-966.8" font-family="Times,serif" font-size="14.00" fill="#000000">level0: [FileMetaData .. FileMetaData]</text>
<polyline fill="none" stroke="#000000" points="1215.5,-959 1446.5,-959 "/>
<text text-anchor="start" x="1223.5" y="-943.8" font-family="Times,serif" font-size="14.00" fill="#000000">level1: [FileMetaData .. FileMetaData]</text>
<polyline fill="none" stroke="#000000" points="1215.5,-936 1446.5,-936 "/>
<text text-anchor="start" x="1223.5" y="-920.8" font-family="Times,serif" font-size="14.00" fill="#000000">... levelN</text>
</g>
<!-- files_&#45;&gt;levels -->
<g id="edge35" class="edge">
<title>files_&#45;&gt;levels</title>
<path fill="none" stroke="#000000" d="M1156.3068,-964.3139C1172.0013,-963.8365 1188.6192,-963.331 1205.119,-962.8291"/>
<polygon fill="#000000" stroke="#000000" points="1205.4789,-966.3198 1215.3678,-962.5173 1205.266,-959.3231 1205.4789,-966.3198"/>
</g>
<!-- levels&#45;&gt;FileMetaData -->
<g id="edge36" class="edge">
<title>levels&#45;&gt;FileMetaData</title>
<path fill="none" stroke="#000000" d="M1446.8049,-956.3935C1486.1006,-955.509 1529.0208,-954.5429 1564.5829,-953.7425"/>
<polygon fill="#000000" stroke="#000000" points="1564.9699,-957.2348 1574.8886,-953.5105 1564.8123,-950.2366 1564.9699,-957.2348"/>
</g>
<!-- FindFile -->
<g id="node41" class="node">
<title>FindFile</title>
<polygon fill="none" stroke="#000000" points="743,-877 743,-953 944,-953 944,-877 743,-877"/>
<text text-anchor="middle" x="843.5" y="-937.8" font-family="Times,serif" font-size="14.00" fill="#000000">FindFile</text>
<polyline fill="none" stroke="#000000" points="743,-930 944,-930 "/>
<text text-anchor="start" x="751" y="-914.8" font-family="Times,serif" font-size="14.00" fill="#000000">使用二分查找法</text>
<text text-anchor="start" x="751" y="-899.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 查找files_中除了level_0</text>
<text text-anchor="start" x="751" y="-884.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 其他level的可能包含key的File</text>
</g>
<!-- FindFile&#45;&gt;files_ -->
<g id="edge40" class="edge">
<title>FindFile&#45;&gt;files_</title>
<path fill="none" stroke="#000000" d="M944.2579,-938.3381C952.8036,-940.3175 961.4391,-942.3177 969.9634,-944.2922"/>
<polygon fill="#000000" stroke="#000000" points="969.3753,-947.7486 979.9072,-946.5954 970.9549,-940.9291 969.3753,-947.7486"/>
</g>
<!-- State_Match -->
<g id="node45" class="node">
<title>State_Match</title>
<polygon fill="none" stroke="#000000" points="986,-871 986,-917 1150,-917 1150,-871 986,-871"/>
<text text-anchor="middle" x="1068" y="-901.8" font-family="Times,serif" font-size="14.00" fill="#000000">Get::Match</text>
<polyline fill="none" stroke="#000000" points="986,-894 1150,-894 "/>
<text text-anchor="middle" x="1068" y="-878.8" font-family="Times,serif" font-size="14.00" fill="#000000">找到包含key文件后回调</text>
</g>
<!-- FindFile&#45;&gt;State_Match -->
<g id="edge41" class="edge">
<title>FindFile&#45;&gt;State_Match</title>
<path fill="none" stroke="#000000" d="M944.2579,-905.575C954.6614,-904.6018 965.1979,-903.6162 975.505,-902.6521"/>
<polygon fill="#000000" stroke="#000000" points="976.0916,-906.1126 985.7221,-901.6964 975.4396,-899.143 976.0916,-906.1126"/>
</g>
<!-- ForEachOverlapping -->
<g id="node42" class="node">
<title>ForEachOverlapping</title>
<polygon fill="none" stroke="#000000" points="513,-920 513,-1026 707,-1026 707,-920 513,-920"/>
<text text-anchor="middle" x="610" y="-1010.8" font-family="Times,serif" font-size="14.00" fill="#000000">ForEachOverlapping</text>
<polyline fill="none" stroke="#000000" points="513,-1003 707,-1003 "/>
<text text-anchor="start" x="521" y="-987.8" font-family="Times,serif" font-size="14.00" fill="#000000">查遍历查找每个level_0</text>
<text text-anchor="start" x="521" y="-972.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 中的是否包含key</text>
<text text-anchor="start" x="521" y="-957.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 因为level0中每个table之间的</text>
<text text-anchor="start" x="521" y="-942.8" font-family="Times,serif" font-size="14.00" fill="#000000"> key范围是有覆盖的</text>
<text text-anchor="start" x="521" y="-927.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 然后搜索其他level的table</text>
</g>
<!-- ForEachOverlapping&#45;&gt;files_ -->
<g id="edge38" class="edge">
<title>ForEachOverlapping&#45;&gt;files_</title>
<path fill="none" stroke="#000000" d="M707.13,-971.7276C784.4044,-970.7152 892.0685,-969.3048 969.6582,-968.2883"/>
<polygon fill="#000000" stroke="#000000" points="969.9685,-971.7847 979.9218,-968.1539 969.8767,-964.7853 969.9685,-971.7847"/>
</g>
<!-- ForEachOverlapping&#45;&gt;FindFile -->
<g id="edge39" class="edge">
<title>ForEachOverlapping&#45;&gt;FindFile</title>
<path fill="none" stroke="#000000" d="M707.3342,-948.8228C715.8806,-946.6999 724.5698,-944.5415 733.2117,-942.3949"/>
<polygon fill="#000000" stroke="#000000" points="734.0771,-945.7864 742.9384,-939.9789 732.3896,-938.9929 734.0771,-945.7864"/>
</g>
<!-- Version_Get -->
<g id="node43" class="node">
<title>Version_Get</title>
<polygon fill="none" stroke="#000000" points="208,-956 208,-1032 477,-1032 477,-956 208,-956"/>
<text text-anchor="start" x="216" y="-1016.8" font-family="Times,serif" font-size="14.00" fill="#000000">Get</text>
<polyline fill="none" stroke="#000000" points="208,-1009 477,-1009 "/>
<text text-anchor="start" x="216" y="-993.8" font-family="Times,serif" font-size="14.00" fill="#000000">从数据库文件中查找</text>
<text text-anchor="start" x="216" y="-978.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 使用了LRU cache，bloom filter blockIndex</text>
<text text-anchor="start" x="216" y="-963.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 等优化方法</text>
</g>
<!-- Version_Get&#45;&gt;ForEachOverlapping -->
<g id="edge37" class="edge">
<title>Version_Get&#45;&gt;ForEachOverlapping</title>
<path fill="none" stroke="#000000" d="M477.0337,-983.4385C485.6357,-982.7632 494.2335,-982.0882 502.6845,-981.4248"/>
<polygon fill="#000000" stroke="#000000" points="503.2153,-984.894 512.9107,-980.622 502.6674,-977.9154 503.2153,-984.894"/>
</g>
<!-- Version_UpdateStats -->
<g id="node44" class="node">
<title>Version_UpdateStats</title>
<polygon fill="none" stroke="#000000" points="277,-891 277,-937 408,-937 408,-891 277,-891"/>
<text text-anchor="middle" x="342.5" y="-921.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version_UpdateStats</text>
<polyline fill="none" stroke="#000000" points="277,-914 408,-914 "/>
<text text-anchor="middle" x="342.5" y="-898.8" font-family="Times,serif" font-size="14.00" fill="#000000">UpdateStats</text>
</g>
<!-- State_Match&#45;&gt;TableCache_Get -->
<g id="edge42" class="edge">
<title>State_Match&#45;&gt;TableCache_Get</title>
<path fill="none" stroke="#000000" d="M1077.5157,-870.7354C1115.7952,-777.1472 1258.9943,-427.0444 1311.523,-298.6186"/>
<polygon fill="#000000" stroke="#000000" points="1314.8941,-299.6218 1315.4404,-289.0411 1308.4151,-296.9718 1314.8941,-299.6218"/>
</g>
<!-- Get -->
<g id="node48" class="node">
<title>Get</title>
<polygon fill="none" stroke="#000000" points="16,-1404 16,-1480 172,-1480 172,-1404 16,-1404"/>
<text text-anchor="middle" x="94" y="-1464.8" font-family="Times,serif" font-size="14.00" fill="#000000">Get</text>
<polyline fill="none" stroke="#000000" points="16,-1457 172,-1457 "/>
<text text-anchor="start" x="24" y="-1441.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.先从mem_中查找</text>
<text text-anchor="start" x="24" y="-1426.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.然后从imm_中查找</text>
<text text-anchor="start" x="24" y="-1411.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.从当前version中查找</text>
</g>
<!-- Get&#45;&gt;VersionSet_LastSequence -->
<g id="edge45" class="edge">
<title>Get&#45;&gt;VersionSet_LastSequence</title>
<path fill="none" stroke="#000000" d="M172.2545,-1403.873C181.577,-1399.4722 190.9824,-1395.097 200,-1391 229.478,-1377.6071 262.7233,-1363.3293 289.6837,-1351.9566"/>
<polygon fill="#000000" stroke="#000000" points="291.0815,-1355.1657 298.9414,-1348.0612 288.3666,-1348.7136 291.0815,-1355.1657"/>
</g>
<!-- Get&#45;&gt;VersionSet_current -->
<g id="edge46" class="edge">
<title>Get&#45;&gt;VersionSet_current</title>
<path fill="none" stroke="#000000" d="M112.8771,-1403.8849C130.8093,-1371.8054 160.835,-1327.3723 200,-1303 221.1654,-1289.8288 247.2387,-1282.655 271.2713,-1278.8106"/>
<polygon fill="#000000" stroke="#000000" points="272.0218,-1282.239 281.4258,-1277.3591 271.0312,-1275.3094 272.0218,-1282.239"/>
</g>
<!-- Get&#45;&gt;MemTable_Get -->
<g id="edge47" class="edge">
<title>Get&#45;&gt;MemTable_Get</title>
<path fill="none" stroke="#000000" d="M106.2666,-1403.6386C121.8782,-1360.1746 152.6432,-1289.6019 200,-1245 218.6651,-1227.4207 242.8471,-1213.8504 265.9738,-1203.716"/>
<polygon fill="#000000" stroke="#000000" points="267.599,-1206.8293 275.4556,-1199.7213 264.8812,-1200.3784 267.599,-1206.8293"/>
</g>
<!-- Get&#45;&gt;Version_Get -->
<g id="edge48" class="edge">
<title>Get&#45;&gt;Version_Get</title>
<path fill="none" stroke="#000000" d="M95.7422,-1403.9669C100.8564,-1332.2529 120.9672,-1175.2609 200,-1075 211.4453,-1060.4805 226.2593,-1048.1137 241.9949,-1037.7421"/>
<polygon fill="#000000" stroke="#000000" points="244.2211,-1040.4763 250.8162,-1032.1844 240.4897,-1034.5538 244.2211,-1040.4763"/>
</g>
<!-- Get&#45;&gt;Version_UpdateStats -->
<g id="edge49" class="edge">
<title>Get&#45;&gt;Version_UpdateStats</title>
<path fill="none" stroke="#000000" d="M96.9244,-1403.8473C105.7236,-1299.226 135.426,-1011.2461 200,-946 217.5574,-928.2598 242.682,-919.4312 266.9583,-915.2837"/>
<polygon fill="#000000" stroke="#000000" points="267.5347,-918.7368 276.9222,-913.825 266.5207,-911.8106 267.5347,-918.7368"/>
</g>
<!-- sequence_number -->
<g id="node49" class="node">
<title>sequence_number</title>
<polygon fill="none" stroke="#000000" points="400,-1439 285,-1439 285,-1403 400,-1403 400,-1439"/>
<text text-anchor="middle" x="342.5" y="-1417.3" font-family="Times,serif" font-size="14.00" fill="#000000">sequence_number</text>
</g>
<!-- Get&#45;&gt;sequence_number -->
<g id="edge50" class="edge">
<title>Get&#45;&gt;sequence_number</title>
<path fill="none" stroke="#000000" d="M172.2859,-1435.3843C205.1493,-1432.6071 243.0068,-1429.4079 274.6624,-1426.7328"/>
<polygon fill="#000000" stroke="#000000" points="275.0383,-1430.2136 284.708,-1425.8838 274.4488,-1423.2384 275.0383,-1430.2136"/>
</g>
<!-- MaybeScheduleCompaction -->
<g id="node50" class="node">
<title>MaybeScheduleCompaction</title>
<polygon fill="none" stroke="#000000" points="428,-1493 257,-1493 257,-1457 428,-1457 428,-1493"/>
<text text-anchor="middle" x="342.5" y="-1471.3" font-family="Times,serif" font-size="14.00" fill="#000000">MaybeScheduleCompaction</text>
</g>
<!-- Get&#45;&gt;MaybeScheduleCompaction -->
<g id="edge51" class="edge">
<title>Get&#45;&gt;MaybeScheduleCompaction</title>
<path fill="none" stroke="#000000" d="M172.2859,-1452.3961C195.9182,-1455.5344 222.1329,-1459.0156 246.7668,-1462.2869"/>
<polygon fill="#000000" stroke="#000000" points="246.4742,-1465.7787 256.8479,-1463.6257 247.3957,-1458.8396 246.4742,-1465.7787"/>
</g>
</g>
</svg>
