<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: db_put Pages: 1 -->
<svg width="2612pt" height="1334pt"
 viewBox="0.00 0.00 2612.00 1334.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1330)">
<title>db_put</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1330 2608,-1330 2608,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_SkipList</title>
<path fill="none" stroke="#000000" d="M1312,-15C1312,-15 1459,-15 1459,-15 1465,-15 1471,-21 1471,-27 1471,-27 1471,-96 1471,-96 1471,-102 1465,-108 1459,-108 1459,-108 1312,-108 1312,-108 1306,-108 1300,-102 1300,-96 1300,-96 1300,-27 1300,-27 1300,-21 1306,-15 1312,-15"/>
<text text-anchor="middle" x="1385.5" y="-88" font-family="Times,serif" font-size="20.00" fill="#000000">SkipList</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_MemTable</title>
<path fill="none" stroke="#000000" d="M1176.5,-116C1176.5,-116 1434,-116 1434,-116 1440,-116 1446,-122 1446,-128 1446,-128 1446,-348 1446,-348 1446,-354 1440,-360 1434,-360 1434,-360 1176.5,-360 1176.5,-360 1170.5,-360 1164.5,-354 1164.5,-348 1164.5,-348 1164.5,-128 1164.5,-128 1164.5,-122 1170.5,-116 1176.5,-116"/>
<text text-anchor="middle" x="1305.25" y="-340" font-family="Times,serif" font-size="20.00" fill="#000000">MemTable</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_VersionSet</title>
<path fill="none" stroke="#000000" d="M2041,-8C2041,-8 2584,-8 2584,-8 2590,-8 2596,-14 2596,-20 2596,-20 2596,-348 2596,-348 2596,-354 2590,-360 2584,-360 2584,-360 2041,-360 2041,-360 2035,-360 2029,-354 2029,-348 2029,-348 2029,-20 2029,-20 2029,-14 2035,-8 2041,-8"/>
<text text-anchor="middle" x="2312.5" y="-340" font-family="Times,serif" font-size="20.00" fill="#000000">VersionSet</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_WritableFile</title>
<polygon fill="none" stroke="#000000" points="684,-264 684,-348 900,-348 900,-264 684,-264"/>
<text text-anchor="middle" x="792" y="-328" font-family="Times,serif" font-size="20.00" fill="#000000">WritableFile</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_LogWriter</title>
<path fill="none" stroke="#000000" d="M397,-252C397,-252 566,-252 566,-252 572,-252 578,-258 578,-264 578,-264 578,-348 578,-348 578,-354 572,-360 566,-360 566,-360 397,-360 397,-360 391,-360 385,-354 385,-348 385,-348 385,-264 385,-264 385,-258 391,-252 397,-252"/>
<text text-anchor="middle" x="481.5" y="-340" font-family="Times,serif" font-size="20.00" fill="#000000">LogWriter</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_MemTableInserter</title>
<path fill="none" stroke="#000000" d="M938.5,-221C938.5,-221 1079.5,-221 1079.5,-221 1085.5,-221 1091.5,-227 1091.5,-233 1091.5,-233 1091.5,-348 1091.5,-348 1091.5,-354 1085.5,-360 1079.5,-360 1079.5,-360 938.5,-360 938.5,-360 932.5,-360 926.5,-354 926.5,-348 926.5,-348 926.5,-233 926.5,-233 926.5,-227 932.5,-221 938.5,-221"/>
<text text-anchor="middle" x="1009" y="-340" font-family="Times,serif" font-size="20.00" fill="#000000">MemTableInserter</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_DBImpl</title>
<path fill="none" stroke="#000000" d="M20,-368C20,-368 2558,-368 2558,-368 2564,-368 2570,-374 2570,-380 2570,-380 2570,-1306 2570,-1306 2570,-1312 2564,-1318 2558,-1318 2558,-1318 20,-1318 20,-1318 14,-1318 8,-1312 8,-1306 8,-1306 8,-380 8,-380 8,-374 14,-368 20,-368"/>
<text text-anchor="middle" x="1289" y="-1298" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_MemTable</title>
<path fill="none" stroke="#000000" d="M938,-822C938,-822 2351,-822 2351,-822 2357,-822 2363,-828 2363,-834 2363,-834 2363,-903 2363,-903 2363,-909 2357,-915 2351,-915 2351,-915 938,-915 938,-915 932,-915 926,-909 926,-903 926,-903 926,-834 926,-834 926,-828 932,-822 938,-822"/>
<text text-anchor="middle" x="1644.5" y="-895" font-family="Times,serif" font-size="20.00" fill="#000000">MemTable</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_background_work_finished</title>
<path fill="none" stroke="#000000" d="M1131,-1167C1131,-1167 1960,-1167 1960,-1167 1966,-1167 1972,-1173 1972,-1179 1972,-1179 1972,-1268 1972,-1268 1972,-1274 1966,-1280 1960,-1280 1960,-1280 1131,-1280 1131,-1280 1125,-1280 1119,-1274 1119,-1268 1119,-1268 1119,-1179 1119,-1179 1119,-1173 1125,-1167 1131,-1167"/>
<text text-anchor="middle" x="1545.5" y="-1260" font-family="Times,serif" font-size="20.00" fill="#000000">background_work_finished</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_writers</title>
<path fill="none" stroke="#000000" d="M393.5,-389C393.5,-389 895,-389 895,-389 901,-389 907,-395 907,-401 907,-401 907,-829 907,-829 907,-835 901,-841 895,-841 895,-841 393.5,-841 393.5,-841 387.5,-841 381.5,-835 381.5,-829 381.5,-829 381.5,-401 381.5,-401 381.5,-395 387.5,-389 393.5,-389"/>
<text text-anchor="middle" x="644.25" y="-821" font-family="Times,serif" font-size="20.00" fill="#000000">writers队列</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_cv</title>
<path fill="none" stroke="#000000" d="M401.5,-599C401.5,-599 561.5,-599 561.5,-599 567.5,-599 573.5,-605 573.5,-611 573.5,-611 573.5,-791 573.5,-791 573.5,-797 567.5,-803 561.5,-803 561.5,-803 401.5,-803 401.5,-803 395.5,-803 389.5,-797 389.5,-791 389.5,-791 389.5,-611 389.5,-611 389.5,-605 395.5,-599 401.5,-599"/>
<text text-anchor="middle" x="481.5" y="-783" font-family="Times,serif" font-size="20.00" fill="#000000">ConditionVar</text>
</g>
<g id="clust18" class="cluster">
<title>cluster_Sequnce</title>
<path fill="none" stroke="#000000" d="M406.5,-906C406.5,-906 556.5,-906 556.5,-906 562.5,-906 568.5,-912 568.5,-918 568.5,-918 568.5,-1138 568.5,-1138 568.5,-1144 562.5,-1150 556.5,-1150 556.5,-1150 406.5,-1150 406.5,-1150 400.5,-1150 394.5,-1144 394.5,-1138 394.5,-1138 394.5,-918 394.5,-918 394.5,-912 400.5,-906 406.5,-906"/>
<text text-anchor="middle" x="481.5" y="-1130" font-family="Times,serif" font-size="20.00" fill="#000000">Sequnce</text>
</g>
<g id="clust23" class="cluster">
<title>cluster_BgThread</title>
<path fill="none" stroke="#000000" d="M965,-923C965,-923 2550,-923 2550,-923 2556,-923 2562,-929 2562,-935 2562,-935 2562,-1147 2562,-1147 2562,-1153 2556,-1159 2550,-1159 2550,-1159 965,-1159 965,-1159 959,-1159 953,-1153 953,-1147 953,-1147 953,-935 953,-935 953,-929 959,-923 965,-923"/>
<text text-anchor="middle" x="1757.5" y="-1139" font-family="Times,serif" font-size="20.00" fill="#000000">后台压缩线程</text>
</g>
<!-- SkipList_Insert -->
<g id="node1" class="node">
<title>SkipList_Insert</title>
<polygon fill="#f38181" stroke="#000000" points="1308,-23 1308,-69 1463,-69 1463,-23 1308,-23"/>
<text text-anchor="middle" x="1385.5" y="-53.8" font-family="Times,serif" font-size="14.00" fill="#000000">Insert</text>
<polyline fill="none" stroke="#000000" points="1308,-46 1463,-46 "/>
<text text-anchor="middle" x="1385.5" y="-30.8" font-family="Times,serif" font-size="14.00" fill="#000000">将记录插入到skiplist中</text>
</g>
<!-- MemTable_Add -->
<g id="node2" class="node">
<title>MemTable_Add</title>
<polygon fill="none" stroke="#000000" points="1172.5,-230 1172.5,-266 1226.5,-266 1226.5,-230 1172.5,-230"/>
<text text-anchor="middle" x="1199.5" y="-244.3" font-family="Times,serif" font-size="14.00" fill="#000000">Add</text>
</g>
<!-- MemTable_Add&#45;&gt;SkipList_Insert -->
<g id="edge1" class="edge">
<title>MemTable_Add&#45;&gt;SkipList_Insert</title>
<path fill="none" stroke="#000000" d="M1210.7505,-229.5969C1227.9765,-202.2317 1262.8216,-149.9669 1300,-112 1312.9413,-98.7842 1328.6037,-85.954 1342.9688,-75.1744"/>
<polygon fill="#000000" stroke="#000000" points="1345.2707,-77.8259 1351.2464,-69.0771 1341.1191,-72.1898 1345.2707,-77.8259"/>
</g>
<!-- Arena_Allocate -->
<g id="node3" class="node">
<title>Arena_Allocate</title>
<polygon fill="none" stroke="#000000" points="1436.5,-160 1334.5,-160 1334.5,-124 1436.5,-124 1436.5,-160"/>
<text text-anchor="middle" x="1385.5" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#000000">Arena_Allocate</text>
</g>
<!-- MemTable_Add&#45;&gt;Arena_Allocate -->
<g id="edge2" class="edge">
<title>MemTable_Add&#45;&gt;Arena_Allocate</title>
<path fill="none" stroke="#000000" d="M1218.4136,-229.6686C1237.5871,-211.9662 1268.7993,-185.4835 1300,-169 1307.7001,-164.932 1316.118,-161.3526 1324.5723,-158.2424"/>
<polygon fill="#000000" stroke="#000000" points="1325.8016,-161.5206 1334.0965,-154.9293 1323.5017,-154.9091 1325.8016,-161.5206"/>
</g>
<!-- EncodeFixed64 -->
<g id="node4" class="node">
<title>EncodeFixed64</title>
<polygon fill="none" stroke="#000000" points="1436,-214 1335,-214 1335,-178 1436,-178 1436,-214"/>
<text text-anchor="middle" x="1385.5" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeFixed64</text>
</g>
<!-- MemTable_Add&#45;&gt;EncodeFixed64 -->
<g id="edge3" class="edge">
<title>MemTable_Add&#45;&gt;EncodeFixed64</title>
<path fill="none" stroke="#000000" d="M1226.546,-240.4388C1252.3145,-233.2346 1292.0014,-222.1394 1325.272,-212.8379"/>
<polygon fill="#000000" stroke="#000000" points="1326.2292,-216.2046 1334.9175,-210.1413 1324.3444,-209.4631 1326.2292,-216.2046"/>
</g>
<!-- EncodeVarint32 -->
<g id="node5" class="node">
<title>EncodeVarint32</title>
<polygon fill="none" stroke="#000000" points="1438,-268 1333,-268 1333,-232 1438,-232 1438,-268"/>
<text text-anchor="middle" x="1385.5" y="-246.3" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeVarint32</text>
</g>
<!-- MemTable_Add&#45;&gt;EncodeVarint32 -->
<g id="edge4" class="edge">
<title>MemTable_Add&#45;&gt;EncodeVarint32</title>
<path fill="none" stroke="#000000" d="M1226.546,-248.2908C1251.5478,-248.5597 1289.6522,-248.9694 1322.2858,-249.3203"/>
<polygon fill="#000000" stroke="#000000" points="1322.6283,-252.8241 1332.6654,-249.4319 1322.7036,-245.8245 1322.6283,-252.8241"/>
</g>
<!-- memcpy -->
<g id="node6" class="node">
<title>memcpy</title>
<polygon fill="none" stroke="#000000" points="1418,-322 1353,-322 1353,-286 1418,-286 1418,-322"/>
<text text-anchor="middle" x="1385.5" y="-300.3" font-family="Times,serif" font-size="14.00" fill="#000000">memcpy</text>
</g>
<!-- MemTable_Add&#45;&gt;memcpy -->
<g id="edge5" class="edge">
<title>MemTable_Add&#45;&gt;memcpy</title>
<path fill="none" stroke="#000000" d="M1226.546,-256.1429C1257.122,-265.3486 1307.2943,-280.4542 1343.0913,-291.2318"/>
<polygon fill="#000000" stroke="#000000" points="1342.194,-294.6168 1352.7785,-294.1484 1344.2121,-287.914 1342.194,-294.6168"/>
</g>
<!-- PickLevelForMemTableOutput -->
<g id="node7" class="node">
<title>PickLevelForMemTableOutput</title>
<polygon fill="none" stroke="#000000" points="2588,-322 2400,-322 2400,-286 2588,-286 2588,-322"/>
<text text-anchor="middle" x="2494" y="-300.3" font-family="Times,serif" font-size="14.00" fill="#000000">PickLevelForMemTableOutput</text>
</g>
<!-- OverlapInLevel -->
<g id="node8" class="node">
<title>OverlapInLevel</title>
<polygon fill="none" stroke="#000000" points="2139,-241 2037,-241 2037,-205 2139,-205 2139,-241"/>
<text text-anchor="middle" x="2088" y="-219.3" font-family="Times,serif" font-size="14.00" fill="#000000">OverlapInLevel</text>
</g>
<!-- SomeFileOverlapsRange -->
<g id="node9" class="node">
<title>SomeFileOverlapsRange</title>
<polygon fill="none" stroke="#000000" points="2364,-160 2212,-160 2212,-124 2364,-124 2364,-160"/>
<text text-anchor="middle" x="2288" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#000000">SomeFileOverlapsRange</text>
</g>
<!-- OverlapInLevel&#45;&gt;SomeFileOverlapsRange -->
<g id="edge6" class="edge">
<title>OverlapInLevel&#45;&gt;SomeFileOverlapsRange</title>
<path fill="none" stroke="#000000" d="M2132.8839,-204.822C2162.7343,-192.7326 2202.1134,-176.7841 2233.7242,-163.9817"/>
<polygon fill="#000000" stroke="#000000" points="2235.3111,-167.1152 2243.2659,-160.1173 2232.6833,-160.6271 2235.3111,-167.1152"/>
</g>
<!-- AfterFile -->
<g id="node10" class="node">
<title>AfterFile</title>
<polygon fill="none" stroke="#000000" points="2527,-214 2461,-214 2461,-178 2527,-178 2527,-214"/>
<text text-anchor="middle" x="2494" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#000000">AfterFile</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;AfterFile -->
<g id="edge7" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;AfterFile</title>
<path fill="none" stroke="#000000" d="M2356.8814,-160.0563C2387.9957,-168.2125 2423.7928,-177.5962 2451.0076,-184.7301"/>
<polygon fill="#000000" stroke="#000000" points="2450.4293,-188.1968 2460.99,-187.3469 2452.2044,-181.4255 2450.4293,-188.1968"/>
</g>
<!-- files_ -->
<g id="node11" class="node">
<title>files_</title>
<polygon fill="none" stroke="#000000" points="2521,-52 2467,-52 2467,-16 2521,-16 2521,-52"/>
<text text-anchor="middle" x="2494" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">files_</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;files_ -->
<g id="edge8" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;files_</title>
<path fill="none" stroke="#000000" d="M2308.4717,-123.7996C2329.9184,-105.585 2365.2608,-77.9063 2400,-61 2417.8676,-52.3045 2439.0437,-45.9167 2456.7692,-41.5438"/>
<polygon fill="#000000" stroke="#000000" points="2457.8202,-44.8923 2466.7559,-39.1998 2456.2206,-38.0775 2457.8202,-44.8923"/>
</g>
<!-- BeforeFile -->
<g id="node12" class="node">
<title>BeforeFile</title>
<polygon fill="none" stroke="#000000" points="2531,-106 2457,-106 2457,-70 2531,-70 2531,-106"/>
<text text-anchor="middle" x="2494" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">BeforeFile</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;BeforeFile -->
<g id="edge9" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;BeforeFile</title>
<path fill="none" stroke="#000000" d="M2356.8814,-123.9437C2386.5437,-116.1682 2420.462,-107.277 2447.1428,-100.283"/>
<polygon fill="#000000" stroke="#000000" points="2448.2045,-103.623 2456.9902,-97.7016 2446.4295,-96.8518 2448.2045,-103.623"/>
</g>
<!-- FindFile -->
<g id="node13" class="node">
<title>FindFile</title>
<polygon fill="none" stroke="#000000" points="2525,-160 2463,-160 2463,-124 2525,-124 2525,-160"/>
<text text-anchor="middle" x="2494" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#000000">FindFile</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;FindFile -->
<g id="edge10" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;FindFile</title>
<path fill="none" stroke="#000000" d="M2364.1215,-142C2394.1402,-142 2427.4339,-142 2452.7965,-142"/>
<polygon fill="#000000" stroke="#000000" points="2452.7988,-145.5001 2462.7987,-142 2452.7987,-138.5001 2452.7988,-145.5001"/>
</g>
<!-- NewFileNumber -->
<g id="node14" class="node">
<title>NewFileNumber</title>
<polygon fill="none" stroke="#000000" points="2548,-268 2440,-268 2440,-232 2548,-232 2548,-268"/>
<text text-anchor="middle" x="2494" y="-246.3" font-family="Times,serif" font-size="14.00" fill="#000000">NewFileNumber</text>
</g>
<!-- WritableFile_Append -->
<g id="node15" class="node">
<title>WritableFile_Append</title>
<polygon fill="none" stroke="#000000" points="692,-273 692,-309 892,-309 892,-273 692,-273"/>
<text text-anchor="start" x="700" y="-287.3" font-family="Times,serif" font-size="14.00" fill="#000000">Append| 将record追加到文件中</text>
</g>
<!-- AddRecord -->
<g id="node16" class="node">
<title>AddRecord</title>
<polygon fill="#f38181" stroke="#000000" points="393,-260.5 393,-321.5 570,-321.5 570,-260.5 393,-260.5"/>
<text text-anchor="middle" x="481.5" y="-306.3" font-family="Times,serif" font-size="14.00" fill="#000000">AddRecord</text>
<polyline fill="none" stroke="#000000" points="393,-298.5 570,-298.5 "/>
<text text-anchor="start" x="401" y="-283.3" font-family="Times,serif" font-size="14.00" fill="#000000">先将内容写入日志中</text>
<text text-anchor="start" x="401" y="-268.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 挂掉后，能从日志中恢复</text>
</g>
<!-- AddRecord&#45;&gt;WritableFile_Append -->
<g id="edge11" class="edge">
<title>AddRecord&#45;&gt;WritableFile_Append</title>
<path fill="none" stroke="#000000" d="M570.0613,-291C604.7963,-291 645.0303,-291 681.6251,-291"/>
<polygon fill="#000000" stroke="#000000" points="681.8427,-294.5001 691.8426,-291 681.8426,-287.5001 681.8427,-294.5001"/>
</g>
<!-- MemTableInserter_Put -->
<g id="node17" class="node">
<title>MemTableInserter_Put</title>
<polygon fill="none" stroke="#000000" points="981.5,-285 981.5,-321 1035.5,-321 1035.5,-285 981.5,-285"/>
<text text-anchor="middle" x="1008.5" y="-299.3" font-family="Times,serif" font-size="14.00" fill="#000000">Put</text>
</g>
<!-- MemTableInserter_Put&#45;&gt;MemTable_Add -->
<g id="edge12" class="edge">
<title>MemTableInserter_Put&#45;&gt;MemTable_Add</title>
<path fill="none" stroke="#000000" d="M1035.8656,-295.1198C1069.1487,-285.5357 1125.47,-269.3176 1162.5734,-258.6333"/>
<polygon fill="#000000" stroke="#000000" points="1163.8527,-261.9072 1172.4937,-255.7767 1161.9156,-255.1806 1163.8527,-261.9072"/>
</g>
<!-- MemTableInserter_Delete -->
<g id="node18" class="node">
<title>MemTableInserter_Delete</title>
<polygon fill="none" stroke="#000000" points="981.5,-230 981.5,-266 1035.5,-266 1035.5,-230 981.5,-230"/>
<text text-anchor="middle" x="1008.5" y="-244.3" font-family="Times,serif" font-size="14.00" fill="#000000">Delete</text>
</g>
<!-- MemTableInserter_Delete&#45;&gt;MemTable_Add -->
<g id="edge13" class="edge">
<title>MemTableInserter_Delete&#45;&gt;MemTable_Add</title>
<path fill="none" stroke="#000000" d="M1035.8656,-248C1069.0065,-248 1124.989,-248 1162.0966,-248"/>
<polygon fill="#000000" stroke="#000000" points="1162.4937,-251.5001 1172.4937,-248 1162.4937,-244.5001 1162.4937,-251.5001"/>
</g>
<!-- background_work_finished_signal_ -->
<g id="node19" class="node">
<title>background_work_finished_signal_</title>
<polygon fill="#95e1d3" stroke="#000000" points="1753,-1192 1753,-1228 1964,-1228 1964,-1192 1753,-1192"/>
<text text-anchor="middle" x="1858.5" y="-1206.3" font-family="Times,serif" font-size="14.00" fill="#000000">background_work_finished_signal_</text>
</g>
<!-- background_work_finished_signal__Wait -->
<g id="node20" class="node">
<title>background_work_finished_signal__Wait</title>
<polygon fill="none" stroke="#000000" points="1127,-1195 1127,-1241 1272,-1241 1272,-1195 1127,-1195"/>
<text text-anchor="middle" x="1199.5" y="-1225.8" font-family="Times,serif" font-size="14.00" fill="#000000">Wait</text>
<polyline fill="none" stroke="#000000" points="1127,-1218 1272,-1218 "/>
<text text-anchor="middle" x="1199.5" y="-1202.8" font-family="Times,serif" font-size="14.00" fill="#000000">等待后台线程处理完</text>
</g>
<!-- background_work_finished_signal__Wait&#45;&gt;background_work_finished_signal_ -->
<g id="edge14" class="edge">
<title>background_work_finished_signal__Wait&#45;&gt;background_work_finished_signal_</title>
<path fill="none" stroke="#000000" d="M1272.0275,-1232.5612C1281.4055,-1233.9809 1290.9072,-1235.1921 1300,-1236 1484.6062,-1252.4014 1532.4311,-1252.8161 1717,-1236 1732.3035,-1234.6057 1748.4238,-1232.3799 1764.0846,-1229.8028"/>
<polygon fill="#000000" stroke="#000000" points="1765.0259,-1233.193 1774.2964,-1228.0637 1763.8507,-1226.2923 1765.0259,-1233.193"/>
</g>
<!-- background_work_finished_signal__SignalAll -->
<g id="node21" class="node">
<title>background_work_finished_signal__SignalAll</title>
<polygon fill="none" stroke="#000000" points="1542.5,-1175 1542.5,-1221 1673.5,-1221 1673.5,-1175 1542.5,-1175"/>
<text text-anchor="middle" x="1608" y="-1205.8" font-family="Times,serif" font-size="14.00" fill="#000000">SignalAll</text>
<polyline fill="none" stroke="#000000" points="1542.5,-1198 1673.5,-1198 "/>
<text text-anchor="middle" x="1608" y="-1182.8" font-family="Times,serif" font-size="14.00" fill="#000000">通知已压缩处理完</text>
</g>
<!-- background_work_finished_signal__SignalAll&#45;&gt;background_work_finished_signal_ -->
<g id="edge15" class="edge">
<title>background_work_finished_signal__SignalAll&#45;&gt;background_work_finished_signal_</title>
<path fill="none" stroke="#000000" d="M1673.8159,-1201.1529C1694.998,-1202.1676 1719.1325,-1203.3237 1742.8088,-1204.4579"/>
<polygon fill="#000000" stroke="#000000" points="1742.7617,-1207.9596 1752.9178,-1204.9422 1743.0967,-1200.9676 1742.7617,-1207.9596"/>
</g>
<!-- cv_wait -->
<g id="node22" class="node">
<title>cv_wait</title>
<polygon fill="none" stroke="#000000" points="397.5,-703.5 397.5,-764.5 565.5,-764.5 565.5,-703.5 397.5,-703.5"/>
<text text-anchor="middle" x="481.5" y="-749.3" font-family="Times,serif" font-size="14.00" fill="#000000">Wait</text>
<polyline fill="none" stroke="#000000" points="397.5,-741.5 565.5,-741.5 "/>
<text text-anchor="start" x="405.5" y="-726.3" font-family="Times,serif" font-size="14.00" fill="#000000">如果自己不再writers队列</text>
<text text-anchor="start" x="405.5" y="-711.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 最开头的话就等待</text>
</g>
<!-- cv_Signal -->
<g id="node23" class="node">
<title>cv_Signal</title>
<polygon fill="none" stroke="#000000" points="399.5,-608 399.5,-684 563.5,-684 563.5,-608 399.5,-608"/>
<text text-anchor="middle" x="481.5" y="-668.8" font-family="Times,serif" font-size="14.00" fill="#000000">Signal</text>
<polyline fill="none" stroke="#000000" points="399.5,-661 563.5,-661 "/>
<text text-anchor="start" x="407.5" y="-645.8" font-family="Times,serif" font-size="14.00" fill="#000000">自己写完了，</text>
<text text-anchor="start" x="407.5" y="-630.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 通知writers_队列中其他</text>
<text text-anchor="start" x="407.5" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000"> writer开始写</text>
</g>
<!-- Writer -->
<g id="node24" class="node">
<title>Writer</title>
<polygon fill="none" stroke="#000000" points="407,-527.5 407,-588.5 556,-588.5 556,-527.5 407,-527.5"/>
<text text-anchor="middle" x="481.5" y="-573.3" font-family="Times,serif" font-size="14.00" fill="#000000">Writer</text>
<polyline fill="none" stroke="#000000" points="407,-565.5 556,-565.5 "/>
<text text-anchor="start" x="415" y="-550.3" font-family="Times,serif" font-size="14.00" fill="#000000">先创建一个Writer，</text>
<text text-anchor="start" x="415" y="-535.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 并将自己放入队列中</text>
</g>
<!-- writers_ -->
<g id="node25" class="node">
<title>writers_</title>
<polygon fill="#95e1d3" stroke="#000000" points="685,-397.5 685,-458.5 899,-458.5 899,-397.5 685,-397.5"/>
<text text-anchor="middle" x="792" y="-443.3" font-family="Times,serif" font-size="14.00" fill="#000000">writers_</text>
<polyline fill="none" stroke="#000000" points="685,-435.5 899,-435.5 "/>
<text text-anchor="start" x="693" y="-420.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::deque&lt;Writer*&gt; </text>
<text text-anchor="start" x="693" y="-405.3" font-family="Times,serif" font-size="14.00" fill="#000000"> writers_ GUARDED_BY(mutex_);</text>
</g>
<!-- writers_push_back -->
<g id="node26" class="node">
<title>writers_push_back</title>
<polygon fill="none" stroke="#000000" points="396.5,-462 396.5,-508 566.5,-508 566.5,-462 396.5,-462"/>
<text text-anchor="middle" x="481.5" y="-492.8" font-family="Times,serif" font-size="14.00" fill="#000000">push_back</text>
<polyline fill="none" stroke="#000000" points="396.5,-485 566.5,-485 "/>
<text text-anchor="start" x="404.5" y="-469.8" font-family="Times,serif" font-size="14.00" fill="#000000">将writers放入writers_队列</text>
</g>
<!-- writers_push_back&#45;&gt;writers_ -->
<g id="edge16" class="edge">
<title>writers_push_back&#45;&gt;writers_</title>
<path fill="none" stroke="#000000" d="M566.7562,-469.3491C600.0692,-463.2337 638.8201,-456.12 674.6921,-449.5348"/>
<polygon fill="#000000" stroke="#000000" points="675.5229,-452.9408 684.7266,-447.6927 674.2589,-446.0559 675.5229,-452.9408"/>
</g>
<!-- writers_pop_front -->
<g id="node27" class="node">
<title>writers_pop_front</title>
<polygon fill="none" stroke="#000000" points="411.5,-397 411.5,-443 551.5,-443 551.5,-397 411.5,-397"/>
<text text-anchor="middle" x="481.5" y="-427.8" font-family="Times,serif" font-size="14.00" fill="#000000">pop_front</text>
<polyline fill="none" stroke="#000000" points="411.5,-420 551.5,-420 "/>
<text text-anchor="start" x="419.5" y="-404.8" font-family="Times,serif" font-size="14.00" fill="#000000">从writers队列中取出</text>
</g>
<!-- writers_pop_front&#45;&gt;writers_ -->
<g id="edge17" class="edge">
<title>writers_pop_front&#45;&gt;writers_</title>
<path fill="none" stroke="#000000" d="M551.5694,-421.8053C587.9223,-422.742 633.3,-423.9111 674.8092,-424.9806"/>
<polygon fill="#000000" stroke="#000000" points="674.9038,-428.4841 684.9907,-425.2429 675.0842,-421.4864 674.9038,-428.4841"/>
</g>
<!-- imm_ -->
<g id="node28" class="node">
<title>imm_</title>
<polygon fill="#95e1d3" stroke="#000000" points="2221,-830 2221,-876 2355,-876 2355,-830 2221,-830"/>
<text text-anchor="middle" x="2288" y="-860.8" font-family="Times,serif" font-size="14.00" fill="#000000">imm_</text>
<polyline fill="none" stroke="#000000" points="2221,-853 2355,-853 "/>
<text text-anchor="start" x="2229" y="-837.8" font-family="Times,serif" font-size="14.00" fill="#000000">不可变的MemTable</text>
</g>
<!-- mem_ -->
<g id="node29" class="node">
<title>mem_</title>
<polygon fill="#95e1d3" stroke="#000000" points="934,-830 934,-876 1083,-876 1083,-830 934,-830"/>
<text text-anchor="middle" x="1008.5" y="-860.8" font-family="Times,serif" font-size="14.00" fill="#000000">mem_</text>
<polyline fill="none" stroke="#000000" points="934,-853 1083,-853 "/>
<text text-anchor="middle" x="1008.5" y="-837.8" font-family="Times,serif" font-size="14.00" fill="#000000">当前可变的MemTable</text>
</g>
<!-- DBImpl_Put -->
<g id="node30" class="node">
<title>DBImpl_Put</title>
<polygon fill="none" stroke="#000000" points="111,-792 25,-792 25,-756 111,-756 111,-792"/>
<text text-anchor="middle" x="68" y="-770.3" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_Put</text>
</g>
<!-- DBImpl_Write -->
<g id="node31" class="node">
<title>DBImpl_Write</title>
<polygon fill="none" stroke="#000000" points="267,-752 167,-752 167,-716 267,-716 267,-752"/>
<text text-anchor="middle" x="217" y="-730.3" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_Write</text>
</g>
<!-- DBImpl_Put&#45;&gt;DBImpl_Write -->
<g id="edge18" class="edge">
<title>DBImpl_Put&#45;&gt;DBImpl_Write</title>
<path fill="none" stroke="#000000" d="M111.097,-762.4303C125.4093,-758.5881 141.6144,-754.2378 156.9669,-750.1163"/>
<polygon fill="#000000" stroke="#000000" points="158.1537,-753.4217 166.9042,-747.4485 156.3387,-746.6611 158.1537,-753.4217"/>
</g>
<!-- WriteBatch_Put -->
<g id="node32" class="node">
<title>WriteBatch_Put</title>
<polygon fill="none" stroke="#000000" points="269,-806 165,-806 165,-770 269,-770 269,-806"/>
<text text-anchor="middle" x="217" y="-784.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch_Put</text>
</g>
<!-- DBImpl_Put&#45;&gt;WriteBatch_Put -->
<g id="edge19" class="edge">
<title>DBImpl_Put&#45;&gt;WriteBatch_Put</title>
<path fill="none" stroke="#000000" d="M111.097,-778.0494C124.7144,-779.3289 140.0451,-780.7693 154.7248,-782.1486"/>
<polygon fill="#000000" stroke="#000000" points="154.471,-785.6401 164.7546,-783.091 155.1259,-778.6708 154.471,-785.6401"/>
</g>
<!-- DBImpl_Write&#45;&gt;AddRecord -->
<g id="edge22" class="edge">
<title>DBImpl_Write&#45;&gt;AddRecord</title>
<path fill="none" stroke="#000000" d="M267.0425,-717.594C271.2302,-714.6206 275.0006,-711.1195 278,-707 368.2226,-583.084 223.4245,-487.6583 314,-364 331.0191,-340.7647 357.0356,-324.8284 383.5266,-313.9364"/>
<polygon fill="#000000" stroke="#000000" points="384.8509,-317.1768 392.9026,-310.2904 382.3139,-310.6527 384.8509,-317.1768"/>
</g>
<!-- DBImpl_Write&#45;&gt;cv_wait -->
<g id="edge23" class="edge">
<title>DBImpl_Write&#45;&gt;cv_wait</title>
<path fill="none" stroke="#000000" d="M267.0614,-734C300.8879,-734 346.5997,-734 387.1282,-734"/>
<polygon fill="#000000" stroke="#000000" points="387.3101,-737.5001 397.31,-734 387.31,-730.5001 387.3101,-737.5001"/>
</g>
<!-- DBImpl_Write&#45;&gt;cv_Signal -->
<g id="edge24" class="edge">
<title>DBImpl_Write&#45;&gt;cv_Signal</title>
<path fill="none" stroke="#000000" d="M258.1459,-715.8379C275.2542,-708.6 295.4211,-700.4699 314,-694 338.2111,-685.5687 364.7493,-677.4592 389.4204,-670.3824"/>
<polygon fill="#000000" stroke="#000000" points="390.4747,-673.7215 399.1367,-667.6205 388.5607,-666.9882 390.4747,-673.7215"/>
</g>
<!-- DBImpl_Write&#45;&gt;Writer -->
<g id="edge25" class="edge">
<title>DBImpl_Write&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M267.0878,-716.3259C271.1015,-713.6223 274.8245,-710.5303 278,-707 312.967,-668.1267 275.3391,-630.2018 314,-595 336.3571,-574.6433 367.3267,-564.6137 396.561,-559.9217"/>
<polygon fill="#000000" stroke="#000000" points="397.3987,-563.3383 406.8121,-558.4765 396.4214,-556.4069 397.3987,-563.3383"/>
</g>
<!-- DBImpl_Write&#45;&gt;writers_ -->
<g id="edge26" class="edge">
<title>DBImpl_Write&#45;&gt;writers_</title>
<path fill="none" stroke="#000000" d="M267.0095,-717.5699C271.2036,-714.6011 274.9845,-711.1078 278,-707 320.2152,-649.4925 260.8025,-435.5317 314,-388 341.7567,-363.1996 612.1234,-382.9396 649,-388 661.2931,-389.6869 674.0188,-392.1536 686.5797,-395.0471"/>
<polygon fill="#000000" stroke="#000000" points="686.066,-398.5231 696.6066,-397.4524 687.699,-391.7162 686.066,-398.5231"/>
</g>
<!-- DBImpl_Write&#45;&gt;writers_push_back -->
<g id="edge27" class="edge">
<title>DBImpl_Write&#45;&gt;writers_push_back</title>
<path fill="none" stroke="#000000" d="M267.2715,-716.9271C271.3007,-714.0951 274.975,-710.8091 278,-707 331.1782,-640.0368 253.726,-578.6551 314,-518 332.9882,-498.8918 359.6067,-489.1921 386.044,-484.6288"/>
<polygon fill="#000000" stroke="#000000" points="386.7764,-488.0583 396.1512,-483.1224 385.7445,-481.1348 386.7764,-488.0583"/>
</g>
<!-- DBImpl_Write&#45;&gt;writers_pop_front -->
<g id="edge28" class="edge">
<title>DBImpl_Write&#45;&gt;writers_pop_front</title>
<path fill="none" stroke="#000000" d="M267.177,-717.2789C271.2807,-714.3717 274.9963,-710.9722 278,-707 346.7694,-616.0568 235.5724,-535.7588 314,-453 336.2596,-429.5111 370.0002,-420.0554 401.3796,-416.9353"/>
<polygon fill="#000000" stroke="#000000" points="401.7753,-420.415 411.4672,-416.1352 401.2217,-413.4369 401.7753,-420.415"/>
</g>
<!-- MakeRoomForWrite -->
<g id="node35" class="node">
<title>MakeRoomForWrite</title>
<polygon fill="#f38181" stroke="#000000" points="314,-1158.5 314,-1279.5 649,-1279.5 649,-1158.5 314,-1158.5"/>
<text text-anchor="middle" x="481.5" y="-1264.3" font-family="Times,serif" font-size="14.00" fill="#000000">MakeRoomForWrite</text>
<polyline fill="none" stroke="#000000" points="314,-1256.5 649,-1256.5 "/>
<text text-anchor="start" x="322" y="-1241.3" font-family="Times,serif" font-size="14.00" fill="#000000">1. 如果level0文件各处超过配置则等待后台压缩线程</text>
<text text-anchor="start" x="322" y="-1226.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 2. 如果imm_不为null, 也等待后台压缩线程</text>
<text text-anchor="start" x="322" y="-1211.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 3. 如果mem_内存超过阈值则新建一个mem_</text>
<text text-anchor="start" x="322" y="-1196.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 4. 并将之间的imm设置为之前的mem_, </text>
<text text-anchor="start" x="322" y="-1181.3" font-family="Times,serif" font-size="14.00" fill="#000000">在后面的CompatMemTable中会将它落盘</text>
<text text-anchor="start" x="322" y="-1166.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 5. 触发压缩操作</text>
</g>
<!-- DBImpl_Write&#45;&gt;MakeRoomForWrite -->
<g id="edge29" class="edge">
<title>DBImpl_Write&#45;&gt;MakeRoomForWrite</title>
<path fill="none" stroke="#000000" d="M267.0987,-750.3653C271.2755,-753.3467 275.0279,-756.8607 278,-761 378.3024,-900.6921 215.0225,-1009.6163 311.421,-1149.9564"/>
<polygon fill="#000000" stroke="#000000" points="308.8077,-1152.3165 317.4951,-1158.3811 314.4858,-1148.2226 308.8077,-1152.3165"/>
</g>
<!-- BuildBatchGroup -->
<g id="node36" class="node">
<title>BuildBatchGroup</title>
<polygon fill="none" stroke="#000000" points="538,-1112 425,-1112 425,-1076 538,-1076 538,-1112"/>
<text text-anchor="middle" x="481.5" y="-1090.3" font-family="Times,serif" font-size="14.00" fill="#000000">BuildBatchGroup</text>
</g>
<!-- DBImpl_Write&#45;&gt;BuildBatchGroup -->
<g id="edge30" class="edge">
<title>DBImpl_Write&#45;&gt;BuildBatchGroup</title>
<path fill="none" stroke="#000000" d="M267.2751,-750.6478C271.3593,-753.5696 275.0436,-756.9926 278,-761 359.2948,-871.196 219.26,-968.1247 314,-1067 339.4102,-1093.5194 379.8052,-1100.6104 414.5591,-1100.9077"/>
<polygon fill="#000000" stroke="#000000" points="414.7009,-1104.4066 424.6663,-1100.8093 414.6327,-1097.4069 414.7009,-1104.4066"/>
</g>
<!-- SetSequence -->
<g id="node37" class="node">
<title>SetSequence</title>
<polygon fill="none" stroke="#000000" points="524.5,-1058 438.5,-1058 438.5,-1022 524.5,-1022 524.5,-1058"/>
<text text-anchor="middle" x="481.5" y="-1036.3" font-family="Times,serif" font-size="14.00" fill="#000000">SetSequence</text>
</g>
<!-- DBImpl_Write&#45;&gt;SetSequence -->
<g id="edge31" class="edge">
<title>DBImpl_Write&#45;&gt;SetSequence</title>
<path fill="none" stroke="#000000" d="M267.1724,-750.7246C271.2771,-753.6311 274.9941,-757.0295 278,-761 346.2884,-851.2037 234.7201,-932.2863 314,-1013 343.1491,-1042.6762 391.1113,-1047.8272 428.2595,-1046.4807"/>
<polygon fill="#000000" stroke="#000000" points="428.6245,-1049.9664 438.4258,-1045.9436 428.2551,-1042.9761 428.6245,-1049.9664"/>
</g>
<!-- Versions_LastSequence -->
<g id="node38" class="node">
<title>Versions_LastSequence</title>
<polygon fill="none" stroke="#000000" points="554.5,-1004 408.5,-1004 408.5,-968 554.5,-968 554.5,-1004"/>
<text text-anchor="middle" x="481.5" y="-982.3" font-family="Times,serif" font-size="14.00" fill="#000000">Versions_LastSequence</text>
</g>
<!-- DBImpl_Write&#45;&gt;Versions_LastSequence -->
<g id="edge32" class="edge">
<title>DBImpl_Write&#45;&gt;Versions_LastSequence</title>
<path fill="none" stroke="#000000" d="M267.0171,-750.8445C271.1526,-753.7272 274.9193,-757.0873 278,-761 333.3303,-831.2749 250.1241,-896.3911 314,-959 336.0175,-980.5808 368.0312,-989.028 398.1864,-991.4737"/>
<polygon fill="#000000" stroke="#000000" points="398.1325,-994.9767 408.3246,-992.0833 398.5527,-987.9893 398.1325,-994.9767"/>
</g>
<!-- Version_SetLastSequence -->
<g id="node39" class="node">
<title>Version_SetLastSequence</title>
<polygon fill="none" stroke="#000000" points="560.5,-950 402.5,-950 402.5,-914 560.5,-914 560.5,-950"/>
<text text-anchor="middle" x="481.5" y="-928.3" font-family="Times,serif" font-size="14.00" fill="#000000">Version_SetLastSequence</text>
</g>
<!-- DBImpl_Write&#45;&gt;Version_SetLastSequence -->
<g id="edge33" class="edge">
<title>DBImpl_Write&#45;&gt;Version_SetLastSequence</title>
<path fill="none" stroke="#000000" d="M267.0784,-751.2301C271.1467,-754.0303 274.8829,-757.2659 278,-761 321.6584,-813.3004 263.3313,-864.458 314,-910 335.0788,-928.9461 364.1106,-936.7236 392.0878,-939.0647"/>
<polygon fill="#000000" stroke="#000000" points="392.1356,-942.574 402.3308,-939.6918 392.5634,-935.5871 392.1356,-942.574"/>
</g>
<!-- WriteBatchInternal_InsertInto -->
<g id="node40" class="node">
<title>WriteBatchInternal_InsertInto</title>
<polygon fill="none" stroke="#000000" points="390.5,-849 390.5,-895 572.5,-895 572.5,-849 390.5,-849"/>
<text text-anchor="middle" x="481.5" y="-879.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchInternal::InsertInto</text>
<polyline fill="none" stroke="#000000" points="390.5,-872 572.5,-872 "/>
<text text-anchor="middle" x="481.5" y="-856.8" font-family="Times,serif" font-size="14.00" fill="#000000">将内容插入memtable</text>
</g>
<!-- DBImpl_Write&#45;&gt;WriteBatchInternal_InsertInto -->
<g id="edge34" class="edge">
<title>DBImpl_Write&#45;&gt;WriteBatchInternal_InsertInto</title>
<path fill="none" stroke="#000000" d="M264.3145,-752.0895C269.135,-754.7575 273.797,-757.7264 278,-761 298.4815,-776.9525 293.1529,-791.5283 314,-807 335.6554,-823.0716 361.7877,-835.7014 386.9033,-845.3809"/>
<polygon fill="#000000" stroke="#000000" points="385.8752,-848.7329 396.4678,-848.9473 388.3208,-842.174 385.8752,-848.7329"/>
</g>
<!-- DBImpl_Delete -->
<g id="node33" class="node">
<title>DBImpl_Delete</title>
<polygon fill="none" stroke="#000000" points="120,-711 16,-711 16,-675 120,-675 120,-711"/>
<text text-anchor="middle" x="68" y="-689.3" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_Delete</text>
</g>
<!-- DBImpl_Delete&#45;&gt;DBImpl_Write -->
<g id="edge20" class="edge">
<title>DBImpl_Delete&#45;&gt;DBImpl_Write</title>
<path fill="none" stroke="#000000" d="M120.113,-707.3398C132.0323,-710.6196 144.7945,-714.1314 157.0146,-717.494"/>
<polygon fill="#000000" stroke="#000000" points="156.102,-720.8729 166.6723,-720.1514 157.9592,-714.1237 156.102,-720.8729"/>
</g>
<!-- WriteBatch_Delete -->
<g id="node34" class="node">
<title>WriteBatch_Delete</title>
<polygon fill="none" stroke="#000000" points="278,-698 156,-698 156,-662 278,-662 278,-698"/>
<text text-anchor="middle" x="217" y="-676.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch_Delete</text>
</g>
<!-- DBImpl_Delete&#45;&gt;WriteBatch_Delete -->
<g id="edge21" class="edge">
<title>DBImpl_Delete&#45;&gt;WriteBatch_Delete</title>
<path fill="none" stroke="#000000" d="M120.113,-688.4532C128.4368,-687.727 137.1717,-686.9649 145.846,-686.2081"/>
<polygon fill="#000000" stroke="#000000" points="146.3149,-689.6805 155.9728,-685.3245 145.7064,-682.707 146.3149,-689.6805"/>
</g>
<!-- MakeRoomForWrite&#45;&gt;background_work_finished_signal__Wait -->
<g id="edge35" class="edge">
<title>MakeRoomForWrite&#45;&gt;background_work_finished_signal__Wait</title>
<path fill="none" stroke="#000000" d="M649.3858,-1218.7662C796.2235,-1218.5617 1003.2701,-1218.2733 1116.8796,-1218.1151"/>
<polygon fill="#000000" stroke="#000000" points="1116.9115,-1221.6151 1126.9066,-1218.1011 1116.9017,-1214.6151 1116.9115,-1221.6151"/>
</g>
<!-- MakeRoomForWrite&#45;&gt;imm_ -->
<g id="edge36" class="edge">
<title>MakeRoomForWrite&#45;&gt;imm_</title>
<path fill="none" stroke="#000000" d="M644.8874,-1158.4808C646.2967,-1157.0224 647.6685,-1155.5291 649,-1154 693.3871,-1103.0248 633.0164,-1050.3775 684,-1006 721.5443,-973.3204 871.4285,-1019.8167 907,-985 959.4383,-933.6744 872.2027,-870.8994 926,-821 1015.1927,-738.2696 1077.8462,-810 1199.5,-810 1199.5,-810 1199.5,-810 1858.5,-810 1982.3053,-810 2125.1908,-827.9083 2210.9683,-840.6108"/>
<polygon fill="#000000" stroke="#000000" points="2210.4761,-844.076 2220.8838,-842.0937 2211.5115,-837.153 2210.4761,-844.076"/>
</g>
<!-- MakeRoomForWrite&#45;&gt;mem_ -->
<g id="edge37" class="edge">
<title>MakeRoomForWrite&#45;&gt;mem_</title>
<path fill="none" stroke="#000000" d="M637.3252,-1158.4288C652.9402,-1153.6901 668.6823,-1149.4244 684,-1146 732.5757,-1135.1404 872.0898,-1160.4797 907,-1125 945.1446,-1086.2332 892.6266,-923.9429 926,-881 926.2175,-880.7201 926.438,-880.443 926.6613,-880.1686"/>
<polygon fill="#000000" stroke="#000000" points="929.2766,-882.5031 933.8746,-872.958 924.3277,-877.5524 929.2766,-882.5031"/>
</g>
<!-- SleepForMicroseconds -->
<g id="node41" class="node">
<title>SleepForMicroseconds</title>
<polygon fill="none" stroke="#000000" points="721,-914.5 721,-975.5 863,-975.5 863,-914.5 721,-914.5"/>
<text text-anchor="middle" x="792" y="-960.3" font-family="Times,serif" font-size="14.00" fill="#000000">SleepForMicroseconds</text>
<polyline fill="none" stroke="#000000" points="721,-952.5 863,-952.5 "/>
<text text-anchor="start" x="729" y="-937.3" font-family="Times,serif" font-size="14.00" fill="#000000">Sleep等待后台</text>
<text text-anchor="start" x="729" y="-922.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 线程压缩完毕</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;SleepForMicroseconds -->
<g id="edge38" class="edge">
<title>MakeRoomForWrite&#45;&gt;SleepForMicroseconds</title>
<path fill="none" stroke="#000000" d="M645.2565,-1158.182C646.5379,-1156.8186 647.7865,-1155.4249 649,-1154 697.3233,-1097.2583 636.3789,-1047.3323 684,-990 691.6047,-980.8445 701.386,-973.5227 711.9492,-967.6747"/>
<polygon fill="#000000" stroke="#000000" points="713.6372,-970.7431 720.9756,-963.1012 710.4733,-964.4989 713.6372,-970.7431"/>
</g>
<!-- MaybeScheduleCompaction -->
<g id="node43" class="node">
<title>MaybeScheduleCompaction</title>
<polygon fill="none" stroke="#000000" points="706.5,-1155 706.5,-1201 877.5,-1201 877.5,-1155 706.5,-1155"/>
<text text-anchor="middle" x="792" y="-1185.8" font-family="Times,serif" font-size="14.00" fill="#000000">MaybeScheduleCompaction</text>
<polyline fill="none" stroke="#000000" points="706.5,-1178 877.5,-1178 "/>
<text text-anchor="start" x="714.5" y="-1162.8" font-family="Times,serif" font-size="14.00" fill="#000000">可能触发压缩操作</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;MaybeScheduleCompaction -->
<g id="edge39" class="edge">
<title>MakeRoomForWrite&#45;&gt;MaybeScheduleCompaction</title>
<path fill="none" stroke="#000000" d="M649.0191,-1196.8799C665.0773,-1194.7595 680.9593,-1192.6624 695.9722,-1190.68"/>
<polygon fill="#000000" stroke="#000000" points="696.7627,-1194.1061 706.2184,-1189.327 695.8463,-1187.1663 696.7627,-1194.1061"/>
</g>
<!-- ApproximateMemoryUsage -->
<g id="node44" class="node">
<title>ApproximateMemoryUsage</title>
<polygon fill="none" stroke="#000000" points="707,-1015 707,-1061 877,-1061 877,-1015 707,-1015"/>
<text text-anchor="middle" x="792" y="-1045.8" font-family="Times,serif" font-size="14.00" fill="#000000">ApproximateMemoryUsage</text>
<polyline fill="none" stroke="#000000" points="707,-1038 877,-1038 "/>
<text text-anchor="start" x="715" y="-1022.8" font-family="Times,serif" font-size="14.00" fill="#000000">评估当前mem_使用内存</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;ApproximateMemoryUsage -->
<g id="edge40" class="edge">
<title>MakeRoomForWrite&#45;&gt;ApproximateMemoryUsage</title>
<path fill="none" stroke="#000000" d="M644.1863,-1158.4614C645.8282,-1157.0084 647.4339,-1155.5215 649,-1154 677.7147,-1126.1032 654.2781,-1097.8211 684,-1071 688.2302,-1067.1827 692.8918,-1063.8068 697.8324,-1060.8213"/>
<polygon fill="#000000" stroke="#000000" points="699.8684,-1063.6989 706.9938,-1055.858 696.534,-1057.5441 699.8684,-1063.6989"/>
</g>
<!-- has_imm_ -->
<g id="node45" class="node">
<title>has_imm_</title>
<polygon fill="none" stroke="#000000" points="829,-1116 755,-1116 755,-1080 829,-1080 829,-1116"/>
<text text-anchor="middle" x="792" y="-1094.3" font-family="Times,serif" font-size="14.00" fill="#000000">has_imm_</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;has_imm_ -->
<g id="edge41" class="edge">
<title>MakeRoomForWrite&#45;&gt;has_imm_</title>
<path fill="none" stroke="#000000" d="M640.6112,-1158.3231C643.4427,-1156.8973 646.2414,-1155.4559 649,-1154 665.6807,-1145.1963 666.9719,-1138.1116 684,-1130 703.2438,-1120.8328 725.6796,-1113.6708 745.1005,-1108.4684"/>
<polygon fill="#000000" stroke="#000000" points="746.1409,-1111.8146 754.9487,-1105.9262 744.3912,-1105.0368 746.1409,-1111.8146"/>
</g>
<!-- WriteBatch_Iterate -->
<g id="node46" class="node">
<title>WriteBatch_Iterate</title>
<polygon fill="none" stroke="#000000" points="703.5,-849 703.5,-895 880.5,-895 880.5,-849 703.5,-849"/>
<text text-anchor="middle" x="792" y="-879.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch_Iterate</text>
<polyline fill="none" stroke="#000000" points="703.5,-872 880.5,-872 "/>
<text text-anchor="middle" x="792" y="-856.8" font-family="Times,serif" font-size="14.00" fill="#000000">根据KeyTypeput或者delete;</text>
</g>
<!-- WriteBatchInternal_InsertInto&#45;&gt;WriteBatch_Iterate -->
<g id="edge42" class="edge">
<title>WriteBatchInternal_InsertInto&#45;&gt;WriteBatch_Iterate</title>
<path fill="none" stroke="#000000" d="M572.5622,-872C610.4255,-872 654.4709,-872 693.1223,-872"/>
<polygon fill="#000000" stroke="#000000" points="693.3467,-875.5001 703.3466,-872 693.3466,-868.5001 693.3467,-875.5001"/>
</g>
<!-- shutting_down_ -->
<g id="node42" class="node">
<title>shutting_down_</title>
<polygon fill="#95e1d3" stroke="#000000" points="2236,-1040 2236,-1076 2340,-1076 2340,-1040 2236,-1040"/>
<text text-anchor="middle" x="2288" y="-1054.3" font-family="Times,serif" font-size="14.00" fill="#000000">shutting_down_</text>
</g>
<!-- background_compaction_scheduled_ -->
<g id="node47" class="node">
<title>background_compaction_scheduled_</title>
<polygon fill="none" stroke="#000000" points="1717,-1047 1499,-1047 1499,-1011 1717,-1011 1717,-1047"/>
<text text-anchor="middle" x="1608" y="-1025.3" font-family="Times,serif" font-size="14.00" fill="#000000">background_compaction_scheduled_</text>
</g>
<!-- MaybeScheduleCompaction&#45;&gt;background_compaction_scheduled_ -->
<g id="edge46" class="edge">
<title>MaybeScheduleCompaction&#45;&gt;background_compaction_scheduled_</title>
<path fill="none" stroke="#000000" d="M877.5981,-1160.2731C888.5067,-1155.1426 898.7287,-1148.528 907,-1140 927.6579,-1118.7011 902.7845,-1094.478 926,-1076 973.4719,-1038.2155 1410.5134,-1046.7553 1471,-1042 1476.7982,-1041.5442 1482.7325,-1041.0575 1488.7246,-1040.5499"/>
<polygon fill="#000000" stroke="#000000" points="1489.1869,-1044.0231 1498.8496,-1039.6778 1488.5861,-1037.0489 1489.1869,-1044.0231"/>
</g>
<!-- Env_Schedule -->
<g id="node48" class="node">
<title>Env_Schedule</title>
<polygon fill="none" stroke="#000000" points="1056,-1121 961,-1121 961,-1085 1056,-1085 1056,-1121"/>
<text text-anchor="middle" x="1008.5" y="-1099.3" font-family="Times,serif" font-size="14.00" fill="#000000">Env_Schedule</text>
</g>
<!-- MaybeScheduleCompaction&#45;&gt;Env_Schedule -->
<g id="edge47" class="edge">
<title>MaybeScheduleCompaction&#45;&gt;Env_Schedule</title>
<path fill="none" stroke="#000000" d="M873.6078,-1154.9934C885.0931,-1150.626 896.5385,-1145.6301 907,-1140 916.474,-1134.9014 916.3808,-1129.8192 926,-1125 933.7997,-1121.0924 942.3733,-1117.8187 950.9528,-1115.094"/>
<polygon fill="#000000" stroke="#000000" points="952.0006,-1118.4341 960.6009,-1112.2465 950.0191,-1111.7204 952.0006,-1118.4341"/>
</g>
<!-- WriteBatch_Iterate&#45;&gt;MemTableInserter_Put -->
<g id="edge44" class="edge">
<title>WriteBatch_Iterate&#45;&gt;MemTableInserter_Put</title>
<path fill="none" stroke="#000000" d="M880.6436,-864.053C890.7607,-859.6821 899.9521,-853.5423 907,-845 941.0391,-803.7434 900.9792,-411.2729 926,-364 936.1472,-344.8284 955.308,-330.0934 972.6113,-319.9121"/>
<polygon fill="#000000" stroke="#000000" points="974.3963,-322.9243 981.4329,-315.0037 970.9927,-316.8074 974.3963,-322.9243"/>
</g>
<!-- WriteBatch_Iterate&#45;&gt;MemTableInserter_Delete -->
<g id="edge45" class="edge">
<title>WriteBatch_Iterate&#45;&gt;MemTableInserter_Delete</title>
<path fill="none" stroke="#000000" d="M880.6923,-864.0931C890.8019,-859.716 899.9782,-853.5637 907,-845 947.1087,-796.0837 888.2996,-326.7955 926,-276 936.5258,-261.8181 954.6131,-254.7482 971.1742,-251.253"/>
<polygon fill="#000000" stroke="#000000" points="971.9555,-254.6697 981.2074,-249.507 970.7553,-247.7733 971.9555,-254.6697"/>
</g>
<!-- WriteBatch_Iterate&#45;&gt;mem_ -->
<g id="edge43" class="edge">
<title>WriteBatch_Iterate&#45;&gt;mem_</title>
<path fill="none" stroke="#000000" d="M880.6835,-864.2172C894.8727,-862.9719 909.5259,-861.6859 923.6237,-860.4487"/>
<polygon fill="#000000" stroke="#000000" points="924.1206,-863.9187 933.7763,-859.5577 923.5086,-856.9455 924.1206,-863.9187"/>
</g>
<!-- BGWork -->
<g id="node49" class="node">
<title>BGWork</title>
<polygon fill="none" stroke="#000000" points="1233,-1121 1166,-1121 1166,-1085 1233,-1085 1233,-1121"/>
<text text-anchor="middle" x="1199.5" y="-1099.3" font-family="Times,serif" font-size="14.00" fill="#000000">BGWork</text>
</g>
<!-- Env_Schedule&#45;&gt;BGWork -->
<g id="edge48" class="edge">
<title>Env_Schedule&#45;&gt;BGWork</title>
<path fill="none" stroke="#000000" d="M1056.2047,-1103C1086.7463,-1103 1126.0751,-1103 1155.8019,-1103"/>
<polygon fill="#000000" stroke="#000000" points="1155.8861,-1106.5001 1165.886,-1103 1155.886,-1099.5001 1155.8861,-1106.5001"/>
</g>
<!-- BackgroundCall -->
<g id="node50" class="node">
<title>BackgroundCall</title>
<polygon fill="none" stroke="#000000" points="1438,-1121 1333,-1121 1333,-1085 1438,-1085 1438,-1121"/>
<text text-anchor="middle" x="1385.5" y="-1099.3" font-family="Times,serif" font-size="14.00" fill="#000000">BackgroundCall</text>
</g>
<!-- BGWork&#45;&gt;BackgroundCall -->
<g id="edge49" class="edge">
<title>BGWork&#45;&gt;BackgroundCall</title>
<path fill="none" stroke="#000000" d="M1233.1832,-1103C1257.9995,-1103 1292.487,-1103 1322.3707,-1103"/>
<polygon fill="#000000" stroke="#000000" points="1322.7256,-1106.5001 1332.7255,-1103 1322.7255,-1099.5001 1322.7256,-1106.5001"/>
</g>
<!-- BackgroundCall&#45;&gt;background_work_finished_signal__SignalAll -->
<g id="edge50" class="edge">
<title>BackgroundCall&#45;&gt;background_work_finished_signal__SignalAll</title>
<path fill="none" stroke="#000000" d="M1410.9365,-1121.2583C1433.209,-1136.4901 1466.9359,-1157.7713 1499,-1171 1509.5935,-1175.3706 1521.069,-1179.1576 1532.4629,-1182.3986"/>
<polygon fill="#000000" stroke="#000000" points="1531.8625,-1185.8623 1542.4304,-1185.1071 1533.6982,-1179.1072 1531.8625,-1185.8623"/>
</g>
<!-- BackgroundCall&#45;&gt;shutting_down_ -->
<g id="edge51" class="edge">
<title>BackgroundCall&#45;&gt;shutting_down_</title>
<path fill="none" stroke="#000000" d="M1438.2779,-1112.6856C1566.7457,-1134.3603 1905.0547,-1179.9803 2176,-1115 2203.2892,-1108.4553 2231.4301,-1094.0977 2252.6777,-1081.4305"/>
<polygon fill="#000000" stroke="#000000" points="2254.6345,-1084.3365 2261.3392,-1076.1329 2250.9821,-1078.3649 2254.6345,-1084.3365"/>
</g>
<!-- BackgroundCall&#45;&gt;background_compaction_scheduled_ -->
<g id="edge52" class="edge">
<title>BackgroundCall&#45;&gt;background_compaction_scheduled_</title>
<path fill="none" stroke="#000000" d="M1438.2129,-1090.4154C1449.1163,-1087.5389 1460.4814,-1084.3382 1471,-1081 1498.9522,-1072.1291 1529.5092,-1060.7037 1554.6577,-1050.8229"/>
<polygon fill="#000000" stroke="#000000" points="1556.0041,-1054.0543 1564.0146,-1047.1202 1553.4283,-1047.5454 1556.0041,-1054.0543"/>
</g>
<!-- BackgroundCompaction -->
<g id="node51" class="node">
<title>BackgroundCompaction</title>
<polygon fill="none" stroke="#000000" points="1682.5,-1101 1533.5,-1101 1533.5,-1065 1682.5,-1065 1682.5,-1101"/>
<text text-anchor="middle" x="1608" y="-1079.3" font-family="Times,serif" font-size="14.00" fill="#000000">BackgroundCompaction</text>
</g>
<!-- BackgroundCall&#45;&gt;BackgroundCompaction -->
<g id="edge53" class="edge">
<title>BackgroundCall&#45;&gt;BackgroundCompaction</title>
<path fill="none" stroke="#000000" d="M1438.2294,-1098.2603C1463.6344,-1095.9767 1494.7312,-1093.1815 1523.3369,-1090.6102"/>
<polygon fill="#000000" stroke="#000000" points="1523.6913,-1094.0925 1533.3377,-1089.7112 1523.0645,-1087.1206 1523.6913,-1094.0925"/>
</g>
<!-- CompactMemTable -->
<g id="node52" class="node">
<title>CompactMemTable</title>
<polygon fill="none" stroke="#000000" points="2006,-931.5 2006,-992.5 2170,-992.5 2170,-931.5 2006,-931.5"/>
<text text-anchor="middle" x="2088" y="-977.3" font-family="Times,serif" font-size="14.00" fill="#000000">CompactMemTable</text>
<polyline fill="none" stroke="#000000" points="2006,-969.5 2170,-969.5 "/>
<text text-anchor="start" x="2014" y="-954.3" font-family="Times,serif" font-size="14.00" fill="#000000">将imm_写入level0文件</text>
<text text-anchor="start" x="2014" y="-939.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 然后将imm_置为nullptr;</text>
</g>
<!-- BackgroundCompaction&#45;&gt;CompactMemTable -->
<g id="edge54" class="edge">
<title>BackgroundCompaction&#45;&gt;CompactMemTable</title>
<path fill="none" stroke="#000000" d="M1682.6983,-1076.1062C1757.3496,-1067.7764 1874.7065,-1050.7446 1972,-1019 1989.639,-1013.2448 2007.9853,-1005.2608 2024.7417,-997.0881"/>
<polygon fill="#000000" stroke="#000000" points="2026.4812,-1000.1319 2033.8727,-992.5413 2023.361,-993.8658 2026.4812,-1000.1319"/>
</g>
<!-- CompactRange -->
<g id="node53" class="node">
<title>CompactRange</title>
<polygon fill="none" stroke="#000000" points="1909,-975 1808,-975 1808,-939 1909,-939 1909,-975"/>
<text text-anchor="middle" x="1858.5" y="-953.3" font-family="Times,serif" font-size="14.00" fill="#000000">CompactRange</text>
</g>
<!-- BackgroundCompaction&#45;&gt;CompactRange -->
<g id="edge55" class="edge">
<title>BackgroundCompaction&#45;&gt;CompactRange</title>
<path fill="none" stroke="#000000" d="M1682.6371,-1072.4447C1694.4046,-1069.5069 1706.2305,-1065.7641 1717,-1061 1761.4086,-1041.355 1805.3324,-1005.8965 1832.184,-981.9067"/>
<polygon fill="#000000" stroke="#000000" points="1834.5633,-984.4739 1839.6207,-975.164 1829.8614,-979.2881 1834.5633,-984.4739"/>
</g>
<!-- DoCompactionWork -->
<g id="node54" class="node">
<title>DoCompactionWork</title>
<polygon fill="none" stroke="#000000" points="1924,-1094 1793,-1094 1793,-1058 1924,-1058 1924,-1094"/>
<text text-anchor="middle" x="1858.5" y="-1072.3" font-family="Times,serif" font-size="14.00" fill="#000000">DoCompactionWork</text>
</g>
<!-- BackgroundCompaction&#45;&gt;DoCompactionWork -->
<g id="edge56" class="edge">
<title>BackgroundCompaction&#45;&gt;DoCompactionWork</title>
<path fill="none" stroke="#000000" d="M1682.8189,-1080.9093C1714.4305,-1080.0259 1751.1873,-1078.9988 1782.8845,-1078.113"/>
<polygon fill="#000000" stroke="#000000" points="1783.0868,-1081.6088 1792.9851,-1077.8308 1782.8912,-1074.6115 1783.0868,-1081.6088"/>
</g>
<!-- CompactMemTable&#45;&gt;imm_ -->
<g id="edge57" class="edge">
<title>CompactMemTable&#45;&gt;imm_</title>
<path fill="none" stroke="#000000" d="M2167.0408,-931.488C2170.0885,-930.0198 2173.0851,-928.522 2176,-927 2201.0567,-913.9167 2227.5114,-896.6198 2248.4147,-882.0388"/>
<polygon fill="#000000" stroke="#000000" points="2250.5631,-884.8067 2256.7205,-876.1848 2246.5303,-879.085 2250.5631,-884.8067"/>
</g>
<!-- CompactMemTable&#45;&gt;shutting_down_ -->
<g id="edge58" class="edge">
<title>CompactMemTable&#45;&gt;shutting_down_</title>
<path fill="none" stroke="#000000" d="M2151.5561,-992.5069C2180.6141,-1006.4548 2214.4283,-1022.6856 2241.1247,-1035.4998"/>
<polygon fill="#000000" stroke="#000000" points="2239.7214,-1038.7085 2250.2512,-1039.8806 2242.7505,-1032.3979 2239.7214,-1038.7085"/>
</g>
<!-- WriteLevel0Table -->
<g id="node55" class="node">
<title>WriteLevel0Table</title>
<polygon fill="#f38181" stroke="#000000" points="2228,-931 2228,-977 2348,-977 2348,-931 2228,-931"/>
<text text-anchor="middle" x="2288" y="-961.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteLevel0Table</text>
<polyline fill="none" stroke="#000000" points="2228,-954 2348,-954 "/>
<text text-anchor="start" x="2236" y="-938.8" font-family="Times,serif" font-size="14.00" fill="#000000">将MemTable落盘</text>
</g>
<!-- CompactMemTable&#45;&gt;WriteLevel0Table -->
<g id="edge59" class="edge">
<title>CompactMemTable&#45;&gt;WriteLevel0Table</title>
<path fill="none" stroke="#000000" d="M2170.2135,-958.7115C2185.8829,-958.0847 2202.1543,-957.4338 2217.4214,-956.8231"/>
<polygon fill="#000000" stroke="#000000" points="2217.9586,-960.3045 2227.8107,-956.4076 2217.6788,-953.3101 2217.9586,-960.3045"/>
</g>
<!-- CompactRange&#45;&gt;OverlapInLevel -->
<g id="edge67" class="edge">
<title>CompactRange&#45;&gt;OverlapInLevel</title>
<path fill="none" stroke="#000000" d="M1909.2359,-959.4048C1931.3879,-957.6862 1955.9246,-951.5643 1972,-935 2068.9519,-835.0994 2084.9955,-371.7761 2087.5391,-251.5575"/>
<polygon fill="#000000" stroke="#000000" points="2091.043,-251.3898 2087.7399,-241.323 2084.0443,-251.2524 2091.043,-251.3898"/>
</g>
<!-- DoCompactionWork&#45;&gt;CompactMemTable -->
<g id="edge60" class="edge">
<title>DoCompactionWork&#45;&gt;CompactMemTable</title>
<path fill="none" stroke="#000000" d="M1924.0971,-1068.7955C1940.2348,-1065.5465 1957.1376,-1060.834 1972,-1054 2000.9106,-1040.7063 2028.9867,-1018.7555 2050.2746,-999.6291"/>
<polygon fill="#000000" stroke="#000000" points="2052.7927,-1002.0689 2057.7993,-992.7316 2048.0626,-996.9087 2052.7927,-1002.0689"/>
</g>
<!-- OpenCompactionOutputFile -->
<g id="node57" class="node">
<title>OpenCompactionOutputFile</title>
<polygon fill="none" stroke="#000000" points="2173.5,-1047 2002.5,-1047 2002.5,-1011 2173.5,-1011 2173.5,-1047"/>
<text text-anchor="middle" x="2088" y="-1025.3" font-family="Times,serif" font-size="14.00" fill="#000000">OpenCompactionOutputFile</text>
</g>
<!-- DoCompactionWork&#45;&gt;OpenCompactionOutputFile -->
<g id="edge61" class="edge">
<title>DoCompactionWork&#45;&gt;OpenCompactionOutputFile</title>
<path fill="none" stroke="#000000" d="M1924.2655,-1063.4934C1939.922,-1060.4494 1956.5637,-1057.1591 1972,-1054 1979.5923,-1052.4462 1987.458,-1050.8093 1995.3528,-1049.1472"/>
<polygon fill="#000000" stroke="#000000" points="1996.2908,-1052.5263 2005.3501,-1047.0327 1994.8422,-1045.6778 1996.2908,-1052.5263"/>
</g>
<!-- FinishCompactionOutputFile -->
<g id="node58" class="node">
<title>FinishCompactionOutputFile</title>
<polygon fill="none" stroke="#000000" points="2176,-1101 2000,-1101 2000,-1065 2176,-1065 2176,-1101"/>
<text text-anchor="middle" x="2088" y="-1079.3" font-family="Times,serif" font-size="14.00" fill="#000000">FinishCompactionOutputFile</text>
</g>
<!-- DoCompactionWork&#45;&gt;FinishCompactionOutputFile -->
<g id="edge62" class="edge">
<title>DoCompactionWork&#45;&gt;FinishCompactionOutputFile</title>
<path fill="none" stroke="#000000" d="M1924.2655,-1078.0059C1944.7111,-1078.6295 1967.7109,-1079.3311 1989.8664,-1080.0068"/>
<polygon fill="#000000" stroke="#000000" points="1989.8723,-1083.5085 1999.9743,-1080.3151 1990.0857,-1076.5118 1989.8723,-1083.5085"/>
</g>
<!-- WriteLevel0Table&#45;&gt;PickLevelForMemTableOutput -->
<g id="edge63" class="edge">
<title>WriteLevel0Table&#45;&gt;PickLevelForMemTableOutput</title>
<path fill="none" stroke="#000000" d="M2348.0016,-933.2666C2354.0335,-929.2779 2359.5589,-924.5625 2364,-919 2438.7164,-825.4183 2480.8676,-440.3094 2491.3775,-332.2878"/>
<polygon fill="#000000" stroke="#000000" points="2494.8779,-332.4502 2492.3484,-322.1617 2487.9099,-331.782 2494.8779,-332.4502"/>
</g>
<!-- WriteLevel0Table&#45;&gt;NewFileNumber -->
<g id="edge64" class="edge">
<title>WriteLevel0Table&#45;&gt;NewFileNumber</title>
<path fill="none" stroke="#000000" d="M2348.1336,-934.3956C2354.3075,-930.1977 2359.8314,-925.1244 2364,-919 2444.4013,-800.8754 2310.8693,-388.6848 2400,-277 2407.6124,-267.4613 2418.36,-261.1505 2429.8823,-257.0069"/>
<polygon fill="#000000" stroke="#000000" points="2431.1488,-260.2798 2439.6913,-254.0128 2429.1051,-253.5848 2431.1488,-260.2798"/>
</g>
<!-- BuildTable -->
<g id="node56" class="node">
<title>BuildTable</title>
<polygon fill="none" stroke="#000000" points="2434,-931 2434,-977 2554,-977 2554,-931 2434,-931"/>
<text text-anchor="middle" x="2494" y="-961.8" font-family="Times,serif" font-size="14.00" fill="#000000">BuildTable</text>
<polyline fill="none" stroke="#000000" points="2434,-954 2554,-954 "/>
<text text-anchor="middle" x="2494" y="-938.8" font-family="Times,serif" font-size="14.00" fill="#000000">将MemTable落盘</text>
</g>
<!-- WriteLevel0Table&#45;&gt;BuildTable -->
<g id="edge65" class="edge">
<title>WriteLevel0Table&#45;&gt;BuildTable</title>
<path fill="none" stroke="#000000" d="M2348.1375,-954C2371.7257,-954 2398.9641,-954 2423.4708,-954"/>
<polygon fill="#000000" stroke="#000000" points="2423.7878,-957.5001 2433.7878,-954 2423.7877,-950.5001 2423.7878,-957.5001"/>
</g>
<!-- AddFile -->
<g id="node59" class="node">
<title>AddFile</title>
<polygon fill="none" stroke="#000000" points="2524.5,-1032 2463.5,-1032 2463.5,-996 2524.5,-996 2524.5,-1032"/>
<text text-anchor="middle" x="2494" y="-1010.3" font-family="Times,serif" font-size="14.00" fill="#000000">AddFile</text>
</g>
<!-- WriteLevel0Table&#45;&gt;AddFile -->
<g id="edge66" class="edge">
<title>WriteLevel0Table&#45;&gt;AddFile</title>
<path fill="none" stroke="#000000" d="M2348.1376,-971.8012C2364.918,-976.746 2383.1637,-982.1017 2400,-987 2417.4166,-992.0671 2436.6662,-997.6069 2453.1862,-1002.3426"/>
<polygon fill="#000000" stroke="#000000" points="2452.5016,-1005.7871 2463.0788,-1005.1758 2454.429,-999.0577 2452.5016,-1005.7871"/>
</g>
</g>
</svg>
