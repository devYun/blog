<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: db_put Pages: 1 -->
<svg width="2586pt" height="1375pt"
 viewBox="0.00 0.00 2585.96 1375.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1371)">
<title>db_put</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1371 2581.9561,-1371 2581.9561,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_SkipList</title>
<path fill="none" stroke="#000000" d="M1312.2598,-8C1312.2598,-8 1406.5908,-8 1406.5908,-8 1412.5908,-8 1418.5908,-14 1418.5908,-20 1418.5908,-20 1418.5908,-76 1418.5908,-76 1418.5908,-82 1412.5908,-88 1406.5908,-88 1406.5908,-88 1312.2598,-88 1312.2598,-88 1306.2598,-88 1300.2598,-82 1300.2598,-76 1300.2598,-76 1300.2598,-20 1300.2598,-20 1300.2598,-14 1306.2598,-8 1312.2598,-8"/>
<text text-anchor="middle" x="1359.4253" y="-68" font-family="Times,serif" font-size="20.00" fill="#000000">SkipList</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_MemTable</title>
<path fill="none" stroke="#000000" d="M1175.5459,-96C1175.5459,-96 1408.522,-96 1408.522,-96 1414.522,-96 1420.522,-102 1420.522,-108 1420.522,-108 1420.522,-326 1420.522,-326 1420.522,-332 1414.522,-338 1408.522,-338 1408.522,-338 1175.5459,-338 1175.5459,-338 1169.5459,-338 1163.5459,-332 1163.5459,-326 1163.5459,-326 1163.5459,-108 1163.5459,-108 1163.5459,-102 1169.5459,-96 1175.5459,-96"/>
<text text-anchor="middle" x="1292.0339" y="-318" font-family="Times,serif" font-size="20.00" fill="#000000">MemTable</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_VersionSet</title>
<path fill="none" stroke="#000000" d="M2004.0742,-42C2004.0742,-42 2557.9561,-42 2557.9561,-42 2563.9561,-42 2569.9561,-48 2569.9561,-54 2569.9561,-54 2569.9561,-326 2569.9561,-326 2569.9561,-332 2563.9561,-338 2557.9561,-338 2557.9561,-338 2004.0742,-338 2004.0742,-338 1998.0742,-338 1992.0742,-332 1992.0742,-326 1992.0742,-326 1992.0742,-54 1992.0742,-54 1992.0742,-48 1998.0742,-42 2004.0742,-42"/>
<text text-anchor="middle" x="2281.0151" y="-318" font-family="Times,serif" font-size="20.00" fill="#000000">VersionSet</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_LogWriter</title>
<path fill="none" stroke="#000000" d="M399.2764,-224C399.2764,-224 564.7764,-224 564.7764,-224 570.7764,-224 576.7764,-230 576.7764,-236 576.7764,-236 576.7764,-326 576.7764,-326 576.7764,-332 570.7764,-338 564.7764,-338 564.7764,-338 399.2764,-338 399.2764,-338 393.2764,-338 387.2764,-332 387.2764,-326 387.2764,-326 387.2764,-236 387.2764,-236 387.2764,-230 393.2764,-224 399.2764,-224"/>
<text text-anchor="middle" x="482.0264" y="-318" font-family="Times,serif" font-size="20.00" fill="#000000">LogWriter</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_MemTableInserter</title>
<path fill="none" stroke="#000000" d="M941.3242,-201C941.3242,-201 1080.3242,-201 1080.3242,-201 1086.3242,-201 1092.3242,-207 1092.3242,-213 1092.3242,-213 1092.3242,-326 1092.3242,-326 1092.3242,-332 1086.3242,-338 1080.3242,-338 1080.3242,-338 941.3242,-338 941.3242,-338 935.3242,-338 929.3242,-332 929.3242,-326 929.3242,-326 929.3242,-213 929.3242,-213 929.3242,-207 935.3242,-201 941.3242,-201"/>
<text text-anchor="middle" x="1010.8242" y="-318" font-family="Times,serif" font-size="20.00" fill="#000000">MemTableInserter</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_DBImpl</title>
<path fill="none" stroke="#000000" d="M20,-346C20,-346 2529.4077,-346 2529.4077,-346 2535.4077,-346 2541.4077,-352 2541.4077,-358 2541.4077,-358 2541.4077,-1347 2541.4077,-1347 2541.4077,-1353 2535.4077,-1359 2529.4077,-1359 2529.4077,-1359 20,-1359 20,-1359 14,-1359 8,-1353 8,-1347 8,-1347 8,-358 8,-358 8,-352 14,-346 20,-346"/>
<text text-anchor="middle" x="1274.7039" y="-1339" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_MemTable</title>
<path fill="none" stroke="#000000" d="M941.1025,-849C941.1025,-849 2318.6514,-849 2318.6514,-849 2324.6514,-849 2330.6514,-855 2330.6514,-861 2330.6514,-861 2330.6514,-931 2330.6514,-931 2330.6514,-937 2324.6514,-943 2318.6514,-943 2318.6514,-943 941.1025,-943 941.1025,-943 935.1025,-943 929.1025,-937 929.1025,-931 929.1025,-931 929.1025,-861 929.1025,-861 929.1025,-855 935.1025,-849 941.1025,-849"/>
<text text-anchor="middle" x="1629.877" y="-923" font-family="Times,serif" font-size="20.00" fill="#000000">MemTable</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_background_work_finished</title>
<path fill="none" stroke="#000000" d="M1131.5459,-1209C1131.5459,-1209 1922.3262,-1209 1922.3262,-1209 1928.3262,-1209 1934.3262,-1215 1934.3262,-1221 1934.3262,-1221 1934.3262,-1311 1934.3262,-1311 1934.3262,-1317 1928.3262,-1323 1922.3262,-1323 1922.3262,-1323 1131.5459,-1323 1131.5459,-1323 1125.5459,-1323 1119.5459,-1317 1119.5459,-1311 1119.5459,-1311 1119.5459,-1221 1119.5459,-1221 1119.5459,-1215 1125.5459,-1209 1131.5459,-1209"/>
<text text-anchor="middle" x="1526.936" y="-1303" font-family="Times,serif" font-size="20.00" fill="#000000">background_work_finished</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_writers</title>
<path fill="none" stroke="#000000" d="M394.5884,-366C394.5884,-366 898.1025,-366 898.1025,-366 904.1025,-366 910.1025,-372 910.1025,-378 910.1025,-378 910.1025,-845 910.1025,-845 910.1025,-851 904.1025,-857 898.1025,-857 898.1025,-857 394.5884,-857 394.5884,-857 388.5884,-857 382.5884,-851 382.5884,-845 382.5884,-845 382.5884,-378 382.5884,-378 382.5884,-372 388.5884,-366 394.5884,-366"/>
<text text-anchor="middle" x="646.3455" y="-837" font-family="Times,serif" font-size="20.00" fill="#000000">writers队列</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_cv</title>
<path fill="none" stroke="#000000" d="M402.5884,-591C402.5884,-591 561.4644,-591 561.4644,-591 567.4644,-591 573.4644,-597 573.4644,-603 573.4644,-603 573.4644,-801 573.4644,-801 573.4644,-807 567.4644,-813 561.4644,-813 561.4644,-813 402.5884,-813 402.5884,-813 396.5884,-813 390.5884,-807 390.5884,-801 390.5884,-801 390.5884,-603 390.5884,-603 390.5884,-597 396.5884,-591 402.5884,-591"/>
<text text-anchor="middle" x="482.0264" y="-793" font-family="Times,serif" font-size="20.00" fill="#000000">cv</text>
</g>
<g id="clust17" class="cluster">
<title>cluster_Sequnce</title>
<path fill="none" stroke="#000000" d="M405.3228,-925C405.3228,-925 558.73,-925 558.73,-925 564.73,-925 570.73,-931 570.73,-937 570.73,-937 570.73,-1155 570.73,-1155 570.73,-1161 564.73,-1167 558.73,-1167 558.73,-1167 405.3228,-1167 405.3228,-1167 399.3228,-1167 393.3228,-1161 393.3228,-1155 393.3228,-1155 393.3228,-937 393.3228,-937 393.3228,-931 399.3228,-925 405.3228,-925"/>
<text text-anchor="middle" x="482.0264" y="-1147" font-family="Times,serif" font-size="20.00" fill="#000000">Sequnce</text>
</g>
<g id="clust22" class="cluster">
<title>cluster_BgThread</title>
<path fill="none" stroke="#000000" d="M965.8896,-951C965.8896,-951 2521.4077,-951 2521.4077,-951 2527.4077,-951 2533.4077,-957 2533.4077,-963 2533.4077,-963 2533.4077,-1189 2533.4077,-1189 2533.4077,-1195 2527.4077,-1201 2521.4077,-1201 2521.4077,-1201 965.8896,-1201 965.8896,-1201 959.8896,-1201 953.8896,-1195 953.8896,-1189 953.8896,-1189 953.8896,-963 953.8896,-963 953.8896,-957 959.8896,-951 965.8896,-951"/>
<text text-anchor="middle" x="1743.6487" y="-1181" font-family="Times,serif" font-size="20.00" fill="#000000">后台压缩线程</text>
</g>
<!-- SkipList_Insert -->
<g id="node1" class="node">
<title>SkipList_Insert</title>
<polygon fill="none" stroke="#000000" points="1410.7569,-52 1308.0937,-52 1308.0937,-16 1410.7569,-16 1410.7569,-52"/>
<text text-anchor="middle" x="1359.4253" y="-29.8" font-family="Times,serif" font-size="14.00" fill="#000000">SkipList_Insert</text>
</g>
<!-- MemTable_Add -->
<g id="node2" class="node">
<title>MemTable_Add</title>
<polygon fill="none" stroke="#000000" points="1171.5459,-210 1171.5459,-246 1225.5459,-246 1225.5459,-210 1171.5459,-210"/>
<text text-anchor="middle" x="1198.1011" y="-223.8" font-family="Times,serif" font-size="14.00" fill="#000000">Add</text>
</g>
<!-- MemTable_Add&#45;&gt;SkipList_Insert -->
<g id="edge1" class="edge">
<title>MemTable_Add&#45;&gt;SkipList_Insert</title>
<path fill="none" stroke="#000000" d="M1210.8773,-209.719C1229.2257,-182.9526 1265.3152,-131.9431 1300.2598,-92 1310.1675,-80.6751 1321.8574,-68.9208 1332.2186,-58.9791"/>
<polygon fill="#000000" stroke="#000000" points="1334.634,-61.512 1339.4839,-52.0924 1329.8184,-56.4317 1334.634,-61.512"/>
</g>
<!-- Arena_Allocate -->
<g id="node3" class="node">
<title>Arena_Allocate</title>
<polygon fill="none" stroke="#000000" points="1411.5471,-140 1307.3035,-140 1307.3035,-104 1411.5471,-104 1411.5471,-140"/>
<text text-anchor="middle" x="1359.4253" y="-117.8" font-family="Times,serif" font-size="14.00" fill="#000000">Arena_Allocate</text>
</g>
<!-- MemTable_Add&#45;&gt;Arena_Allocate -->
<g id="edge2" class="edge">
<title>MemTable_Add&#45;&gt;Arena_Allocate</title>
<path fill="none" stroke="#000000" d="M1218.9411,-209.8488C1238.7757,-192.7709 1270.2275,-167.1758 1300.2598,-149 1302.7048,-147.5202 1305.2448,-146.0691 1307.837,-144.6555"/>
<polygon fill="#000000" stroke="#000000" points="1309.5282,-147.7211 1316.7898,-140.0062 1306.3021,-141.5088 1309.5282,-147.7211"/>
</g>
<!-- EncodeFixed64 -->
<g id="node4" class="node">
<title>EncodeFixed64</title>
<polygon fill="none" stroke="#000000" points="1411.2945,-194 1307.5561,-194 1307.5561,-158 1411.2945,-158 1411.2945,-194"/>
<text text-anchor="middle" x="1359.4253" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeFixed64</text>
</g>
<!-- MemTable_Add&#45;&gt;EncodeFixed64 -->
<g id="edge3" class="edge">
<title>MemTable_Add&#45;&gt;EncodeFixed64</title>
<path fill="none" stroke="#000000" d="M1225.8369,-219.1789C1245.4641,-212.8349 1272.7326,-204.0211 1297.5185,-196.0097"/>
<polygon fill="#000000" stroke="#000000" points="1298.7952,-199.2754 1307.234,-192.8694 1296.6423,-192.6147 1298.7952,-199.2754"/>
</g>
<!-- EncodeVarint32 -->
<g id="node5" class="node">
<title>EncodeVarint32</title>
<polygon fill="none" stroke="#000000" points="1412.6188,-248 1306.2318,-248 1306.2318,-212 1412.6188,-212 1412.6188,-248"/>
<text text-anchor="middle" x="1359.4253" y="-225.8" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeVarint32</text>
</g>
<!-- MemTable_Add&#45;&gt;EncodeVarint32 -->
<g id="edge4" class="edge">
<title>MemTable_Add&#45;&gt;EncodeVarint32</title>
<path fill="none" stroke="#000000" d="M1225.8369,-228.3393C1245.0551,-228.5782 1271.5994,-228.9082 1295.9658,-229.2111"/>
<polygon fill="#000000" stroke="#000000" points="1296.2047,-232.7142 1306.2474,-229.3389 1296.2918,-225.7148 1296.2047,-232.7142"/>
</g>
<!-- memcpy -->
<g id="node6" class="node">
<title>memcpy</title>
<polygon fill="none" stroke="#000000" points="1391.6327,-302 1327.2179,-302 1327.2179,-266 1391.6327,-266 1391.6327,-302"/>
<text text-anchor="middle" x="1359.4253" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">memcpy</text>
</g>
<!-- MemTable_Add&#45;&gt;memcpy -->
<g id="edge5" class="edge">
<title>MemTable_Add&#45;&gt;memcpy</title>
<path fill="none" stroke="#000000" d="M1225.8369,-237.4996C1251.0468,-246.2749 1288.863,-259.4382 1317.8328,-269.5222"/>
<polygon fill="#000000" stroke="#000000" points="1316.6924,-272.8312 1327.2873,-272.8132 1318.9937,-266.2202 1316.6924,-272.8312"/>
</g>
<!-- PickLevelForMemTableOutput -->
<g id="node7" class="node">
<title>PickLevelForMemTableOutput</title>
<polygon fill="none" stroke="#000000" points="2561.7266,-302 2370.6454,-302 2370.6454,-266 2561.7266,-266 2561.7266,-302"/>
<text text-anchor="middle" x="2466.186" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">PickLevelForMemTableOutput</text>
</g>
<!-- OverlapInLevel -->
<g id="node8" class="node">
<title>OverlapInLevel</title>
<polygon fill="none" stroke="#000000" points="2104.5065,-248 2000.263,-248 2000.263,-212 2104.5065,-212 2104.5065,-248"/>
<text text-anchor="middle" x="2052.3848" y="-225.8" font-family="Times,serif" font-size="14.00" fill="#000000">OverlapInLevel</text>
</g>
<!-- SomeFileOverlapsRange -->
<g id="node9" class="node">
<title>SomeFileOverlapsRange</title>
<polygon fill="none" stroke="#000000" points="2334.4023,-194 2178.457,-194 2178.457,-158 2334.4023,-158 2334.4023,-194"/>
<text text-anchor="middle" x="2256.4297" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#000000">SomeFileOverlapsRange</text>
</g>
<!-- OverlapInLevel&#45;&gt;SomeFileOverlapsRange -->
<g id="edge6" class="edge">
<title>OverlapInLevel&#45;&gt;SomeFileOverlapsRange</title>
<path fill="none" stroke="#000000" d="M2104.6664,-216.1638C2127.0781,-210.2326 2153.7296,-203.1793 2178.3976,-196.651"/>
<polygon fill="#000000" stroke="#000000" points="2179.3299,-200.0248 2188.1017,-194.0829 2177.539,-193.2578 2179.3299,-200.0248"/>
</g>
<!-- AfterFile -->
<g id="node10" class="node">
<title>AfterFile</title>
<polygon fill="none" stroke="#000000" points="2500.0042,-86 2432.3679,-86 2432.3679,-50 2500.0042,-50 2500.0042,-86"/>
<text text-anchor="middle" x="2466.186" y="-63.8" font-family="Times,serif" font-size="14.00" fill="#000000">AfterFile</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;AfterFile -->
<g id="edge7" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;AfterFile</title>
<path fill="none" stroke="#000000" d="M2277.3049,-157.785C2299.1642,-139.5586 2335.1586,-111.8708 2370.416,-95 2386.6757,-87.2197 2405.5911,-81.2962 2422.2962,-77.0085"/>
<polygon fill="#000000" stroke="#000000" points="2423.4845,-80.3212 2432.3683,-74.5482 2421.8234,-73.5211 2423.4845,-80.3212"/>
</g>
<!-- files_ -->
<g id="node11" class="node">
<title>files_</title>
<polygon fill="none" stroke="#000000" points="2493.186,-140 2439.186,-140 2439.186,-104 2493.186,-104 2493.186,-140"/>
<text text-anchor="middle" x="2466.186" y="-117.8" font-family="Times,serif" font-size="14.00" fill="#000000">files_</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;files_ -->
<g id="edge8" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;files_</title>
<path fill="none" stroke="#000000" d="M2326.5671,-157.9437C2360.9341,-149.0962 2400.9117,-138.8043 2429.2593,-131.5065"/>
<polygon fill="#000000" stroke="#000000" points="2430.3333,-134.8442 2439.145,-128.9615 2428.5881,-128.0652 2430.3333,-134.8442"/>
</g>
<!-- BeforeFile -->
<g id="node12" class="node">
<title>BeforeFile</title>
<polygon fill="none" stroke="#000000" points="2504.0553,-194 2428.3168,-194 2428.3168,-158 2504.0553,-158 2504.0553,-194"/>
<text text-anchor="middle" x="2466.186" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#000000">BeforeFile</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;BeforeFile -->
<g id="edge9" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;BeforeFile</title>
<path fill="none" stroke="#000000" d="M2334.5352,-176C2362.5627,-176 2393.324,-176 2418.0591,-176"/>
<polygon fill="#000000" stroke="#000000" points="2418.2653,-179.5001 2428.2653,-176 2418.2653,-172.5001 2418.2653,-179.5001"/>
</g>
<!-- FindFile -->
<g id="node13" class="node">
<title>FindFile</title>
<polygon fill="none" stroke="#000000" points="2498.1428,-248 2434.2293,-248 2434.2293,-212 2498.1428,-212 2498.1428,-248"/>
<text text-anchor="middle" x="2466.186" y="-225.8" font-family="Times,serif" font-size="14.00" fill="#000000">FindFile</text>
</g>
<!-- SomeFileOverlapsRange&#45;&gt;FindFile -->
<g id="edge10" class="edge">
<title>SomeFileOverlapsRange&#45;&gt;FindFile</title>
<path fill="none" stroke="#000000" d="M2326.5671,-194.0563C2359.0248,-202.4122 2396.4871,-212.0566 2424.4299,-219.2502"/>
<polygon fill="#000000" stroke="#000000" points="2423.7102,-222.679 2434.2671,-221.7827 2425.4555,-215.9001 2423.7102,-222.679"/>
</g>
<!-- AddRecord -->
<g id="node14" class="node">
<title>AddRecord</title>
<polygon fill="none" stroke="#000000" points="395.2764,-232.4001 395.2764,-301.5999 568.7764,-301.5999 568.7764,-232.4001 395.2764,-232.4001"/>
<text text-anchor="middle" x="482.0264" y="-286.3999" font-family="Times,serif" font-size="14.00" fill="#000000">AddRecord</text>
<polyline fill="none" stroke="#000000" points="395.2764,-279.5999 568.7764,-279.5999 "/>
<text text-anchor="start" x="403.2764" y="-264.3999" font-family="Times,serif" font-size="14.00" fill="#000000">先将内容写入日志中</text>
<text text-anchor="start" x="403.2764" y="-244.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 挂掉后，能从日志中恢复</text>
</g>
<!-- MemTableInserter_Put -->
<g id="node15" class="node">
<title>MemTableInserter_Put</title>
<polygon fill="none" stroke="#000000" points="983.3242,-265 983.3242,-301 1037.3242,-301 1037.3242,-265 983.3242,-265"/>
<text text-anchor="middle" x="1010.1621" y="-278.8" font-family="Times,serif" font-size="14.00" fill="#000000">Put</text>
</g>
<!-- MemTableInserter_Put&#45;&gt;MemTable_Add -->
<g id="edge11" class="edge">
<title>MemTableInserter_Put&#45;&gt;MemTable_Add</title>
<path fill="none" stroke="#000000" d="M1037.6933,-275.0025C1070.4053,-265.4438 1125.2822,-249.4083 1161.7006,-238.7665"/>
<polygon fill="#000000" stroke="#000000" points="1162.8323,-242.0823 1171.4492,-235.9179 1160.8689,-235.3632 1162.8323,-242.0823"/>
</g>
<!-- MemTableInserter_Delete -->
<g id="node16" class="node">
<title>MemTableInserter_Delete</title>
<polygon fill="none" stroke="#000000" points="983.3242,-210 983.3242,-246 1037.3242,-246 1037.3242,-210 983.3242,-210"/>
<text text-anchor="middle" x="1010.0898" y="-223.8" font-family="Times,serif" font-size="14.00" fill="#000000">Delete</text>
</g>
<!-- MemTableInserter_Delete&#45;&gt;MemTable_Add -->
<g id="edge12" class="edge">
<title>MemTableInserter_Delete&#45;&gt;MemTable_Add</title>
<path fill="none" stroke="#000000" d="M1037.6933,-228C1070.2655,-228 1124.8136,-228 1161.2327,-228"/>
<polygon fill="#000000" stroke="#000000" points="1161.4492,-231.5001 1171.4492,-228 1161.4492,-224.5001 1161.4492,-231.5001"/>
</g>
<!-- background_work_finished_signal_ -->
<g id="node17" class="node">
<title>background_work_finished_signal_</title>
<polygon fill="#95e1d3" stroke="#000000" points="1709.6846,-1237 1709.6846,-1273 1926.3262,-1273 1926.3262,-1237 1709.6846,-1237"/>
<text text-anchor="middle" x="1818.0054" y="-1250.8" font-family="Times,serif" font-size="14.00" fill="#000000">background_work_finished_signal_</text>
</g>
<!-- background_work_finished_signal__Wait -->
<g id="node18" class="node">
<title>background_work_finished_signal__Wait</title>
<polygon fill="none" stroke="#000000" points="1127.5459,-1237.2 1127.5459,-1286.8 1269.5459,-1286.8 1269.5459,-1237.2 1127.5459,-1237.2"/>
<text text-anchor="middle" x="1198.5459" y="-1271.6" font-family="Times,serif" font-size="14.00" fill="#000000">Wait</text>
<polyline fill="none" stroke="#000000" points="1127.5459,-1264.8 1269.5459,-1264.8 "/>
<text text-anchor="middle" x="1198.5459" y="-1249.6" font-family="Times,serif" font-size="14.00" fill="#000000">等待后台线程处理完</text>
</g>
<!-- background_work_finished_signal__Wait&#45;&gt;background_work_finished_signal_ -->
<g id="edge13" class="edge">
<title>background_work_finished_signal__Wait&#45;&gt;background_work_finished_signal_</title>
<path fill="none" stroke="#000000" d="M1269.7217,-1277.0165C1279.9285,-1278.667 1290.3322,-1280.0807 1300.2598,-1281 1465.5194,-1296.3028 1508.3767,-1295.7716 1673.6846,-1281 1689.4343,-1279.5926 1706.0368,-1277.3378 1722.1512,-1274.7294"/>
<polygon fill="#000000" stroke="#000000" points="1722.8239,-1278.1656 1732.1096,-1273.0641 1721.6693,-1271.2615 1722.8239,-1278.1656"/>
</g>
<!-- background_work_finished_signal__SignalAll -->
<g id="node19" class="node">
<title>background_work_finished_signal__SignalAll</title>
<polygon fill="none" stroke="#000000" points="1497.4946,-1217.2 1497.4946,-1266.8 1625.4946,-1266.8 1625.4946,-1217.2 1497.4946,-1217.2"/>
<text text-anchor="middle" x="1561.4946" y="-1251.6" font-family="Times,serif" font-size="14.00" fill="#000000">SignalAll</text>
<polyline fill="none" stroke="#000000" points="1497.4946,-1244.8 1625.4946,-1244.8 "/>
<text text-anchor="middle" x="1561.4946" y="-1229.6" font-family="Times,serif" font-size="14.00" fill="#000000">通知已压缩处理完</text>
</g>
<!-- background_work_finished_signal__SignalAll&#45;&gt;background_work_finished_signal_ -->
<g id="edge14" class="edge">
<title>background_work_finished_signal__SignalAll&#45;&gt;background_work_finished_signal_</title>
<path fill="none" stroke="#000000" d="M1625.5614,-1245.2469C1648.0283,-1246.3855 1674.0358,-1247.7036 1699.5254,-1248.9954"/>
<polygon fill="#000000" stroke="#000000" points="1699.4749,-1252.4973 1709.6393,-1249.508 1699.8293,-1245.5062 1699.4749,-1252.4973"/>
</g>
<!-- cv_wait -->
<g id="node20" class="node">
<title>cv_wait</title>
<polygon fill="none" stroke="#000000" points="398.5884,-707.4001 398.5884,-776.5999 565.4644,-776.5999 565.4644,-707.4001 398.5884,-707.4001"/>
<text text-anchor="middle" x="482.0264" y="-761.3999" font-family="Times,serif" font-size="14.00" fill="#000000">cv_wait</text>
<polyline fill="none" stroke="#000000" points="398.5884,-754.5999 565.4644,-754.5999 "/>
<text text-anchor="start" x="406.5884" y="-739.3999" font-family="Times,serif" font-size="14.00" fill="#000000">如果自己不再writers队列</text>
<text text-anchor="start" x="406.5884" y="-719.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 最开头的话就等待</text>
</g>
<!-- cv_Signal -->
<g id="node21" class="node">
<title>cv_Signal</title>
<polygon fill="none" stroke="#000000" points="400.3384,-599.6001 400.3384,-688.3999 563.7144,-688.3999 563.7144,-599.6001 400.3384,-599.6001"/>
<text text-anchor="middle" x="482.0264" y="-673.1999" font-family="Times,serif" font-size="14.00" fill="#000000">cv_Signal</text>
<polyline fill="none" stroke="#000000" points="400.3384,-666.3999 563.7144,-666.3999 "/>
<text text-anchor="start" x="408.3384" y="-651.1999" font-family="Times,serif" font-size="14.00" fill="#000000">自己写完了，</text>
<text text-anchor="start" x="408.3384" y="-631.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 通知writers_队列中其他</text>
<text text-anchor="start" x="408.3384" y="-612" font-family="Times,serif" font-size="14.00" fill="#000000"> writer开始写</text>
</g>
<!-- Writer -->
<g id="node22" class="node">
<title>Writer</title>
<polygon fill="none" stroke="#000000" points="409.2764,-511.4001 409.2764,-580.5999 554.7764,-580.5999 554.7764,-511.4001 409.2764,-511.4001"/>
<text text-anchor="middle" x="482.0264" y="-565.3999" font-family="Times,serif" font-size="14.00" fill="#000000">Writer</text>
<polyline fill="none" stroke="#000000" points="409.2764,-558.5999 554.7764,-558.5999 "/>
<text text-anchor="start" x="417.2764" y="-543.3999" font-family="Times,serif" font-size="14.00" fill="#000000">先创建一个Writer，</text>
<text text-anchor="start" x="417.2764" y="-523.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 并将自己放入队列中</text>
</g>
<!-- writers_ -->
<g id="node23" class="node">
<title>writers_</title>
<polygon fill="#95e1d3" stroke="#000000" points="683.1299,-375 683.1299,-433 902.1025,-433 902.1025,-375 683.1299,-375"/>
<text text-anchor="middle" x="792.6162" y="-417.8" font-family="Times,serif" font-size="14.00" fill="#000000">writers_</text>
<polyline fill="none" stroke="#000000" points="683.1299,-411 902.1025,-411 "/>
<text text-anchor="start" x="691.1299" y="-395.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::deque&lt;Writer*&gt; </text>
<text text-anchor="start" x="691.1299" y="-381.8" font-family="Times,serif" font-size="14.00" fill="#000000"> writers_ GUARDED_BY(mutex_);</text>
</g>
<!-- writers_push_back -->
<g id="node24" class="node">
<title>writers_push_back</title>
<polygon fill="none" stroke="#000000" points="396.6504,-443.2 396.6504,-492.8 567.4023,-492.8 567.4023,-443.2 396.6504,-443.2"/>
<text text-anchor="middle" x="482.0264" y="-477.6" font-family="Times,serif" font-size="14.00" fill="#000000">push_back</text>
<polyline fill="none" stroke="#000000" points="396.6504,-470.8 567.4023,-470.8 "/>
<text text-anchor="start" x="404.6504" y="-455.6" font-family="Times,serif" font-size="14.00" fill="#000000">将writers放入writers_队列</text>
</g>
<!-- writers_push_back&#45;&gt;writers_ -->
<g id="edge15" class="edge">
<title>writers_push_back&#45;&gt;writers_</title>
<path fill="none" stroke="#000000" d="M567.7186,-450.3423C600.2975,-443.6291 638.0294,-435.8541 673.1707,-428.6129"/>
<polygon fill="#000000" stroke="#000000" points="673.9193,-432.0322 683.0072,-426.586 672.5065,-425.1763 673.9193,-432.0322"/>
</g>
<!-- writers_pop_front -->
<g id="node25" class="node">
<title>writers_pop_front</title>
<polygon fill="none" stroke="#000000" points="412.5884,-374.2 412.5884,-423.8 551.4644,-423.8 551.4644,-374.2 412.5884,-374.2"/>
<text text-anchor="middle" x="482.0264" y="-408.6" font-family="Times,serif" font-size="14.00" fill="#000000">pop_front</text>
<polyline fill="none" stroke="#000000" points="412.5884,-401.8 551.4644,-401.8 "/>
<text text-anchor="start" x="420.5884" y="-386.6" font-family="Times,serif" font-size="14.00" fill="#000000">从writers队列中取出</text>
</g>
<!-- writers_pop_front&#45;&gt;writers_ -->
<g id="edge16" class="edge">
<title>writers_pop_front&#45;&gt;writers_</title>
<path fill="none" stroke="#000000" d="M551.7288,-400.1221C587.4181,-400.6966 631.8785,-401.4124 672.8519,-402.072"/>
<polygon fill="#000000" stroke="#000000" points="672.8539,-405.5724 682.909,-402.2339 672.9667,-398.5733 672.8539,-405.5724"/>
</g>
<!-- imm_ -->
<g id="node26" class="node">
<title>imm_</title>
<polygon fill="#95e1d3" stroke="#000000" points="2190.208,-857.2 2190.208,-906.8 2322.6514,-906.8 2322.6514,-857.2 2190.208,-857.2"/>
<text text-anchor="middle" x="2256.4297" y="-891.6" font-family="Times,serif" font-size="14.00" fill="#000000">imm_</text>
<polyline fill="none" stroke="#000000" points="2190.208,-884.8 2322.6514,-884.8 "/>
<text text-anchor="start" x="2198.208" y="-869.6" font-family="Times,serif" font-size="14.00" fill="#000000">不可变的MemTable</text>
</g>
<!-- mem_ -->
<g id="node27" class="node">
<title>mem_</title>
<polygon fill="#95e1d3" stroke="#000000" points="937.1025,-857.2 937.1025,-906.8 1083.5459,-906.8 1083.5459,-857.2 937.1025,-857.2"/>
<text text-anchor="middle" x="1010.3242" y="-891.6" font-family="Times,serif" font-size="14.00" fill="#000000">mem_</text>
<polyline fill="none" stroke="#000000" points="937.1025,-884.8 1083.5459,-884.8 "/>
<text text-anchor="middle" x="1010.3242" y="-869.6" font-family="Times,serif" font-size="14.00" fill="#000000">当前可变的MemTable</text>
</g>
<!-- DBImpl_Put -->
<g id="node28" class="node">
<title>DBImpl_Put</title>
<polygon fill="none" stroke="#000000" points="112.277,-800 25.1439,-800 25.1439,-764 112.277,-764 112.277,-800"/>
<text text-anchor="middle" x="68.7104" y="-777.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_Put</text>
</g>
<!-- DBImpl_Write -->
<g id="node29" class="node">
<title>DBImpl_Write</title>
<polygon fill="none" stroke="#000000" points="269.3772,-760 168.9666,-760 168.9666,-724 269.3772,-724 269.3772,-760"/>
<text text-anchor="middle" x="219.1719" y="-737.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_Write</text>
</g>
<!-- DBImpl_Put&#45;&gt;DBImpl_Write -->
<g id="edge17" class="edge">
<title>DBImpl_Put&#45;&gt;DBImpl_Write</title>
<path fill="none" stroke="#000000" d="M112.6346,-770.3228C127.0788,-766.4828 143.397,-762.1447 158.8423,-758.0386"/>
<polygon fill="#000000" stroke="#000000" points="160.0724,-761.3332 168.8375,-755.3813 158.2739,-754.5681 160.0724,-761.3332"/>
</g>
<!-- WriteBatch_Put -->
<g id="node30" class="node">
<title>WriteBatch_Put</title>
<polygon fill="none" stroke="#000000" points="271.8189,-814 166.5248,-814 166.5248,-778 271.8189,-778 271.8189,-814"/>
<text text-anchor="middle" x="219.1719" y="-791.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch_Put</text>
</g>
<!-- DBImpl_Put&#45;&gt;WriteBatch_Put -->
<g id="edge18" class="edge">
<title>DBImpl_Put&#45;&gt;WriteBatch_Put</title>
<path fill="none" stroke="#000000" d="M112.6346,-786.087C126.307,-787.3592 141.6584,-788.7876 156.3592,-790.1555"/>
<polygon fill="#000000" stroke="#000000" points="156.1228,-793.6485 166.4041,-791.0901 156.7714,-786.6786 156.1228,-793.6485"/>
</g>
<!-- DBImpl_Write&#45;&gt;AddRecord -->
<g id="edge21" class="edge">
<title>DBImpl_Write&#45;&gt;AddRecord</title>
<path fill="none" stroke="#000000" d="M269.2794,-726.0981C273.7452,-723.0204 277.7632,-719.3572 280.9229,-715 378.695,-580.1709 220.1104,-477.5198 316.9229,-342 333.6206,-318.6262 359.3891,-302.3865 385.6412,-291.1648"/>
<polygon fill="#000000" stroke="#000000" points="386.9783,-294.3995 394.933,-287.4014 384.3504,-287.9115 386.9783,-294.3995"/>
</g>
<!-- DBImpl_Write&#45;&gt;cv_wait -->
<g id="edge22" class="edge">
<title>DBImpl_Write&#45;&gt;cv_wait</title>
<path fill="none" stroke="#000000" d="M269.5419,-742C303.1422,-742 348.3389,-742 388.41,-742"/>
<polygon fill="#000000" stroke="#000000" points="388.477,-745.5001 398.477,-742 388.477,-738.5001 388.477,-745.5001"/>
</g>
<!-- DBImpl_Write&#45;&gt;cv_Signal -->
<g id="edge23" class="edge">
<title>DBImpl_Write&#45;&gt;cv_Signal</title>
<path fill="none" stroke="#000000" d="M261.0979,-723.8636C267.7446,-720.9321 274.5319,-717.9054 280.9229,-715 297.0307,-707.6771 300.4819,-704.5408 316.9229,-698 340.5477,-688.6012 366.5186,-679.5362 390.7281,-671.6046"/>
<polygon fill="#000000" stroke="#000000" points="391.8359,-674.9249 400.2663,-668.5078 389.6742,-668.267 391.8359,-674.9249"/>
</g>
<!-- DBImpl_Write&#45;&gt;Writer -->
<g id="edge24" class="edge">
<title>DBImpl_Write&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M269.42,-724.9099C273.6828,-722.0761 277.619,-718.7945 280.9229,-715 319.7291,-670.4307 274.4979,-628.1396 316.9229,-587 338.7343,-565.8494 369.6765,-555.0766 398.8892,-549.7565"/>
<polygon fill="#000000" stroke="#000000" points="399.8221,-553.151 409.1322,-548.0941 398.7006,-546.2414 399.8221,-553.151"/>
</g>
<!-- DBImpl_Write&#45;&gt;writers_ -->
<g id="edge25" class="edge">
<title>DBImpl_Write&#45;&gt;writers_</title>
<path fill="none" stroke="#000000" d="M269.5428,-725.8768C273.8975,-722.8447 277.8185,-719.2528 280.9229,-715 327.0217,-651.8472 258.8759,-417.3826 316.9229,-365 344.1613,-340.4195 610.7544,-360.209 647.1299,-365 660.6904,-366.786 674.7829,-369.4703 688.624,-372.6111"/>
<polygon fill="#000000" stroke="#000000" points="688.1106,-376.086 698.6468,-374.9726 689.716,-369.2725 688.1106,-376.086"/>
</g>
<!-- DBImpl_Write&#45;&gt;writers_push_back -->
<g id="edge26" class="edge">
<title>DBImpl_Write&#45;&gt;writers_push_back</title>
<path fill="none" stroke="#000000" d="M269.558,-725.4666C273.8504,-722.5179 277.7541,-719.0576 280.9229,-715 340.0164,-639.3314 250.2553,-571.0884 316.9229,-502 335.0423,-483.2226 360.5687,-473.4009 386.1443,-468.5743"/>
<polygon fill="#000000" stroke="#000000" points="387.0126,-471.9787 396.3147,-466.9069 385.8801,-465.0709 387.0126,-471.9787"/>
</g>
<!-- DBImpl_Write&#45;&gt;writers_pop_front -->
<g id="edge27" class="edge">
<title>DBImpl_Write&#45;&gt;writers_pop_front</title>
<path fill="none" stroke="#000000" d="M269.4353,-725.7972C273.8105,-722.7804 277.7657,-719.2138 280.9229,-715 356.4193,-614.2354 231.5911,-526.5836 316.9229,-434 338.4212,-410.6746 371.2639,-400.8182 402.011,-397.2104"/>
<polygon fill="#000000" stroke="#000000" points="402.7201,-400.6584 412.3386,-396.216 402.0491,-393.6906 402.7201,-400.6584"/>
</g>
<!-- MakeRoomForWrite -->
<g id="node33" class="node">
<title>MakeRoomForWrite</title>
<polygon fill="#f38181" stroke="#000000" points="316.9229,-1175.2003 316.9229,-1322.7997 647.1299,-1322.7997 647.1299,-1175.2003 316.9229,-1175.2003"/>
<text text-anchor="middle" x="482.0264" y="-1307.5997" font-family="Times,serif" font-size="14.00" fill="#000000">MakeRoomForWrite</text>
<polyline fill="none" stroke="#000000" points="316.9229,-1300.7997 647.1299,-1300.7997 "/>
<text text-anchor="start" x="324.9229" y="-1285.5997" font-family="Times,serif" font-size="14.00" fill="#000000">1. 如果level0文件各处超过配置则等待后台压缩线程</text>
<text text-anchor="start" x="324.9229" y="-1265.9998" font-family="Times,serif" font-size="14.00" fill="#000000"> 2. 如果imm_不为null, 也等待后台压缩线程</text>
<text text-anchor="start" x="324.9229" y="-1246.3999" font-family="Times,serif" font-size="14.00" fill="#000000"> 3. 如果mem_内存超过阈值则新建一个mem_</text>
<text text-anchor="start" x="324.9229" y="-1226.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 4. 并将之间的imm设置为之前的mem_, </text>
<text text-anchor="start" x="324.9229" y="-1207.2001" font-family="Times,serif" font-size="14.00" fill="#000000">在后面的CompatMemTable中会将它落盘</text>
<text text-anchor="start" x="324.9229" y="-1187.6002" font-family="Times,serif" font-size="14.00" fill="#000000"> 5. 触发压缩操作</text>
</g>
<!-- DBImpl_Write&#45;&gt;MakeRoomForWrite -->
<g id="edge28" class="edge">
<title>DBImpl_Write&#45;&gt;MakeRoomForWrite</title>
<path fill="none" stroke="#000000" d="M269.3098,-757.8799C273.7699,-760.9618 277.7782,-764.6319 280.9229,-769 383.7825,-911.8799 220.5203,-1019.837 314.1372,-1166.4777"/>
<polygon fill="#000000" stroke="#000000" points="311.2581,-1168.4687 319.7258,-1174.8366 317.0773,-1164.5781 311.2581,-1168.4687"/>
</g>
<!-- BuildBatchGroup -->
<g id="node34" class="node">
<title>BuildBatchGroup</title>
<polygon fill="none" stroke="#000000" points="539.5722,-1131 424.4806,-1131 424.4806,-1095 539.5722,-1095 539.5722,-1131"/>
<text text-anchor="middle" x="482.0264" y="-1108.8" font-family="Times,serif" font-size="14.00" fill="#000000">BuildBatchGroup</text>
</g>
<!-- DBImpl_Write&#45;&gt;BuildBatchGroup -->
<g id="edge29" class="edge">
<title>DBImpl_Write&#45;&gt;BuildBatchGroup</title>
<path fill="none" stroke="#000000" d="M269.497,-758.1568C273.8604,-761.1824 277.796,-764.7637 280.9229,-769 365.1283,-883.0839 219.1463,-983.3091 316.9229,-1086 341.426,-1111.7347 380.2174,-1119.0385 414.0437,-1119.6503"/>
<polygon fill="#000000" stroke="#000000" points="414.365,-1123.15 424.3608,-1119.6383 414.3567,-1116.15 414.365,-1123.15"/>
</g>
<!-- SetSequence -->
<g id="node35" class="node">
<title>SetSequence</title>
<polygon fill="none" stroke="#000000" points="525.5589,-1077 438.4939,-1077 438.4939,-1041 525.5589,-1041 525.5589,-1077"/>
<text text-anchor="middle" x="482.0264" y="-1054.8" font-family="Times,serif" font-size="14.00" fill="#000000">SetSequence</text>
</g>
<!-- DBImpl_Write&#45;&gt;SetSequence -->
<g id="edge30" class="edge">
<title>DBImpl_Write&#45;&gt;SetSequence</title>
<path fill="none" stroke="#000000" d="M269.3983,-758.2306C273.7806,-761.2421 277.7476,-764.7999 280.9229,-769 352.0701,-863.112 234.5934,-947.4964 316.9229,-1032 345.2683,-1061.094 391.917,-1066.458 428.4117,-1065.3364"/>
<polygon fill="#000000" stroke="#000000" points="428.5891,-1068.832 438.4121,-1064.8624 428.2576,-1061.8399 428.5891,-1068.832"/>
</g>
<!-- Versions_LastSequence -->
<g id="node36" class="node">
<title>Versions_LastSequence</title>
<polygon fill="none" stroke="#000000" points="556.4922,-1023 407.5605,-1023 407.5605,-987 556.4922,-987 556.4922,-1023"/>
<text text-anchor="middle" x="482.0264" y="-1000.8" font-family="Times,serif" font-size="14.00" fill="#000000">Versions_LastSequence</text>
</g>
<!-- DBImpl_Write&#45;&gt;Versions_LastSequence -->
<g id="edge31" class="edge">
<title>DBImpl_Write&#45;&gt;Versions_LastSequence</title>
<path fill="none" stroke="#000000" d="M269.5449,-758.5437C273.8399,-761.4903 277.7477,-764.9474 280.9229,-769 339.0544,-843.1961 249.9914,-911.6334 316.9229,-978 337.8627,-998.7631 368.1624,-1007.3038 397.104,-1010.0511"/>
<polygon fill="#000000" stroke="#000000" points="397.0388,-1013.5555 407.2668,-1010.7917 397.5477,-1006.574 397.0388,-1013.5555"/>
</g>
<!-- Version_SetLastSequence -->
<g id="node37" class="node">
<title>Version_SetLastSequence</title>
<polygon fill="none" stroke="#000000" points="562.9341,-969 401.1186,-969 401.1186,-933 562.9341,-933 562.9341,-969"/>
<text text-anchor="middle" x="482.0264" y="-946.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version_SetLastSequence</text>
</g>
<!-- DBImpl_Write&#45;&gt;Version_SetLastSequence -->
<g id="edge32" class="edge">
<title>DBImpl_Write&#45;&gt;Version_SetLastSequence</title>
<path fill="none" stroke="#000000" d="M269.3355,-758.7121C273.6713,-761.6259 277.6459,-765.0293 280.9229,-769 327.317,-825.2172 263.1447,-879.7994 316.9229,-929 336.8818,-947.2601 364.301,-955.1126 391.0628,-957.7255"/>
<polygon fill="#000000" stroke="#000000" points="391.0393,-961.2332 401.2704,-958.4811 391.5561,-954.2523 391.0393,-961.2332"/>
</g>
<!-- WriteBatchInternal_InsertInto -->
<g id="node38" class="node">
<title>WriteBatchInternal_InsertInto</title>
<polygon fill="none" stroke="#000000" points="389.1719,-865.2 389.1719,-914.8 574.8809,-914.8 574.8809,-865.2 389.1719,-865.2"/>
<text text-anchor="middle" x="482.0264" y="-899.6" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchInternal::InsertInto</text>
<polyline fill="none" stroke="#000000" points="389.1719,-892.8 574.8809,-892.8 "/>
<text text-anchor="middle" x="482.0264" y="-877.6" font-family="Times,serif" font-size="14.00" fill="#000000">将内容插入memtable</text>
</g>
<!-- DBImpl_Write&#45;&gt;WriteBatchInternal_InsertInto -->
<g id="edge33" class="edge">
<title>DBImpl_Write&#45;&gt;WriteBatchInternal_InsertInto</title>
<path fill="none" stroke="#000000" d="M267.4568,-760.129C272.2102,-762.7776 276.795,-765.7314 280.9229,-769 301.829,-785.5543 296.0508,-800.4028 316.9229,-817 339.9632,-835.3214 368.3219,-850.0255 394.9948,-861.3003"/>
<polygon fill="#000000" stroke="#000000" points="393.7678,-864.58 404.3475,-865.1456 396.4296,-858.1058 393.7678,-864.58"/>
</g>
<!-- DBImpl_Delete -->
<g id="node31" class="node">
<title>DBImpl_Delete</title>
<polygon fill="none" stroke="#000000" points="121.6322,-719 15.7887,-719 15.7887,-683 121.6322,-683 121.6322,-719"/>
<text text-anchor="middle" x="68.7104" y="-696.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_Delete</text>
</g>
<!-- DBImpl_Delete&#45;&gt;DBImpl_Write -->
<g id="edge19" class="edge">
<title>DBImpl_Delete&#45;&gt;DBImpl_Write</title>
<path fill="none" stroke="#000000" d="M121.7575,-715.4551C133.8411,-718.7478 146.7633,-722.269 159.1159,-725.635"/>
<polygon fill="#000000" stroke="#000000" points="158.3051,-729.0416 168.8735,-728.2939 160.1455,-722.2879 158.3051,-729.0416"/>
</g>
<!-- WriteBatch_Delete -->
<g id="node32" class="node">
<title>WriteBatch_Delete</title>
<polygon fill="none" stroke="#000000" points="280.6748,-706 157.6689,-706 157.6689,-670 280.6748,-670 280.6748,-706"/>
<text text-anchor="middle" x="219.1719" y="-683.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch_Delete</text>
</g>
<!-- DBImpl_Delete&#45;&gt;WriteBatch_Delete -->
<g id="edge20" class="edge">
<title>DBImpl_Delete&#45;&gt;WriteBatch_Delete</title>
<path fill="none" stroke="#000000" d="M121.7575,-696.4167C130.0887,-695.6969 138.8184,-694.9426 147.4853,-694.1938"/>
<polygon fill="#000000" stroke="#000000" points="147.9414,-697.6675 157.6029,-693.3196 147.3387,-690.6935 147.9414,-697.6675"/>
</g>
<!-- MakeRoomForWrite&#45;&gt;background_work_finished_signal__Wait -->
<g id="edge34" class="edge">
<title>MakeRoomForWrite&#45;&gt;background_work_finished_signal__Wait</title>
<path fill="none" stroke="#000000" d="M647.3101,-1251.9988C794.5446,-1254.6701 1003.7601,-1258.466 1117.4231,-1260.5282"/>
<polygon fill="#000000" stroke="#000000" points="1117.3872,-1264.028 1127.4491,-1260.7101 1117.5143,-1257.0291 1117.3872,-1264.028"/>
</g>
<!-- MakeRoomForWrite&#45;&gt;imm_ -->
<g id="edge35" class="edge">
<title>MakeRoomForWrite&#45;&gt;imm_</title>
<path fill="none" stroke="#000000" d="M643.675,-1174.9345C644.8534,-1173.6441 646.0056,-1172.3327 647.1299,-1171 685.5126,-1125.504 638.1849,-1081.0264 683.1299,-1042 759.9616,-975.2858 838.7321,-1084.5269 910.1025,-1012 961.5688,-959.6997 875.228,-897.816 929.1025,-848 1017.088,-766.6428 1078.7108,-838 1198.5459,-838 1198.5459,-838 1198.5459,-838 1818.0054,-838 1945.49,-838 2092.7889,-856.6463 2180.0793,-869.662"/>
<polygon fill="#000000" stroke="#000000" points="2179.7509,-873.1519 2190.1606,-871.18 2180.7933,-866.23 2179.7509,-873.1519"/>
</g>
<!-- MakeRoomForWrite&#45;&gt;mem_ -->
<g id="edge36" class="edge">
<title>MakeRoomForWrite&#45;&gt;mem_</title>
<path fill="none" stroke="#000000" d="M647.2297,-1192.3728C659.2986,-1189.2329 671.3533,-1186.3903 683.1299,-1184 732.7518,-1173.928 874.5313,-1200.0342 910.1025,-1164 949.711,-1123.876 894.9187,-955.8356 929.1025,-911 929.3153,-910.7209 929.531,-910.4445 929.7495,-910.1708"/>
<polygon fill="#000000" stroke="#000000" points="932.3219,-912.5464 936.8188,-902.9532 927.321,-907.6483 932.3219,-912.5464"/>
</g>
<!-- SleepForMicroseconds -->
<g id="node39" class="node">
<title>SleepForMicroseconds</title>
<polygon fill="none" stroke="#000000" points="720.0713,-933.4001 720.0713,-1002.5999 865.1611,-1002.5999 865.1611,-933.4001 720.0713,-933.4001"/>
<text text-anchor="middle" x="792.6162" y="-987.3999" font-family="Times,serif" font-size="14.00" fill="#000000">SleepForMicroseconds</text>
<polyline fill="none" stroke="#000000" points="720.0713,-980.5999 865.1611,-980.5999 "/>
<text text-anchor="start" x="728.0713" y="-965.3999" font-family="Times,serif" font-size="14.00" fill="#000000">Sleep等待后台</text>
<text text-anchor="start" x="728.0713" y="-945.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 线程压缩完毕</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;SleepForMicroseconds -->
<g id="edge37" class="edge">
<title>MakeRoomForWrite&#45;&gt;SleepForMicroseconds</title>
<path fill="none" stroke="#000000" d="M643.7571,-1175.0023C644.9093,-1173.6903 646.0341,-1172.3563 647.1299,-1171 691.3026,-1116.3245 638.3979,-1071.219 683.1299,-1017 690.7399,-1007.776 700.4445,-1000.2247 710.9212,-994.0597"/>
<polygon fill="#000000" stroke="#000000" points="712.7545,-997.047 719.8742,-989.2009 709.4156,-990.8947 712.7545,-997.047"/>
</g>
<!-- MaybeScheduleCompaction -->
<g id="node41" class="node">
<title>MaybeScheduleCompaction</title>
<polygon fill="none" stroke="#000000" points="705.3022,-1193.2 705.3022,-1242.8 879.9302,-1242.8 879.9302,-1193.2 705.3022,-1193.2"/>
<text text-anchor="middle" x="792.6162" y="-1227.6" font-family="Times,serif" font-size="14.00" fill="#000000">MaybeScheduleCompaction</text>
<polyline fill="none" stroke="#000000" points="705.3022,-1220.8 879.9302,-1220.8 "/>
<text text-anchor="start" x="713.3022" y="-1205.6" font-family="Times,serif" font-size="14.00" fill="#000000">可能触发压缩操作</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;MaybeScheduleCompaction -->
<g id="edge38" class="edge">
<title>MakeRoomForWrite&#45;&gt;MaybeScheduleCompaction</title>
<path fill="none" stroke="#000000" d="M647.3244,-1232.5016C663.7242,-1230.8647 679.9746,-1229.2428 695.34,-1227.7091"/>
<polygon fill="#000000" stroke="#000000" points="695.6993,-1231.1908 705.3022,-1226.7148 695.004,-1224.2254 695.6993,-1231.1908"/>
</g>
<!-- ApproximateMemoryUsage -->
<g id="node42" class="node">
<title>ApproximateMemoryUsage</title>
<polygon fill="none" stroke="#000000" points="706.0815,-1051.2 706.0815,-1100.8 879.1509,-1100.8 879.1509,-1051.2 706.0815,-1051.2"/>
<text text-anchor="middle" x="792.6162" y="-1085.6" font-family="Times,serif" font-size="14.00" fill="#000000">ApproximateMemoryUsage</text>
<polyline fill="none" stroke="#000000" points="706.0815,-1078.8 879.1509,-1078.8 "/>
<text text-anchor="start" x="714.0815" y="-1063.6" font-family="Times,serif" font-size="14.00" fill="#000000">评估当前mem_使用内存</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;ApproximateMemoryUsage -->
<g id="edge39" class="edge">
<title>MakeRoomForWrite&#45;&gt;ApproximateMemoryUsage</title>
<path fill="none" stroke="#000000" d="M642.4778,-1175.1054C644.056,-1173.7571 645.6075,-1172.3887 647.1299,-1171 670.3878,-1149.7849 658.4426,-1129.5333 683.1299,-1110 687.4222,-1106.6038 692.0558,-1103.5448 696.9078,-1100.79"/>
<polygon fill="#000000" stroke="#000000" points="698.5846,-1103.8631 705.8507,-1096.1524 695.362,-1097.649 698.5846,-1103.8631"/>
</g>
<!-- has_imm_ -->
<g id="node43" class="node">
<title>has_imm_</title>
<polygon fill="none" stroke="#000000" points="829.948,-1155 755.2844,-1155 755.2844,-1119 829.948,-1119 829.948,-1155"/>
<text text-anchor="middle" x="792.6162" y="-1132.8" font-family="Times,serif" font-size="14.00" fill="#000000">has_imm_</text>
</g>
<!-- MakeRoomForWrite&#45;&gt;has_imm_ -->
<g id="edge40" class="edge">
<title>MakeRoomForWrite&#45;&gt;has_imm_</title>
<path fill="none" stroke="#000000" d="M647.2761,-1181.8316C659.3616,-1177.3598 671.4052,-1173.0354 683.1299,-1169 703.3809,-1162.0299 726.0614,-1155.238 745.5046,-1149.7176"/>
<polygon fill="#000000" stroke="#000000" points="746.6664,-1153.0267 755.3471,-1146.9524 744.7731,-1146.2876 746.6664,-1153.0267"/>
</g>
<!-- WriteBatch_Iterate -->
<g id="node44" class="node">
<title>WriteBatch_Iterate</title>
<polygon fill="none" stroke="#000000" points="703.46,-865.2 703.46,-914.8 881.7725,-914.8 881.7725,-865.2 703.46,-865.2"/>
<text text-anchor="middle" x="792.6162" y="-899.6" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch_Iterate</text>
<polyline fill="none" stroke="#000000" points="703.46,-892.8 881.7725,-892.8 "/>
<text text-anchor="middle" x="792.6162" y="-877.6" font-family="Times,serif" font-size="14.00" fill="#000000">根据KeyTypeput或者delete;</text>
</g>
<!-- WriteBatchInternal_InsertInto&#45;&gt;WriteBatch_Iterate -->
<g id="edge41" class="edge">
<title>WriteBatchInternal_InsertInto&#45;&gt;WriteBatch_Iterate</title>
<path fill="none" stroke="#000000" d="M575.2136,-890C612.4475,-890 655.3846,-890 693.215,-890"/>
<polygon fill="#000000" stroke="#000000" points="693.2268,-893.5001 703.2267,-890 693.2267,-886.5001 693.2268,-893.5001"/>
</g>
<!-- shutting_down_ -->
<g id="node40" class="node">
<title>shutting_down_</title>
<polygon fill="#95e1d3" stroke="#000000" points="2203.3159,-1079 2203.3159,-1115 2309.5435,-1115 2309.5435,-1079 2203.3159,-1079"/>
<text text-anchor="middle" x="2256.4297" y="-1092.8" font-family="Times,serif" font-size="14.00" fill="#000000">shutting_down_</text>
</g>
<!-- background_compaction_scheduled_ -->
<g id="node45" class="node">
<title>background_compaction_scheduled_</title>
<polygon fill="none" stroke="#000000" points="1673.8748,-1083 1449.1144,-1083 1449.1144,-1047 1673.8748,-1047 1673.8748,-1083"/>
<text text-anchor="middle" x="1561.4946" y="-1060.8" font-family="Times,serif" font-size="14.00" fill="#000000">background_compaction_scheduled_</text>
</g>
<!-- MaybeScheduleCompaction&#45;&gt;background_compaction_scheduled_ -->
<g id="edge45" class="edge">
<title>MaybeScheduleCompaction&#45;&gt;background_compaction_scheduled_</title>
<path fill="none" stroke="#000000" d="M880.1665,-1199.8454C891.2964,-1194.5743 901.7082,-1187.7737 910.1025,-1179 931.5001,-1156.6355 905.0697,-1131.505 929.1025,-1112 971.6001,-1077.5091 1365.9666,-1082.4021 1420.522,-1078 1426.6313,-1077.507 1432.8881,-1076.9867 1439.2057,-1076.4491"/>
<polygon fill="#000000" stroke="#000000" points="1439.5078,-1079.9362 1449.1708,-1075.5915 1438.9075,-1072.962 1439.5078,-1079.9362"/>
</g>
<!-- Env_Schedule -->
<g id="node46" class="node">
<title>Env_Schedule</title>
<polygon fill="none" stroke="#000000" points="1058.6934,-1157 961.955,-1157 961.955,-1121 1058.6934,-1121 1058.6934,-1157"/>
<text text-anchor="middle" x="1010.3242" y="-1134.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env_Schedule</text>
</g>
<!-- MaybeScheduleCompaction&#45;&gt;Env_Schedule -->
<g id="edge46" class="edge">
<title>MaybeScheduleCompaction&#45;&gt;Env_Schedule</title>
<path fill="none" stroke="#000000" d="M880.1894,-1193.7311C890.5807,-1189.4678 900.7906,-1184.5748 910.1025,-1179 920.0829,-1173.025 918.9588,-1166.6933 929.1025,-1161 936.1671,-1157.0349 943.9821,-1153.7554 951.891,-1151.0504"/>
<polygon fill="#000000" stroke="#000000" points="953.0437,-1154.3571 961.5406,-1148.0284 950.9516,-1147.6771 953.0437,-1154.3571"/>
</g>
<!-- WriteBatch_Iterate&#45;&gt;MemTableInserter_Put -->
<g id="edge43" class="edge">
<title>WriteBatch_Iterate&#45;&gt;MemTableInserter_Put</title>
<path fill="none" stroke="#000000" d="M881.8166,-881.3936C892.7079,-876.7669 902.6138,-870.2098 910.1025,-861 946.508,-816.2279 901.9663,-392.9267 929.1025,-342 938.9223,-323.5713 957.3412,-309.4691 974.1593,-299.6803"/>
<polygon fill="#000000" stroke="#000000" points="976.1857,-302.5609 983.2732,-294.6857 972.8216,-296.4223 976.1857,-302.5609"/>
</g>
<!-- WriteBatch_Iterate&#45;&gt;MemTableInserter_Delete -->
<g id="edge44" class="edge">
<title>WriteBatch_Iterate&#45;&gt;MemTableInserter_Delete</title>
<path fill="none" stroke="#000000" d="M881.8602,-881.429C892.7453,-876.7972 902.6378,-870.2292 910.1025,-861 952.3972,-808.7081 889.2024,-310.1411 929.1025,-256 939.2648,-242.2107 956.6551,-235.1584 972.7432,-231.5737"/>
<polygon fill="#000000" stroke="#000000" points="973.8351,-234.9317 983.0383,-229.6827 972.5705,-228.0469 973.8351,-234.9317"/>
</g>
<!-- WriteBatch_Iterate&#45;&gt;mem_ -->
<g id="edge42" class="edge">
<title>WriteBatch_Iterate&#45;&gt;mem_</title>
<path fill="none" stroke="#000000" d="M881.7946,-886.723C896.6785,-886.1761 912.0702,-885.6105 926.8059,-885.069"/>
<polygon fill="#000000" stroke="#000000" points="927.0239,-888.5635 936.8885,-884.6985 926.7667,-881.5682 927.0239,-888.5635"/>
</g>
<!-- BGWork -->
<g id="node47" class="node">
<title>BGWork</title>
<polygon fill="none" stroke="#000000" points="1231.7562,-1157 1165.3356,-1157 1165.3356,-1121 1231.7562,-1121 1231.7562,-1157"/>
<text text-anchor="middle" x="1198.5459" y="-1134.8" font-family="Times,serif" font-size="14.00" fill="#000000">BGWork</text>
</g>
<!-- Env_Schedule&#45;&gt;BGWork -->
<g id="edge47" class="edge">
<title>Env_Schedule&#45;&gt;BGWork</title>
<path fill="none" stroke="#000000" d="M1058.796,-1139C1088.578,-1139 1126.4058,-1139 1155.1926,-1139"/>
<polygon fill="#000000" stroke="#000000" points="1155.3576,-1142.5001 1165.3576,-1139 1155.3576,-1135.5001 1155.3576,-1142.5001"/>
</g>
<!-- BackgroundCall -->
<g id="node48" class="node">
<title>BackgroundCall</title>
<polygon fill="none" stroke="#000000" points="1413.1844,-1157 1305.6662,-1157 1305.6662,-1121 1413.1844,-1121 1413.1844,-1157"/>
<text text-anchor="middle" x="1359.4253" y="-1134.8" font-family="Times,serif" font-size="14.00" fill="#000000">BackgroundCall</text>
</g>
<!-- BGWork&#45;&gt;BackgroundCall -->
<g id="edge48" class="edge">
<title>BGWork&#45;&gt;BackgroundCall</title>
<path fill="none" stroke="#000000" d="M1231.8802,-1139C1250.2339,-1139 1273.6392,-1139 1295.3768,-1139"/>
<polygon fill="#000000" stroke="#000000" points="1295.5525,-1142.5001 1305.5524,-1139 1295.5524,-1135.5001 1295.5525,-1142.5001"/>
</g>
<!-- BackgroundCall&#45;&gt;background_work_finished_signal__SignalAll -->
<g id="edge49" class="edge">
<title>BackgroundCall&#45;&gt;background_work_finished_signal__SignalAll</title>
<path fill="none" stroke="#000000" d="M1376.666,-1157.1819C1393.6271,-1174.0328 1421.0249,-1198.6036 1449.3047,-1213 1461.1625,-1219.0365 1474.3819,-1223.8895 1487.4678,-1227.7677"/>
<polygon fill="#000000" stroke="#000000" points="1486.851,-1231.2293 1497.4238,-1230.5469 1488.7331,-1224.4871 1486.851,-1231.2293"/>
</g>
<!-- BackgroundCall&#45;&gt;shutting_down_ -->
<g id="edge50" class="edge">
<title>BackgroundCall&#45;&gt;shutting_down_</title>
<path fill="none" stroke="#000000" d="M1413.4817,-1148.4199C1541.8836,-1168.9496 1874.5031,-1211.2572 2142.4434,-1151 2169.1751,-1144.9883 2197.0064,-1131.9529 2218.4762,-1120.1959"/>
<polygon fill="#000000" stroke="#000000" points="2220.2609,-1123.2079 2227.2664,-1115.2597 2216.8334,-1117.1044 2220.2609,-1123.2079"/>
</g>
<!-- BackgroundCall&#45;&gt;background_compaction_scheduled_ -->
<g id="edge51" class="edge">
<title>BackgroundCall&#45;&gt;background_compaction_scheduled_</title>
<path fill="none" stroke="#000000" d="M1409.781,-1120.9026C1413.4171,-1119.5851 1417.0266,-1118.274 1420.522,-1117 1447.7966,-1107.0592 1477.9975,-1095.9348 1503.4265,-1086.5343"/>
<polygon fill="#000000" stroke="#000000" points="1504.7579,-1089.7737 1512.9228,-1083.0219 1502.3296,-1083.2083 1504.7579,-1089.7737"/>
</g>
<!-- BackgroundCompaction -->
<g id="node49" class="node">
<title>BackgroundCompaction</title>
<polygon fill="none" stroke="#000000" points="1637.857,-1137 1485.1323,-1137 1485.1323,-1101 1637.857,-1101 1637.857,-1137"/>
<text text-anchor="middle" x="1561.4946" y="-1114.8" font-family="Times,serif" font-size="14.00" fill="#000000">BackgroundCompaction</text>
</g>
<!-- BackgroundCall&#45;&gt;BackgroundCompaction -->
<g id="edge52" class="edge">
<title>BackgroundCall&#45;&gt;BackgroundCompaction</title>
<path fill="none" stroke="#000000" d="M1413.3107,-1133.6666C1432.1997,-1131.7971 1453.9229,-1129.647 1474.8107,-1127.5796"/>
<polygon fill="#000000" stroke="#000000" points="1475.375,-1131.041 1484.9816,-1126.5729 1474.6855,-1124.075 1475.375,-1131.041"/>
</g>
<!-- CompactMemTable -->
<g id="node50" class="node">
<title>CompactMemTable</title>
<polygon fill="none" stroke="#000000" points="1970.6899,-959.4001 1970.6899,-1028.5999 2134.0796,-1028.5999 2134.0796,-959.4001 1970.6899,-959.4001"/>
<text text-anchor="middle" x="2052.3848" y="-1013.3999" font-family="Times,serif" font-size="14.00" fill="#000000">CompactMemTable</text>
<polyline fill="none" stroke="#000000" points="1970.6899,-1006.5999 2134.0796,-1006.5999 "/>
<text text-anchor="start" x="1978.6899" y="-991.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将imm_写入level0文件</text>
<text text-anchor="start" x="1978.6899" y="-971.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 然后将imm_置为nullptr;</text>
</g>
<!-- BackgroundCompaction&#45;&gt;CompactMemTable -->
<g id="edge53" class="edge">
<title>BackgroundCompaction&#45;&gt;CompactMemTable</title>
<path fill="none" stroke="#000000" d="M1638.0025,-1111.5646C1714.4629,-1102.6765 1834.6656,-1084.7202 1934.3262,-1052 1949.7783,-1046.9268 1965.77,-1040.1875 1980.8051,-1033.1016"/>
<polygon fill="#000000" stroke="#000000" points="1982.5403,-1036.1507 1990.0296,-1028.6567 1979.5016,-1029.8446 1982.5403,-1036.1507"/>
</g>
<!-- CompactRange -->
<g id="node51" class="node">
<title>CompactRange</title>
<polygon fill="none" stroke="#000000" points="1869.3164,-1004 1766.6944,-1004 1766.6944,-968 1869.3164,-968 1869.3164,-1004"/>
<text text-anchor="middle" x="1818.0054" y="-981.8" font-family="Times,serif" font-size="14.00" fill="#000000">CompactRange</text>
</g>
<!-- BackgroundCompaction&#45;&gt;CompactRange -->
<g id="edge54" class="edge">
<title>BackgroundCompaction&#45;&gt;CompactRange</title>
<path fill="none" stroke="#000000" d="M1638.1097,-1108.9079C1650.3086,-1105.9114 1662.5619,-1102.029 1673.6846,-1097 1720.3463,-1075.9023 1765.748,-1037.0533 1792.7969,-1011.3699"/>
<polygon fill="#000000" stroke="#000000" points="1795.4854,-1013.6397 1800.2542,-1004.1787 1790.6263,-1008.6008 1795.4854,-1013.6397"/>
</g>
<!-- DoCompactionWork -->
<g id="node52" class="node">
<title>DoCompactionWork</title>
<polygon fill="none" stroke="#000000" points="1884.3124,-1129 1751.6984,-1129 1751.6984,-1093 1884.3124,-1093 1884.3124,-1129"/>
<text text-anchor="middle" x="1818.0054" y="-1106.8" font-family="Times,serif" font-size="14.00" fill="#000000">DoCompactionWork</text>
</g>
<!-- BackgroundCompaction&#45;&gt;DoCompactionWork -->
<g id="edge55" class="edge">
<title>BackgroundCompaction&#45;&gt;DoCompactionWork</title>
<path fill="none" stroke="#000000" d="M1638.1089,-1116.6106C1670.7454,-1115.5927 1708.7376,-1114.4078 1741.3759,-1113.3899"/>
<polygon fill="#000000" stroke="#000000" points="1741.885,-1116.8758 1751.771,-1113.0657 1741.6667,-1109.8792 1741.885,-1116.8758"/>
</g>
<!-- CompactMemTable&#45;&gt;imm_ -->
<g id="edge56" class="edge">
<title>CompactMemTable&#45;&gt;imm_</title>
<path fill="none" stroke="#000000" d="M2134.1505,-959.2879C2136.9643,-957.8722 2139.7361,-956.441 2142.4434,-955 2166.2212,-942.3433 2191.5582,-926.3855 2212.291,-912.6202"/>
<polygon fill="#000000" stroke="#000000" points="2214.5149,-915.3433 2220.8767,-906.871 2210.6201,-909.5269 2214.5149,-915.3433"/>
</g>
<!-- CompactMemTable&#45;&gt;shutting_down_ -->
<g id="edge57" class="edge">
<title>CompactMemTable&#45;&gt;shutting_down_</title>
<path fill="none" stroke="#000000" d="M2121.1806,-1028.7275C2150.9868,-1043.7734 2185.0405,-1060.9634 2211.5208,-1074.3304"/>
<polygon fill="#000000" stroke="#000000" points="2210.0476,-1077.5074 2220.552,-1078.8893 2213.2021,-1071.2584 2210.0476,-1077.5074"/>
</g>
<!-- WriteLevel0Table -->
<g id="node53" class="node">
<title>WriteLevel0Table</title>
<polygon fill="none" stroke="#000000" points="2197.208,-969.2 2197.208,-1018.8 2315.6514,-1018.8 2315.6514,-969.2 2197.208,-969.2"/>
<text text-anchor="middle" x="2256.4297" y="-1003.6" font-family="Times,serif" font-size="14.00" fill="#000000">WriteLevel0Table</text>
<polyline fill="none" stroke="#000000" points="2197.208,-996.8 2315.6514,-996.8 "/>
<text text-anchor="start" x="2205.208" y="-981.6" font-family="Times,serif" font-size="14.00" fill="#000000">将MemTable落盘</text>
</g>
<!-- CompactMemTable&#45;&gt;WriteLevel0Table -->
<g id="edge58" class="edge">
<title>CompactMemTable&#45;&gt;WriteLevel0Table</title>
<path fill="none" stroke="#000000" d="M2134.2019,-994C2151.6471,-994 2169.9133,-994 2186.8484,-994"/>
<polygon fill="#000000" stroke="#000000" points="2187.2017,-997.5001 2197.2016,-994 2187.2016,-990.5001 2187.2017,-997.5001"/>
</g>
<!-- CompactRange&#45;&gt;OverlapInLevel -->
<g id="edge66" class="edge">
<title>CompactRange&#45;&gt;OverlapInLevel</title>
<path fill="none" stroke="#000000" d="M1869.4042,-988.7892C1892.2591,-987.207 1917.701,-981.0879 1934.3262,-964 2034.6893,-860.8437 2049.7848,-380.3629 2052.0085,-258.2725"/>
<polygon fill="#000000" stroke="#000000" points="2055.5089,-258.2748 2052.1767,-248.2177 2048.5099,-258.1577 2055.5089,-258.2748"/>
</g>
<!-- DoCompactionWork&#45;&gt;CompactMemTable -->
<g id="edge59" class="edge">
<title>DoCompactionWork&#45;&gt;CompactMemTable</title>
<path fill="none" stroke="#000000" d="M1884.3513,-1104.2289C1901.1636,-1100.9712 1918.8365,-1096.1462 1934.3262,-1089 1962.41,-1076.0434 1989.5975,-1054.9522 2010.7893,-1035.9302"/>
<polygon fill="#000000" stroke="#000000" points="2013.3069,-1038.3705 2018.3161,-1029.0346 2008.5783,-1033.209 2013.3069,-1038.3705"/>
</g>
<!-- OpenCompactionOutputFile -->
<g id="node55" class="node">
<title>OpenCompactionOutputFile</title>
<polygon fill="none" stroke="#000000" points="2140.313,-1083 1964.4565,-1083 1964.4565,-1047 2140.313,-1047 2140.313,-1083"/>
<text text-anchor="middle" x="2052.3848" y="-1060.8" font-family="Times,serif" font-size="14.00" fill="#000000">OpenCompactionOutputFile</text>
</g>
<!-- DoCompactionWork&#45;&gt;OpenCompactionOutputFile -->
<g id="edge60" class="edge">
<title>DoCompactionWork&#45;&gt;OpenCompactionOutputFile</title>
<path fill="none" stroke="#000000" d="M1884.1636,-1098.6492C1900.5642,-1095.5428 1918.0909,-1092.1854 1934.3262,-1089 1940.8763,-1087.7149 1947.628,-1086.3772 1954.4293,-1085.02"/>
<polygon fill="#000000" stroke="#000000" points="1955.2935,-1088.4165 1964.4118,-1083.0214 1953.9193,-1081.5527 1955.2935,-1088.4165"/>
</g>
<!-- FinishCompactionOutputFile -->
<g id="node56" class="node">
<title>FinishCompactionOutputFile</title>
<polygon fill="none" stroke="#000000" points="2142.502,-1137 1962.2675,-1137 1962.2675,-1101 2142.502,-1101 2142.502,-1137"/>
<text text-anchor="middle" x="2052.3848" y="-1114.8" font-family="Times,serif" font-size="14.00" fill="#000000">FinishCompactionOutputFile</text>
</g>
<!-- DoCompactionWork&#45;&gt;FinishCompactionOutputFile -->
<g id="edge61" class="edge">
<title>DoCompactionWork&#45;&gt;FinishCompactionOutputFile</title>
<path fill="none" stroke="#000000" d="M1884.2293,-1113.2604C1905.3367,-1113.9809 1929.1837,-1114.7948 1952.144,-1115.5785"/>
<polygon fill="#000000" stroke="#000000" points="1952.1535,-1119.0808 1962.2671,-1115.924 1952.3924,-1112.0849 1952.1535,-1119.0808"/>
</g>
<!-- WriteLevel0Table&#45;&gt;PickLevelForMemTableOutput -->
<g id="edge62" class="edge">
<title>WriteLevel0Table&#45;&gt;PickLevelForMemTableOutput</title>
<path fill="none" stroke="#000000" d="M2311.2327,-969.1453C2320.0857,-963.017 2328.3286,-955.6672 2334.416,-947 2408.8317,-841.0482 2452.8596,-425.1906 2463.5994,-312.3701"/>
<polygon fill="#000000" stroke="#000000" points="2467.1106,-312.4137 2464.5614,-302.1301 2460.1413,-311.7588 2467.1106,-312.4137"/>
</g>
<!-- BuildTable -->
<g id="node54" class="node">
<title>BuildTable</title>
<polygon fill="none" stroke="#000000" points="2406.9644,-959.2 2406.9644,-1008.8 2525.4077,-1008.8 2525.4077,-959.2 2406.9644,-959.2"/>
<text text-anchor="middle" x="2466.186" y="-993.6" font-family="Times,serif" font-size="14.00" fill="#000000">BuildTable</text>
<polyline fill="none" stroke="#000000" points="2406.9644,-986.8 2525.4077,-986.8 "/>
<text text-anchor="middle" x="2466.186" y="-971.6" font-family="Times,serif" font-size="14.00" fill="#000000">将MemTable落盘</text>
</g>
<!-- WriteLevel0Table&#45;&gt;BuildTable -->
<g id="edge63" class="edge">
<title>WriteLevel0Table&#45;&gt;BuildTable</title>
<path fill="none" stroke="#000000" d="M2315.6964,-991.1745C2340.8297,-989.9763 2370.3032,-988.5712 2396.4731,-987.3235"/>
<polygon fill="#000000" stroke="#000000" points="2396.8803,-990.8082 2406.7023,-986.8359 2396.5469,-983.8161 2396.8803,-990.8082"/>
</g>
<!-- AddFile -->
<g id="node57" class="node">
<title>AddFile</title>
<polygon fill="none" stroke="#000000" points="2497.0758,-1063 2435.2963,-1063 2435.2963,-1027 2497.0758,-1027 2497.0758,-1063"/>
<text text-anchor="middle" x="2466.186" y="-1040.8" font-family="Times,serif" font-size="14.00" fill="#000000">AddFile</text>
</g>
<!-- WriteLevel0Table&#45;&gt;AddFile -->
<g id="edge64" class="edge">
<title>WriteLevel0Table&#45;&gt;AddFile</title>
<path fill="none" stroke="#000000" d="M2315.6964,-1008.4101C2350.635,-1016.905 2393.961,-1027.4393 2425.1401,-1035.0201"/>
<polygon fill="#000000" stroke="#000000" points="2424.6747,-1038.5089 2435.2186,-1037.4706 2426.3286,-1031.707 2424.6747,-1038.5089"/>
</g>
<!-- NewFileNumber -->
<g id="node58" class="node">
<title>NewFileNumber</title>
<polygon fill="none" stroke="#000000" points="2521.2759,-1117 2411.0962,-1117 2411.0962,-1081 2521.2759,-1081 2521.2759,-1117"/>
<text text-anchor="middle" x="2466.186" y="-1094.8" font-family="Times,serif" font-size="14.00" fill="#000000">NewFileNumber</text>
</g>
<!-- WriteLevel0Table&#45;&gt;NewFileNumber -->
<g id="edge65" class="edge">
<title>WriteLevel0Table&#45;&gt;NewFileNumber</title>
<path fill="none" stroke="#000000" d="M2287.1747,-1019.137C2309.2135,-1036.0979 2340.2238,-1057.88 2370.416,-1072 2380.1802,-1076.5664 2390.8743,-1080.5109 2401.4649,-1083.8652"/>
<polygon fill="#000000" stroke="#000000" points="2400.5474,-1087.2442 2411.1321,-1086.7808 2402.5687,-1080.5424 2400.5474,-1087.2442"/>
</g>
</g>
</svg>
