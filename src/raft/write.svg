<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Writer Pages: 1 -->
<svg width="2439pt" height="1314pt"
 viewBox="0.00 0.00 2439.00 1314.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1310)">
<title>Writer</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1310 2435,-1310 2435,4 -4,4"/>
<g id="clust4" class="cluster">
<title>cluster_GroupLeader</title>
<polygon fill="none" stroke="#000000" points="833.5,-571 833.5,-1100 1658.5,-1100 1658.5,-571 833.5,-571"/>
<text text-anchor="middle" x="1246" y="-1080" font-family="Times,serif" font-size="20.00" fill="#000000">WriteGroupLeader</text>
</g>
<g id="clust16" class="cluster">
<title>cluster_StateCV</title>
<path fill="none" stroke="#000000" d="M2091,-205C2091,-205 2411,-205 2411,-205 2417,-205 2423,-211 2423,-217 2423,-217 2423,-275 2423,-275 2423,-281 2417,-287 2411,-287 2411,-287 2091,-287 2091,-287 2085,-287 2079,-281 2079,-275 2079,-275 2079,-217 2079,-217 2079,-211 2085,-205 2091,-205"/>
<text text-anchor="middle" x="2251" y="-267" font-family="Times,serif" font-size="20.00" fill="#000000">StateCV</text>
</g>
<g id="clust17" class="cluster">
<title>cluster_DBImpl</title>
<polygon fill="none" stroke="#000000" points="8,-1190 8,-1298 1602.5,-1298 1602.5,-1190 8,-1190"/>
<text text-anchor="middle" x="805.25" y="-1278" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<!-- WriteGroup -->
<g id="node1" class="node">
<title>WriteGroup</title>
<polygon fill="none" stroke="#000000" points="1736.5,-777.5 1736.5,-892.5 1932.5,-892.5 1932.5,-777.5 1736.5,-777.5"/>
<text text-anchor="middle" x="1834.5" y="-877.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteGroup</text>
<polyline fill="none" stroke="#000000" points="1736.5,-869.5 1932.5,-869.5 "/>
<text text-anchor="start" x="1744.5" y="-854.3" font-family="Times,serif" font-size="14.00" fill="#000000">Writer* leader = nullptr;</text>
<polyline fill="none" stroke="#000000" points="1736.5,-846.5 1932.5,-846.5 "/>
<text text-anchor="start" x="1744.5" y="-831.3" font-family="Times,serif" font-size="14.00" fill="#000000">Writer* last_writer = nullptr;</text>
<polyline fill="none" stroke="#000000" points="1736.5,-823.5 1932.5,-823.5 "/>
<text text-anchor="start" x="1744.5" y="-808.3" font-family="Times,serif" font-size="14.00" fill="#000000">SequenceNumber last_sequence;</text>
<polyline fill="none" stroke="#000000" points="1736.5,-800.5 1932.5,-800.5 "/>
<text text-anchor="start" x="1744.5" y="-785.3" font-family="Times,serif" font-size="14.00" fill="#000000">Status status;</text>
<polyline fill="none" stroke="#000000" points="1736.5,-777.5 1932.5,-777.5 "/>
</g>
<!-- Writer -->
<g id="node2" class="node">
<title>Writer</title>
<polygon fill="none" stroke="#000000" points="2015,-295.5 2015,-708.5 2287,-708.5 2287,-295.5 2015,-295.5"/>
<text text-anchor="middle" x="2151" y="-693.3" font-family="Times,serif" font-size="14.00" fill="#000000">Writer</text>
<polyline fill="none" stroke="#000000" points="2015,-685.5 2287,-685.5 "/>
<text text-anchor="start" x="2023" y="-670.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch* batch;</text>
<polyline fill="none" stroke="#000000" points="2015,-662.5 2287,-662.5 "/>
<text text-anchor="start" x="2023" y="-647.3" font-family="Times,serif" font-size="14.00" fill="#000000">bool sync;</text>
<polyline fill="none" stroke="#000000" points="2015,-639.5 2287,-639.5 "/>
<text text-anchor="start" x="2023" y="-624.3" font-family="Times,serif" font-size="14.00" fill="#000000">bool no_slowdown;</text>
<polyline fill="none" stroke="#000000" points="2015,-616.5 2287,-616.5 "/>
<text text-anchor="start" x="2023" y="-601.3" font-family="Times,serif" font-size="14.00" fill="#000000">bool disable_wal;</text>
<polyline fill="none" stroke="#000000" points="2015,-593.5 2287,-593.5 "/>
<text text-anchor="start" x="2023" y="-578.3" font-family="Times,serif" font-size="14.00" fill="#000000">bool disable_memtable;</text>
<polyline fill="none" stroke="#000000" points="2015,-570.5 2287,-570.5 "/>
<text text-anchor="start" x="2023" y="-555.3" font-family="Times,serif" font-size="14.00" fill="#000000">size_t batch_cnt;</text>
<polyline fill="none" stroke="#000000" points="2015,-547.5 2287,-547.5 "/>
<text text-anchor="start" x="2023" y="-532.3" font-family="Times,serif" font-size="14.00" fill="#000000">PreReleaseCallback* pre_release_callback;</text>
<polyline fill="none" stroke="#000000" points="2015,-524.5 2287,-524.5 "/>
<text text-anchor="start" x="2023" y="-509.3" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t log_used;</text>
<polyline fill="none" stroke="#000000" points="2015,-501.5 2287,-501.5 "/>
<text text-anchor="start" x="2023" y="-486.3" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t log_ref;</text>
<polyline fill="none" stroke="#000000" points="2015,-478.5 2287,-478.5 "/>
<text text-anchor="start" x="2023" y="-463.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteCallback* callback;</text>
<polyline fill="none" stroke="#000000" points="2015,-455.5 2287,-455.5 "/>
<text text-anchor="start" x="2023" y="-440.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::atomic&lt;uint8_t&gt; state;</text>
<polyline fill="none" stroke="#000000" points="2015,-432.5 2287,-432.5 "/>
<text text-anchor="start" x="2023" y="-417.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteGroup* write_group;</text>
<text text-anchor="start" x="2023" y="-402.3" font-family="Times,serif" font-size="14.00" fill="#000000"> std::aligned_storage&lt;sizeof(std::mutex)&gt;</text>
<text text-anchor="start" x="2023" y="-387.3" font-family="Times,serif" font-size="14.00" fill="#000000">::type state_mutex_bytes;</text>
<polyline fill="none" stroke="#000000" points="2015,-379.5 2287,-379.5 "/>
<text text-anchor="start" x="2023" y="-364.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::aligned_storage&lt;sizeof(</text>
<text text-anchor="start" x="2023" y="-349.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::condition_variable)&gt;::type state_cv_bytes;</text>
<polyline fill="none" stroke="#000000" points="2015,-341.5 2287,-341.5 "/>
<text text-anchor="start" x="2023" y="-326.3" font-family="Times,serif" font-size="14.00" fill="#000000">Writer* link_older;</text>
<polyline fill="none" stroke="#000000" points="2015,-318.5 2287,-318.5 "/>
<text text-anchor="start" x="2023" y="-303.3" font-family="Times,serif" font-size="14.00" fill="#000000">Writer* link_newer;</text>
</g>
<!-- WriteGroup&#45;&gt;Writer -->
<g id="edge1" class="edge">
<title>WriteGroup:Writer&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M1932.5,-858C2011.954,-858 2063.4207,-792.7913 2096.3026,-718.1905"/>
<polygon fill="#000000" stroke="#000000" points="2099.7025,-719.1418 2100.4204,-708.5713 2093.2674,-716.387 2099.7025,-719.1418"/>
</g>
<!-- WriteThread -->
<g id="node3" class="node">
<title>WriteThread</title>
<polygon fill="none" stroke="#000000" points="1690,-1032.5 1690,-1147.5 1979,-1147.5 1979,-1032.5 1690,-1032.5"/>
<text text-anchor="middle" x="1834.5" y="-1132.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteThread</text>
<polyline fill="none" stroke="#000000" points="1690,-1124.5 1979,-1124.5 "/>
<text text-anchor="start" x="1698" y="-1109.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::atomic&lt;Writer*&gt; newest_writer_;</text>
<polyline fill="none" stroke="#000000" points="1690,-1101.5 1979,-1101.5 "/>
<text text-anchor="start" x="1698" y="-1086.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::atomic&lt;Writer*&gt; newest_memtable_writer_;</text>
<polyline fill="none" stroke="#000000" points="1690,-1078.5 1979,-1078.5 "/>
<text text-anchor="start" x="1698" y="-1063.3" font-family="Times,serif" font-size="14.00" fill="#000000">port::Mutex stall_mu_;</text>
<polyline fill="none" stroke="#000000" points="1690,-1055.5 1979,-1055.5 "/>
<text text-anchor="start" x="1698" y="-1040.3" font-family="Times,serif" font-size="14.00" fill="#000000">port::CondVar stall_cv_;</text>
</g>
<!-- WriteThread&#45;&gt;Writer -->
<g id="edge3" class="edge">
<title>WriteThread:Writer&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M1979,-1113C2063.3186,-1113 2108.2916,-894.6715 2130.8287,-719.0352"/>
<polygon fill="#000000" stroke="#000000" points="2134.3335,-719.2169 2132.1159,-708.8567 2127.3888,-718.3385 2134.3335,-719.2169"/>
</g>
<!-- EnterAsBatchGroupLeader -->
<g id="node4" class="node">
<title>EnterAsBatchGroupLeader</title>
<polygon fill="none" stroke="#000000" points="1121.5,-1015 1121.5,-1061 1320.5,-1061 1320.5,-1015 1121.5,-1015"/>
<text text-anchor="middle" x="1221" y="-1045.8" font-family="Times,serif" font-size="14.00" fill="#000000">EnterAsBatchGroupLeader</text>
<polyline fill="none" stroke="#000000" points="1121.5,-1038 1320.5,-1038 "/>
<text text-anchor="start" x="1129.5" y="-1022.8" font-family="Times,serif" font-size="14.00" fill="#000000">将writer设置为group中的leader</text>
</g>
<!-- EnterAsBatchGroupLeader&#45;&gt;WriteGroup -->
<g id="edge45" class="edge">
<title>EnterAsBatchGroupLeader&#45;&gt;WriteGroup</title>
<path fill="none" stroke="#000000" d="M1240.7335,-1061.1465C1266.2973,-1089.1549 1313.8136,-1134.8175 1366,-1153 1427.3811,-1174.386 1607.412,-1193.1873 1658.5,-1153 1705.2256,-1116.2442 1664.328,-1076.6211 1690,-1023 1711.3195,-978.4701 1744.3769,-934.4023 1773.4955,-900.1366"/>
<polygon fill="#000000" stroke="#000000" points="1776.1653,-902.4 1780.0279,-892.5343 1770.8561,-897.8379 1776.1653,-902.4"/>
</g>
<!-- CreateMissingNewerLinks -->
<g id="node35" class="node">
<title>CreateMissingNewerLinks</title>
<polygon fill="none" stroke="#000000" points="1591.5,-563 1428.5,-563 1428.5,-527 1591.5,-527 1591.5,-563"/>
<text text-anchor="middle" x="1510" y="-541.3" font-family="Times,serif" font-size="14.00" fill="#000000">CreateMissingNewerLinks</text>
</g>
<!-- EnterAsBatchGroupLeader&#45;&gt;CreateMissingNewerLinks -->
<g id="edge46" class="edge">
<title>EnterAsBatchGroupLeader&#45;&gt;CreateMissingNewerLinks</title>
<path fill="none" stroke="#000000" d="M1320.8551,-1015.1007C1324.1856,-1012.3864 1327.2598,-1009.3642 1330,-1006 1391.8166,-930.1067 1299.2429,-638.5861 1366,-567 1379.6485,-552.3642 1398.618,-544.6743 1418.3149,-541.0348"/>
<polygon fill="#000000" stroke="#000000" points="1418.9723,-544.4753 1428.3384,-539.523 1417.9282,-537.5536 1418.9723,-544.4753"/>
</g>
<!-- AllowWriteBatching -->
<g id="node36" class="node">
<title>AllowWriteBatching</title>
<polygon fill="none" stroke="#000000" points="1575.5,-1144 1444.5,-1144 1444.5,-1108 1575.5,-1108 1575.5,-1144"/>
<text text-anchor="middle" x="1510" y="-1122.3" font-family="Times,serif" font-size="14.00" fill="#000000">AllowWriteBatching</text>
</g>
<!-- EnterAsBatchGroupLeader&#45;&gt;AllowWriteBatching -->
<g id="edge47" class="edge">
<title>EnterAsBatchGroupLeader&#45;&gt;AllowWriteBatching</title>
<path fill="none" stroke="#000000" d="M1263.574,-1061.1546C1291.8471,-1075.5737 1330.2132,-1093.3451 1366,-1104 1387.7551,-1110.4772 1411.9561,-1115.1169 1434.2138,-1118.4112"/>
<polygon fill="#000000" stroke="#000000" points="1433.897,-1121.9011 1444.2878,-1119.832 1434.8746,-1114.9697 1433.897,-1121.9011"/>
</g>
<!-- DBImpl -->
<g id="node5" class="node">
<title>DBImpl</title>
<polygon fill="none" stroke="#000000" points="1425.5,-1201 1425.5,-1247 1594.5,-1247 1594.5,-1201 1425.5,-1201"/>
<text text-anchor="middle" x="1510" y="-1231.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl</text>
<polyline fill="none" stroke="#000000" points="1425.5,-1224 1594.5,-1224 "/>
<text text-anchor="start" x="1433.5" y="-1208.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteThread write_thread_;</text>
</g>
<!-- DBImpl&#45;&gt;WriteThread -->
<g id="edge2" class="edge">
<title>DBImpl:WriteThread&#45;&gt;WriteThread</title>
<path fill="none" stroke="#000000" d="M1595,-1212C1653.1954,-1212 1711.5289,-1183.0466 1756.0549,-1153.3496"/>
<polygon fill="#000000" stroke="#000000" points="1758.1931,-1156.128 1764.4881,-1147.6061 1754.2527,-1150.3424 1758.1931,-1156.128"/>
</g>
<!-- DBImpl_WriteImpl -->
<g id="node6" class="node">
<title>DBImpl_WriteImpl</title>
<polygon fill="none" stroke="#000000" points="16,-1198.5 16,-1259.5 271,-1259.5 271,-1198.5 16,-1198.5"/>
<text text-anchor="middle" x="143.5" y="-1244.3" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl::WriteImpl</text>
<polyline fill="none" stroke="#000000" points="16,-1236.5 271,-1236.5 "/>
<text text-anchor="start" x="24" y="-1221.3" font-family="Times,serif" font-size="14.00" fill="#000000">1.如果打开了enable_pipline_write则调用</text>
<text text-anchor="start" x="24" y="-1206.3" font-family="Times,serif" font-size="14.00" fill="#000000"> PipelinedWriteImpl</text>
</g>
<!-- JoinBatchGroup -->
<g id="node7" class="node">
<title>JoinBatchGroup</title>
<polygon fill="none" stroke="#000000" points="513,-262.5 513,-323.5 762,-323.5 762,-262.5 513,-262.5"/>
<text text-anchor="middle" x="637.5" y="-308.3" font-family="Times,serif" font-size="14.00" fill="#000000">JoinBatchGroup</text>
<polyline fill="none" stroke="#000000" points="513,-300.5 762,-300.5 "/>
<text text-anchor="start" x="521" y="-285.3" font-family="Times,serif" font-size="14.00" fill="#000000">1.加入batchGroup</text>
<text text-anchor="start" x="521" y="-270.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.要么作为leader，要么等到目标状态</text>
</g>
<!-- DBImpl_WriteImpl&#45;&gt;JoinBatchGroup -->
<g id="edge4" class="edge">
<title>DBImpl_WriteImpl&#45;&gt;JoinBatchGroup</title>
<path fill="none" stroke="#e84545" d="M144.4827,-1198.3434C149.7095,-1055.8685 179.0385,-460.1874 307,-338 358.0898,-289.2156 435.535,-276.7062 502.6172,-276.9779"/>
<polygon fill="#e84545" stroke="#e84545" points="502.8145,-280.4808 512.8613,-277.1176 502.91,-273.4815 502.8145,-280.4808"/>
</g>
<!-- DBImpl_PipelineWriteImpl -->
<g id="node8" class="node">
<title>DBImpl_PipelineWriteImpl</title>
<polygon fill="none" stroke="#000000" points="477,-1234 307,-1234 307,-1198 477,-1198 477,-1234"/>
<text text-anchor="middle" x="392" y="-1212.3" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_PipelineWriteImpl</text>
</g>
<!-- DBImpl_WriteImpl&#45;&gt;DBImpl_PipelineWriteImpl -->
<g id="edge5" class="edge">
<title>DBImpl_WriteImpl&#45;&gt;DBImpl_PipelineWriteImpl</title>
<path fill="none" stroke="#e84545" d="M271.0258,-1222.3286C279.6673,-1221.8766 288.2878,-1221.4256 296.7197,-1220.9845"/>
<polygon fill="#e84545" stroke="#e84545" points="297.0965,-1224.4696 306.9,-1220.4519 296.7308,-1217.4792 297.0965,-1224.4696"/>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER -->
<g id="node9" class="node">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER</title>
<polygon fill="none" stroke="#000000" points="798,-386 798,-432 1076,-432 1076,-386 798,-386"/>
<text text-anchor="start" x="806" y="-416.8" font-family="Times,serif" font-size="14.00" fill="#000000">如果JoinBatchGroup后状态为</text>
<polyline fill="none" stroke="#000000" points="798,-409 1076,-409 "/>
<text text-anchor="start" x="806" y="-393.8" font-family="Times,serif" font-size="14.00" fill="#000000">STATE_PARALLEL_MEMTABLE_WRITER</text>
</g>
<!-- DBImpl_WriteImpl&#45;&gt;IF_STATE_PARALLEL_MEMABLE_WRITER -->
<g id="edge6" class="edge">
<title>DBImpl_WriteImpl&#45;&gt;IF_STATE_PARALLEL_MEMABLE_WRITER</title>
<path fill="none" stroke="#e84545" d="M147.8248,-1198.2164C166.2256,-1079.8649 249.5366,-651.3271 513,-462 591.5995,-405.5177 700.215,-392.8417 787.8348,-393.991"/>
<polygon fill="#e84545" stroke="#e84545" points="787.8034,-397.491 797.8688,-394.1838 787.9379,-390.4923 787.8034,-397.491"/>
</g>
<!-- IF_STATE_GROUP_LEADER -->
<g id="node10" class="node">
<title>IF_STATE_GROUP_LEADER</title>
<polygon fill="none" stroke="#000000" points="841.5,-776 841.5,-814 1032.5,-814 1032.5,-776 841.5,-776"/>
<text text-anchor="start" x="849.5" y="-798.8" font-family="Times,serif" font-size="14.00" fill="#000000">如果JoinBatchGroup后状态为</text>
<text text-anchor="start" x="849.5" y="-783.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 成为GROUP_LEADER</text>
</g>
<!-- DBImpl_WriteImpl&#45;&gt;IF_STATE_GROUP_LEADER -->
<g id="edge7" class="edge">
<title>DBImpl_WriteImpl&#45;&gt;IF_STATE_GROUP_LEADER</title>
<path fill="none" stroke="#e84545" d="M199.2974,-1198.482C349.1325,-1116.5305 758.0487,-892.8763 893.0783,-819.0227"/>
<polygon fill="#e84545" stroke="#e84545" points="894.8519,-822.042 901.9458,-814.1727 891.4928,-815.9006 894.8519,-822.042"/>
</g>
<!-- JoinBatchGroup&#45;&gt;IF_STATE_PARALLEL_MEMABLE_WRITER -->
<g id="edge14" class="edge">
<title>JoinBatchGroup&#45;&gt;IF_STATE_PARALLEL_MEMABLE_WRITER</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M723.3867,-323.5526C736.3558,-328.308 749.5533,-333.2277 762,-338 798.6407,-352.0486 839.2716,-368.4801 872.1529,-381.9957"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="871.0731,-385.3361 881.6525,-385.9078 873.7387,-378.8635 871.0731,-385.3361"/>
</g>
<!-- JoinBatchGroup&#45;&gt;IF_STATE_GROUP_LEADER -->
<g id="edge15" class="edge">
<title>JoinBatchGroup&#45;&gt;IF_STATE_GROUP_LEADER</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M655.7842,-323.6467C709.885,-414.3265 868.6226,-680.3907 920.4346,-767.2343"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="917.5329,-769.2019 925.6622,-775.9964 923.5443,-765.6154 917.5329,-769.2019"/>
</g>
<!-- LinkOne -->
<g id="node24" class="node">
<title>LinkOne</title>
<polygon fill="none" stroke="#000000" points="865.5,-228 865.5,-274 1008.5,-274 1008.5,-228 865.5,-228"/>
<text text-anchor="middle" x="937" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">LinkOne</text>
<polyline fill="none" stroke="#000000" points="865.5,-251 1008.5,-251 "/>
<text text-anchor="middle" x="937" y="-235.8" font-family="Times,serif" font-size="14.00" fill="#000000">尝试成为groupLeader</text>
</g>
<!-- JoinBatchGroup&#45;&gt;LinkOne -->
<g id="edge31" class="edge">
<title>JoinBatchGroup&#45;&gt;LinkOne</title>
<path fill="none" stroke="#000000" d="M762.3462,-275.4923C793.7899,-271.0829 826.7407,-266.4621 855.442,-262.4372"/>
<polygon fill="#000000" stroke="#000000" points="855.9903,-265.8946 865.4073,-261.0397 855.0181,-258.9625 855.9903,-265.8946"/>
</g>
<!-- SetState -->
<g id="node25" class="node">
<title>SetState</title>
<polygon fill="none" stroke="#000000" points="1865,-517 1804,-517 1804,-481 1865,-481 1865,-517"/>
<text text-anchor="middle" x="1834.5" y="-495.3" font-family="Times,serif" font-size="14.00" fill="#000000">SetState</text>
</g>
<!-- JoinBatchGroup&#45;&gt;SetState -->
<g id="edge32" class="edge">
<title>JoinBatchGroup&#45;&gt;SetState</title>
<path fill="none" stroke="#000000" d="M693.5644,-262.4856C723.722,-247.2823 762.0189,-229.8709 798,-219 1025.2978,-150.3271 1095.543,-132.4478 1330,-170 1367.9385,-176.0765 1626.9624,-256.0539 1658.5,-278 1734.3951,-330.8134 1793.9517,-425.6833 1820.0781,-472.0326"/>
<polygon fill="#000000" stroke="#000000" points="1817.0823,-473.8474 1824.9963,-480.8916 1823.2025,-470.4497 1817.0823,-473.8474"/>
</g>
<!-- AwaitState -->
<g id="node26" class="node">
<title>AwaitState</title>
<polygon fill="none" stroke="#000000" points="1366,-.5 1366,-167.5 1654,-167.5 1654,-.5 1366,-.5"/>
<text text-anchor="middle" x="1510" y="-152.3" font-family="Times,serif" font-size="14.00" fill="#000000">AwaitState</text>
<polyline fill="none" stroke="#000000" points="1366,-144.5 1654,-144.5 "/>
<text text-anchor="start" x="1374" y="-129.3" font-family="Times,serif" font-size="14.00" fill="#000000">AwaitState(w, </text>
<text text-anchor="start" x="1374" y="-114.3" font-family="Times,serif" font-size="14.00" fill="#000000">STATE_GROUP_LEADER </text>
<text text-anchor="start" x="1374" y="-99.3" font-family="Times,serif" font-size="14.00" fill="#000000">| STATE_MEMTABLE_WRITER_LEADER </text>
<text text-anchor="start" x="1374" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">| STATE_PARALLEL_MEMTABLE_WRITER </text>
<text text-anchor="start" x="1374" y="-69.3" font-family="Times,serif" font-size="14.00" fill="#000000">| STATE_COMPLETED)</text>
<text text-anchor="start" x="1374" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 1.轮询两百次直到state变为目标状态</text>
<polyline fill="none" stroke="#000000" points="1366,-46.5 1654,-46.5 "/>
<text text-anchor="start" x="1374" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#000000">2.使用thread yield</text>
<polyline fill="none" stroke="#000000" points="1366,-23.5 1654,-23.5 "/>
<text text-anchor="start" x="1374" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#000000">3.等待condVar</text>
</g>
<!-- JoinBatchGroup&#45;&gt;AwaitState -->
<g id="edge33" class="edge">
<title>JoinBatchGroup&#45;&gt;AwaitState</title>
<path fill="none" stroke="#000000" d="M658.3135,-262.4913C685.548,-225.4154 737.048,-164.4201 798,-137 976.7374,-56.5924 1206.2994,-55.2927 1355.7175,-66.0541"/>
<polygon fill="#000000" stroke="#000000" points="1355.6555,-69.5591 1365.8886,-66.8142 1356.1772,-62.5786 1355.6555,-69.5591"/>
</g>
<!-- DBImpl_PipelineWriteImpl&#45;&gt;EnterAsBatchGroupLeader -->
<g id="edge25" class="edge">
<title>DBImpl_PipelineWriteImpl&#45;&gt;EnterAsBatchGroupLeader</title>
<path fill="none" stroke="#3f72af" d="M472.3584,-1197.9576C485.9193,-1194.9447 499.857,-1191.8678 513,-1189 724.6481,-1142.8176 972.2474,-1090.3718 1111.4411,-1061.0325"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1112.2104,-1064.4473 1121.2737,-1058.9604 1110.7669,-1057.5978 1112.2104,-1064.4473"/>
</g>
<!-- DBImpl_PipelineWriteImpl&#45;&gt;JoinBatchGroup -->
<g id="edge26" class="edge">
<title>DBImpl_PipelineWriteImpl&#45;&gt;JoinBatchGroup</title>
<path fill="none" stroke="#3f72af" d="M392.6382,-1197.6495C396.7412,-1088.0572 422.183,-519.9172 513,-376 524.962,-357.044 543.004,-341.4371 561.6686,-329.0753"/>
<polygon fill="#3f72af" stroke="#3f72af" points="563.6965,-331.9338 570.2684,-323.6235 559.9485,-326.0217 563.6965,-331.9338"/>
</g>
<!-- ExitAsBatchGroupFollower -->
<g id="node15" class="node">
<title>ExitAsBatchGroupFollower</title>
<polygon fill="none" stroke="#000000" points="1305.5,-523 1136.5,-523 1136.5,-487 1305.5,-487 1305.5,-523"/>
<text text-anchor="middle" x="1221" y="-501.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExitAsBatchGroupFollower</text>
</g>
<!-- DBImpl_PipelineWriteImpl&#45;&gt;ExitAsBatchGroupFollower -->
<g id="edge27" class="edge">
<title>DBImpl_PipelineWriteImpl&#45;&gt;ExitAsBatchGroupFollower</title>
<path fill="none" stroke="#3f72af" d="M392.4458,-1197.8566C395.2664,-1098.7576 413.8662,-623.7972 513,-526 602.3621,-437.8427 950.9291,-469.297 1076,-480 1092.2296,-481.3889 1109.3704,-483.6369 1125.9615,-486.23"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1125.7776,-489.7455 1136.2077,-487.8845 1126.8935,-482.835 1125.7776,-489.7455"/>
</g>
<!-- EnterAsMemTableWriter -->
<g id="node16" class="node">
<title>EnterAsMemTableWriter</title>
<polygon fill="none" stroke="#000000" points="1300,-323 1142,-323 1142,-287 1300,-287 1300,-323"/>
<text text-anchor="middle" x="1221" y="-301.3" font-family="Times,serif" font-size="14.00" fill="#000000">EnterAsMemTableWriter</text>
</g>
<!-- DBImpl_PipelineWriteImpl&#45;&gt;EnterAsMemTableWriter -->
<g id="edge28" class="edge">
<title>DBImpl_PipelineWriteImpl&#45;&gt;EnterAsMemTableWriter</title>
<path fill="none" stroke="#3f72af" d="M392.3797,-1197.7943C394.9085,-1093.9034 412.4633,-576.62 513,-462 593.6878,-370.0094 960.0207,-327.2001 1131.7064,-311.9209"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1132.0756,-315.402 1141.7309,-311.0404 1131.463,-308.4288 1132.0756,-315.402"/>
</g>
<!-- WaitForPendingWrites -->
<g id="node22" class="node">
<title>WaitForPendingWrites</title>
<polygon fill="none" stroke="#000000" points="709,-1234 566,-1234 566,-1198 709,-1198 709,-1234"/>
<text text-anchor="middle" x="637.5" y="-1212.3" font-family="Times,serif" font-size="14.00" fill="#000000">WaitForPendingWrites</text>
</g>
<!-- DBImpl_PipelineWriteImpl&#45;&gt;WaitForPendingWrites -->
<g id="edge29" class="edge">
<title>DBImpl_PipelineWriteImpl&#45;&gt;WaitForPendingWrites</title>
<path fill="none" stroke="#3f72af" d="M477.175,-1216C502.6142,-1216 530.4363,-1216 555.657,-1216"/>
<polygon fill="#3f72af" stroke="#3f72af" points="555.9203,-1219.5001 565.9203,-1216 555.9203,-1212.5001 555.9203,-1219.5001"/>
</g>
<!-- ExitAsMemTableWriter -->
<g id="node23" class="node">
<title>ExitAsMemTableWriter</title>
<polygon fill="none" stroke="#000000" points="713,-571 562,-571 562,-535 713,-535 713,-571"/>
<text text-anchor="middle" x="637.5" y="-549.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExitAsMemTableWriter</text>
</g>
<!-- DBImpl_PipelineWriteImpl&#45;&gt;ExitAsMemTableWriter -->
<g id="edge30" class="edge">
<title>DBImpl_PipelineWriteImpl&#45;&gt;ExitAsMemTableWriter</title>
<path fill="none" stroke="#3f72af" d="M398.6939,-1197.9225C432.676,-1106.15 586.0886,-691.8422 627.2887,-580.5769"/>
<polygon fill="#3f72af" stroke="#3f72af" points="630.6218,-581.6544 630.8121,-571.0613 624.0574,-579.2237 630.6218,-581.6544"/>
</g>
<!-- ShouldWriteToMemtable -->
<g id="node11" class="node">
<title>ShouldWriteToMemtable</title>
<polygon fill="none" stroke="#000000" points="1300,-615 1142,-615 1142,-579 1300,-579 1300,-615"/>
<text text-anchor="middle" x="1221" y="-593.3" font-family="Times,serif" font-size="14.00" fill="#000000">ShouldWriteToMemtable</text>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;ShouldWriteToMemtable -->
<g id="edge8" class="edge">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;ShouldWriteToMemtable</title>
<path fill="none" stroke="#f08a5d" d="M997.7813,-432.1529C1023.6973,-443.9288 1053.158,-460.0166 1076,-480 1097.1558,-498.5082 1091.4613,-512.8092 1112,-532 1129.8698,-548.697 1152.7355,-563.1348 1172.9052,-574.1335"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1171.4817,-577.3405 1181.955,-578.9407 1174.7655,-571.1585 1171.4817,-577.3405"/>
</g>
<!-- WriteBatchInternal_InsertInto -->
<g id="node12" class="node">
<title>WriteBatchInternal_InsertInto</title>
<polygon fill="none" stroke="#000000" points="1129.5,-634 1129.5,-680 1312.5,-680 1312.5,-634 1129.5,-634"/>
<text text-anchor="middle" x="1221" y="-664.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchInternal::InsertInto</text>
<polyline fill="none" stroke="#000000" points="1129.5,-657 1312.5,-657 "/>
<text text-anchor="start" x="1137.5" y="-641.8" font-family="Times,serif" font-size="14.00" fill="#000000">将WriteBatch插入MemTable</text>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;WriteBatchInternal_InsertInto -->
<g id="edge9" class="edge">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;WriteBatchInternal_InsertInto</title>
<path fill="none" stroke="#f08a5d" d="M1009.4311,-432.0062C1033.7375,-443.0076 1058.9665,-458.5778 1076,-480 1117.0575,-531.6361 1066.5092,-576.2236 1112,-624 1114.68,-626.8146 1117.591,-629.3915 1120.6818,-631.7507"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1118.9944,-634.8334 1129.248,-637.5006 1122.8956,-629.0213 1118.9944,-634.8334"/>
</g>
<!-- CompleteParallelMemTableWriter -->
<g id="node13" class="node">
<title>CompleteParallelMemTableWriter</title>
<polygon fill="none" stroke="#000000" points="1325,-431 1117,-431 1117,-395 1325,-395 1325,-431"/>
<text text-anchor="middle" x="1221" y="-409.3" font-family="Times,serif" font-size="14.00" fill="#000000">CompleteParallelMemTableWriter</text>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;CompleteParallelMemTableWriter -->
<g id="edge10" class="edge">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;CompleteParallelMemTableWriter</title>
<path fill="none" stroke="#f08a5d" d="M1076.0881,-410.959C1086.4179,-411.1045 1096.7682,-411.2503 1106.9204,-411.3932"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1106.95,-414.8939 1116.9983,-411.5352 1107.0486,-407.8946 1106.95,-414.8939"/>
</g>
<!-- MemTableInsertStatusCheck -->
<g id="node14" class="node">
<title>MemTableInsertStatusCheck</title>
<polygon fill="none" stroke="#000000" points="1309,-377 1133,-377 1133,-341 1309,-341 1309,-377"/>
<text text-anchor="middle" x="1221" y="-355.3" font-family="Times,serif" font-size="14.00" fill="#000000">MemTableInsertStatusCheck</text>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;MemTableInsertStatusCheck -->
<g id="edge11" class="edge">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;MemTableInsertStatusCheck</title>
<path fill="none" stroke="#f08a5d" d="M1067.778,-385.9757C1086.1539,-382.7405 1104.782,-379.4609 1122.421,-376.3554"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1123.4413,-379.7297 1132.683,-374.5488 1122.2276,-372.8358 1123.4413,-379.7297"/>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;ExitAsBatchGroupFollower -->
<g id="edge12" class="edge">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;ExitAsBatchGroupFollower</title>
<path fill="none" stroke="#f08a5d" d="M1038.3989,-432.1169C1051.317,-436.3912 1064.1516,-441.3324 1076,-447 1093.8044,-455.5166 1094.2759,-464.3173 1112,-473 1120.0641,-476.9505 1128.7078,-480.508 1137.4696,-483.6873"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1136.407,-487.0232 1147.0018,-486.9895 1138.6984,-480.4088 1136.407,-487.0232"/>
</g>
<!-- IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;EnterAsMemTableWriter -->
<g id="edge13" class="edge">
<title>IF_STATE_PARALLEL_MEMABLE_WRITER&#45;&gt;EnterAsMemTableWriter</title>
<path fill="none" stroke="#f08a5d" d="M1045.3795,-385.8853C1056.0804,-381.7022 1066.4865,-376.7821 1076,-371 1096.158,-358.7484 1091.6962,-344.0084 1112,-332 1118.2874,-328.2814 1125.0693,-325.073 1132.0663,-322.305"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1133.5126,-325.5033 1141.7147,-318.7969 1131.1206,-318.9247 1133.5126,-325.5033"/>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;EnterAsBatchGroupLeader -->
<g id="edge17" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;EnterAsBatchGroupLeader</title>
<path fill="none" stroke="#17b978" d="M947.5759,-814.2935C971.3333,-855.8136 1033.0823,-954.0726 1112,-1006 1114.1985,-1007.4466 1116.4639,-1008.8293 1118.7833,-1010.1509"/>
<polygon fill="#17b978" stroke="#17b978" points="1117.486,-1013.422 1127.9699,-1014.951 1120.7278,-1007.2178 1117.486,-1013.422"/>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;ShouldWriteToMemtable -->
<g id="edge18" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;ShouldWriteToMemtable</title>
<path fill="none" stroke="#17b978" d="M951.0444,-775.8972C978.0975,-740.5174 1041.07,-664.7848 1112,-625 1118.3848,-621.4187 1125.2357,-618.286 1132.2793,-615.5471"/>
<polygon fill="#17b978" stroke="#17b978" points="1133.7573,-618.7349 1141.9781,-612.0514 1131.3838,-612.1496 1133.7573,-618.7349"/>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;WriteBatchInternal_InsertInto -->
<g id="edge19" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;WriteBatchInternal_InsertInto</title>
<path fill="none" stroke="#17b978" d="M964.0409,-775.8779C997.4831,-752.9263 1056.7715,-714.4783 1112,-690 1117.0274,-687.7718 1122.2489,-685.6382 1127.5631,-683.605"/>
<polygon fill="#17b978" stroke="#17b978" points="1129.0316,-686.7941 1137.2068,-680.0549 1126.6133,-680.2251 1129.0316,-686.7941"/>
</g>
<!-- PreprocessWrite -->
<g id="node18" class="node">
<title>PreprocessWrite</title>
<polygon fill="none" stroke="#000000" points="1274.5,-735 1167.5,-735 1167.5,-699 1274.5,-699 1274.5,-735"/>
<text text-anchor="middle" x="1221" y="-713.3" font-family="Times,serif" font-size="14.00" fill="#000000">PreprocessWrite</text>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;PreprocessWrite -->
<g id="edge20" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;PreprocessWrite</title>
<path fill="none" stroke="#17b978" d="M1000.0065,-775.9646C1033.2296,-766.0981 1074.7216,-754.0446 1112,-744 1126.6064,-740.0643 1142.3722,-736.034 1157.2527,-732.3279"/>
<polygon fill="#17b978" stroke="#17b978" points="1158.5219,-735.6195 1167.388,-729.8192 1156.8399,-728.8245 1158.5219,-735.6195"/>
</g>
<!-- IF_PARALLEL -->
<g id="node19" class="node">
<title>IF_PARALLEL</title>
<polygon fill="none" stroke="#000000" points="1112,-753.5 1112,-836.5 1330,-836.5 1330,-753.5 1112,-753.5"/>
<text text-anchor="start" x="1120" y="-821.3" font-family="Times,serif" font-size="14.00" fill="#000000">如果允许并行写</text>
<text text-anchor="start" x="1120" y="-806.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 就LaunchParallelMemTableWriters</text>
<text text-anchor="start" x="1120" y="-791.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 让所有writers并行写</text>
<text text-anchor="start" x="1120" y="-776.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 否则由groupLeader 插入</text>
<text text-anchor="start" x="1120" y="-761.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 到MemTable中</text>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;IF_PARALLEL -->
<g id="edge21" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;IF_PARALLEL</title>
<path fill="none" stroke="#17b978" d="M1032.7535,-795C1054.9168,-795 1078.7673,-795 1101.7965,-795"/>
<polygon fill="#17b978" stroke="#17b978" points="1101.9581,-798.5001 1111.9581,-795 1101.9581,-791.5001 1101.9581,-798.5001"/>
</g>
<!-- WriteToWAL -->
<g id="node20" class="node">
<title>WriteToWAL</title>
<polygon fill="none" stroke="#000000" points="1173.5,-855 1173.5,-901 1268.5,-901 1268.5,-855 1173.5,-855"/>
<text text-anchor="middle" x="1221" y="-885.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteToWAL</text>
<polyline fill="none" stroke="#000000" points="1173.5,-878 1268.5,-878 "/>
<text text-anchor="middle" x="1221" y="-862.8" font-family="Times,serif" font-size="14.00" fill="#000000">写WAL日志</text>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;WriteToWAL -->
<g id="edge22" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;WriteToWAL</title>
<path fill="none" stroke="#17b978" d="M1002.1553,-814.0419C1050.9266,-828.2954 1117.0046,-847.607 1163.7542,-861.2697"/>
<polygon fill="#17b978" stroke="#17b978" points="1162.8432,-864.6498 1173.4235,-864.0956 1164.8069,-857.9309 1162.8432,-864.6498"/>
</g>
<!-- ConcurrentWriteToWAL -->
<g id="node21" class="node">
<title>ConcurrentWriteToWAL</title>
<polygon fill="none" stroke="#000000" points="1138.5,-920 1138.5,-996 1303.5,-996 1303.5,-920 1138.5,-920"/>
<text text-anchor="middle" x="1221" y="-980.8" font-family="Times,serif" font-size="14.00" fill="#000000">ConcurrentWriteToWAL</text>
<polyline fill="none" stroke="#000000" points="1138.5,-973 1303.5,-973 "/>
<text text-anchor="start" x="1146.5" y="-957.8" font-family="Times,serif" font-size="14.00" fill="#000000">由two_write_queues_变量</text>
<text text-anchor="start" x="1146.5" y="-942.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 决定是否并发写</text>
<text text-anchor="start" x="1146.5" y="-927.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 并发的写入WAL日志</text>
</g>
<!-- IF_STATE_GROUP_LEADER&#45;&gt;ConcurrentWriteToWAL -->
<g id="edge23" class="edge">
<title>IF_STATE_GROUP_LEADER&#45;&gt;ConcurrentWriteToWAL</title>
<path fill="none" stroke="#17b978" d="M962.7711,-814.2061C996.123,-838.5567 1056.5467,-880.9765 1112,-911 1117.5301,-913.9941 1123.2906,-916.9422 1129.148,-919.8128"/>
<polygon fill="#17b978" stroke="#17b978" points="1127.8827,-923.0876 1138.413,-924.2553 1130.9092,-916.7757 1127.8827,-923.0876"/>
</g>
<!-- EnterAsMemTableWriter&#45;&gt;CreateMissingNewerLinks -->
<g id="edge48" class="edge">
<title>EnterAsMemTableWriter&#45;&gt;CreateMissingNewerLinks</title>
<path fill="none" stroke="#000000" d="M1300.2248,-318.3305C1310.6672,-321.867 1320.8925,-326.3408 1330,-332 1407.329,-380.051 1468.1755,-472.4374 1495.03,-518.0995"/>
<polygon fill="#000000" stroke="#000000" points="1492.0516,-519.9407 1500.0905,-526.8419 1498.1098,-516.4338 1492.0516,-519.9407"/>
</g>
<!-- HasMerge -->
<g id="node37" class="node">
<title>HasMerge</title>
<polygon fill="none" stroke="#000000" points="1547,-323 1473,-323 1473,-287 1547,-287 1547,-323"/>
<text text-anchor="middle" x="1510" y="-301.3" font-family="Times,serif" font-size="14.00" fill="#000000">HasMerge</text>
</g>
<!-- EnterAsMemTableWriter&#45;&gt;HasMerge -->
<g id="edge49" class="edge">
<title>EnterAsMemTableWriter&#45;&gt;HasMerge</title>
<path fill="none" stroke="#000000" d="M1300.3528,-305C1352.3315,-305 1418.5343,-305 1462.4918,-305"/>
<polygon fill="#000000" stroke="#000000" points="1462.6162,-308.5001 1472.6162,-305 1462.6162,-301.5001 1462.6162,-308.5001"/>
</g>
<!-- LaunchParallelMemTableWriters -->
<g id="node17" class="node">
<title>LaunchParallelMemTableWriters</title>
<polygon fill="none" stroke="#000000" points="1369.5,-581.5 1369.5,-642.5 1650.5,-642.5 1650.5,-581.5 1369.5,-581.5"/>
<text text-anchor="middle" x="1510" y="-627.3" font-family="Times,serif" font-size="14.00" fill="#000000">LaunchParallelMemTableWriters</text>
<polyline fill="none" stroke="#000000" points="1369.5,-619.5 1650.5,-619.5 "/>
<text text-anchor="start" x="1377.5" y="-604.3" font-family="Times,serif" font-size="14.00" fill="#000000">将group中的所有write状态设置为</text>
<text text-anchor="start" x="1377.5" y="-589.3" font-family="Times,serif" font-size="14.00" fill="#000000"> STATE_PARALLEL_MEMTABLE_WRITER</text>
</g>
<!-- LaunchParallelMemTableWriters&#45;&gt;IF_STATE_PARALLEL_MEMABLE_WRITER -->
<g id="edge16" class="edge">
<title>LaunchParallelMemTableWriters&#45;&gt;IF_STATE_PARALLEL_MEMABLE_WRITER</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M1377.9632,-581.3767C1373.7516,-578.5217 1369.7432,-575.4041 1366,-572 1332.9029,-541.9007 1364.5369,-506.4357 1330,-478 1254.0739,-415.4867 1208.8656,-457.0219 1112,-440 1100.604,-437.9974 1088.7916,-435.9163 1076.9293,-433.8227"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="1077.4176,-430.3549 1066.9613,-432.0626 1076.2003,-437.2482 1077.4176,-430.3549"/>
</g>
<!-- LaunchParallelMemTableWriters&#45;&gt;SetState -->
<g id="edge52" class="edge">
<title>LaunchParallelMemTableWriters&#45;&gt;SetState</title>
<path fill="none" stroke="#000000" d="M1628.7606,-581.4961C1638.87,-578.4505 1648.8953,-575.27 1658.5,-572 1706.0149,-555.8233 1759.0347,-533.1774 1794.3414,-517.414"/>
<polygon fill="#000000" stroke="#000000" points="1796.1221,-520.4511 1803.8106,-513.1616 1793.2544,-514.0655 1796.1221,-520.4511"/>
</g>
<!-- IF_PARALLEL&#45;&gt;LaunchParallelMemTableWriters -->
<g id="edge24" class="edge">
<title>IF_PARALLEL&#45;&gt;LaunchParallelMemTableWriters</title>
<path fill="none" stroke="#000000" d="M1313.2548,-753.4108C1318.984,-750.3444 1324.6086,-747.1966 1330,-744 1378.141,-715.4567 1429.252,-677.108 1464.6605,-649.1016"/>
<polygon fill="#000000" stroke="#000000" points="1467.2172,-651.5401 1472.8641,-642.5756 1462.8593,-646.062 1467.2172,-651.5401"/>
</g>
<!-- ExitAsMemTableWriter&#45;&gt;SetState -->
<g id="edge50" class="edge">
<title>ExitAsMemTableWriter&#45;&gt;SetState</title>
<path fill="none" stroke="#000000" d="M713.0103,-558.9967C841.3171,-567.3527 1109.4378,-576.8488 1330,-532 1346.823,-528.5792 1349.1947,-521.5067 1366,-518 1521.3541,-485.5832 1711.7954,-491.5209 1793.7863,-496.196"/>
<polygon fill="#000000" stroke="#000000" points="1793.7404,-499.6994 1803.9308,-496.8002 1794.1566,-492.7118 1793.7404,-499.6994"/>
</g>
<!-- newest_memtable_writer_ -->
<g id="node38" class="node">
<title>newest_memtable_writer_</title>
<polygon fill="none" stroke="#000000" points="1017.5,-525 856.5,-525 856.5,-489 1017.5,-489 1017.5,-525"/>
<text text-anchor="middle" x="937" y="-503.3" font-family="Times,serif" font-size="14.00" fill="#000000">newest_memtable_writer_</text>
</g>
<!-- ExitAsMemTableWriter&#45;&gt;newest_memtable_writer_ -->
<g id="edge51" class="edge">
<title>ExitAsMemTableWriter&#45;&gt;newest_memtable_writer_</title>
<path fill="none" stroke="#000000" d="M713.0765,-541.3923C753.5847,-535.1706 803.7805,-527.4611 846.374,-520.9192"/>
<polygon fill="#000000" stroke="#000000" points="847.1098,-524.3473 856.4625,-519.3697 846.0471,-517.4284 847.1098,-524.3473"/>
</g>
<!-- newest_writer_ -->
<g id="node27" class="node">
<title>newest_writer_</title>
<polygon fill="none" stroke="#000000" points="1271,-269 1171,-269 1171,-233 1271,-233 1271,-269"/>
<text text-anchor="middle" x="1221" y="-247.3" font-family="Times,serif" font-size="14.00" fill="#000000">newest_writer_</text>
</g>
<!-- LinkOne&#45;&gt;newest_writer_ -->
<g id="edge34" class="edge">
<title>LinkOne&#45;&gt;newest_writer_</title>
<path fill="none" stroke="#000000" d="M1008.6652,-251C1055.6188,-251 1116.2985,-251 1160.7591,-251"/>
<polygon fill="#000000" stroke="#000000" points="1160.8395,-254.5001 1170.8395,-251 1160.8394,-247.5001 1160.8395,-254.5001"/>
</g>
<!-- stall_cv_Wait -->
<g id="node28" class="node">
<title>stall_cv_Wait</title>
<polygon fill="none" stroke="#000000" points="1267,-215 1175,-215 1175,-179 1267,-179 1267,-215"/>
<text text-anchor="middle" x="1221" y="-193.3" font-family="Times,serif" font-size="14.00" fill="#000000">stall_cv_Wait</text>
</g>
<!-- LinkOne&#45;&gt;stall_cv_Wait -->
<g id="edge35" class="edge">
<title>LinkOne&#45;&gt;stall_cv_Wait</title>
<path fill="none" stroke="#000000" d="M1008.6652,-237.3735C1057.0926,-228.1655 1120.1212,-216.1812 1164.8968,-207.6675"/>
<polygon fill="#000000" stroke="#000000" points="1165.5583,-211.1045 1174.7285,-205.7981 1164.2507,-204.2277 1165.5583,-211.1045"/>
</g>
<!-- SetState&#45;&gt;Writer -->
<g id="edge43" class="edge">
<title>SetState&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M1865.1349,-499.2904C1897.8541,-499.6005 1952.1244,-500.1149 2004.6387,-500.6127"/>
<polygon fill="#000000" stroke="#000000" points="2004.7314,-504.1136 2014.7641,-500.7087 2004.7978,-497.1139 2004.7314,-504.1136"/>
</g>
<!-- StateCV_noitfy_one -->
<g id="node34" class="node">
<title>StateCV_noitfy_one</title>
<polygon fill="none" stroke="#000000" points="2215,-249 2087,-249 2087,-213 2215,-213 2215,-249"/>
<text text-anchor="middle" x="2151" y="-227.3" font-family="Times,serif" font-size="14.00" fill="#000000">StateCV_noitfy_one</text>
</g>
<!-- SetState&#45;&gt;StateCV_noitfy_one -->
<g id="edge44" class="edge">
<title>SetState&#45;&gt;StateCV_noitfy_one</title>
<path fill="none" stroke="#000000" d="M1845.5447,-480.734C1870.7929,-440.3664 1936.6395,-342.6615 2015,-286 2034.1467,-272.1553 2057.2766,-261.122 2078.9883,-252.6806"/>
<polygon fill="#000000" stroke="#000000" points="2080.3851,-255.8948 2088.5164,-249.1027 2077.9243,-249.3416 2080.3851,-255.8948"/>
</g>
<!-- AwaitState&#45;&gt;Writer -->
<g id="edge36" class="edge">
<title>AwaitState&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M1654.2119,-148.8244C1666.185,-152.9973 1678.215,-156.8002 1690,-160 1752.5117,-176.9731 1928.0715,-157.9739 1979,-198 2011.2613,-223.355 1997.4079,-247.6192 2012.9126,-285.8935"/>
<polygon fill="#000000" stroke="#000000" points="2009.9066,-287.7363 2017.2466,-295.3767 2016.2732,-284.8267 2009.9066,-287.7363"/>
</g>
<!-- AsmVolatilePause -->
<g id="node29" class="node">
<title>AsmVolatilePause</title>
<polygon fill="none" stroke="#000000" points="1893.5,-97 1775.5,-97 1775.5,-61 1893.5,-61 1893.5,-97"/>
<text text-anchor="middle" x="1834.5" y="-75.3" font-family="Times,serif" font-size="14.00" fill="#000000">AsmVolatilePause</text>
</g>
<!-- AwaitState&#45;&gt;AsmVolatilePause -->
<g id="edge37" class="edge">
<title>AwaitState&#45;&gt;AsmVolatilePause</title>
<path fill="none" stroke="#000000" d="M1654.2202,-81.7778C1692.7105,-81.1847 1732.5712,-80.5706 1764.9931,-80.071"/>
<polygon fill="#000000" stroke="#000000" points="1765.3022,-83.5667 1775.2471,-79.913 1765.1943,-76.5676 1765.3022,-83.5667"/>
</g>
<!-- std_this_thread_yield -->
<g id="node30" class="node">
<title>std_this_thread_yield</title>
<polygon fill="none" stroke="#000000" points="1901,-243 1768,-243 1768,-207 1901,-207 1901,-243"/>
<text text-anchor="middle" x="1834.5" y="-221.3" font-family="Times,serif" font-size="14.00" fill="#000000">std_this_thread_yield</text>
</g>
<!-- AwaitState&#45;&gt;std_this_thread_yield -->
<g id="edge38" class="edge">
<title>AwaitState&#45;&gt;std_this_thread_yield</title>
<path fill="none" stroke="#000000" d="M1636.645,-167.6002C1654.1257,-177.0709 1672.197,-185.8642 1690,-193 1711.3029,-201.5387 1735.3313,-208.0145 1757.5899,-212.8275"/>
<polygon fill="#000000" stroke="#000000" points="1757.1732,-216.3156 1767.6761,-214.9233 1758.5973,-209.462 1757.1732,-216.3156"/>
</g>
<!-- BlockingAwaitState -->
<g id="node31" class="node">
<title>BlockingAwaitState</title>
<polygon fill="none" stroke="#000000" points="1897.5,-151 1771.5,-151 1771.5,-115 1897.5,-115 1897.5,-151"/>
<text text-anchor="middle" x="1834.5" y="-129.3" font-family="Times,serif" font-size="14.00" fill="#000000">BlockingAwaitState</text>
</g>
<!-- AwaitState&#45;&gt;BlockingAwaitState -->
<g id="edge39" class="edge">
<title>AwaitState&#45;&gt;BlockingAwaitState</title>
<path fill="none" stroke="#000000" d="M1654.2202,-105.7775C1691.1831,-111.3589 1729.4098,-117.1312 1761.0987,-121.9163"/>
<polygon fill="#000000" stroke="#000000" points="1760.7372,-125.4013 1771.1477,-123.4337 1761.7824,-118.4798 1760.7372,-125.4013"/>
</g>
<!-- BlockingAwaitState&#45;&gt;Writer -->
<g id="edge40" class="edge">
<title>BlockingAwaitState&#45;&gt;Writer</title>
<path fill="none" stroke="#000000" d="M1897.7734,-132.9544C1925.8672,-136.1575 1957.3913,-144.6578 1979,-165 2019.0046,-202.6598 1994.1788,-234.1866 2013.1391,-285.9266"/>
<polygon fill="#000000" stroke="#000000" points="2010.0199,-287.5453 2017.0513,-295.4706 2016.4968,-284.8902 2010.0199,-287.5453"/>
</g>
<!-- CreateMutex -->
<g id="node32" class="node">
<title>CreateMutex</title>
<polygon fill="none" stroke="#000000" points="2195,-195 2107,-195 2107,-159 2195,-159 2195,-195"/>
<text text-anchor="middle" x="2151" y="-173.3" font-family="Times,serif" font-size="14.00" fill="#000000">CreateMutex</text>
</g>
<!-- BlockingAwaitState&#45;&gt;CreateMutex -->
<g id="edge41" class="edge">
<title>BlockingAwaitState&#45;&gt;CreateMutex</title>
<path fill="none" stroke="#000000" d="M1897.7878,-141.7983C1956.0381,-149.8963 2041.5285,-161.7812 2096.7314,-169.4555"/>
<polygon fill="#000000" stroke="#000000" points="2096.2864,-172.9273 2106.6731,-170.8377 2097.2503,-165.9939 2096.2864,-172.9273"/>
</g>
<!-- StateCV_wait -->
<g id="node33" class="node">
<title>StateCV_wait</title>
<polygon fill="none" stroke="#000000" points="2415,-249 2323,-249 2323,-213 2415,-213 2415,-249"/>
<text text-anchor="middle" x="2369" y="-227.3" font-family="Times,serif" font-size="14.00" fill="#000000">StateCV_wait</text>
</g>
<!-- BlockingAwaitState&#45;&gt;StateCV_wait -->
<g id="edge42" class="edge">
<title>BlockingAwaitState&#45;&gt;StateCV_wait</title>
<path fill="none" stroke="#000000" d="M1897.6344,-121.5207C1988.0801,-108.0693 2157.8537,-94.1134 2287,-150 2313.5557,-161.4917 2336.274,-185.8447 2351.0172,-204.8631"/>
<polygon fill="#000000" stroke="#000000" points="2348.2333,-206.9846 2357.0251,-212.8969 2353.8391,-202.7924 2348.2333,-206.9846"/>
</g>
<!-- StateCV_noitfy_one&#45;&gt;StateCV_wait -->
<g id="edge53" class="edge">
<title>StateCV_noitfy_one&#45;&gt;StateCV_wait</title>
<path fill="none" stroke="#000000" d="M2215.2281,-231C2246.124,-231 2282.8285,-231 2312.6278,-231"/>
<polygon fill="#000000" stroke="#000000" points="2312.8595,-234.5001 2322.8594,-231 2312.8594,-227.5001 2312.8595,-234.5001"/>
</g>
</g>
</svg>
