<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: tranaction_lock_mgr Pages: 1 -->
<svg width="3393pt" height="849pt"
 viewBox="0.00 0.00 3393.00 849.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 845)">
<title>tranaction_lock_mgr</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-845 3389,-845 3389,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_TransactionOptions</title>
<polygon fill="none" stroke="#000000" points="326.5,-317 326.5,-453 497.5,-453 497.5,-317 326.5,-317"/>
<text text-anchor="middle" x="412" y="-433" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionOptions</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_LockMap</title>
<polygon fill="none" stroke="#000000" points="572,-8 572,-453 2443,-453 2443,-8 572,-8"/>
<text text-anchor="middle" x="1507.5" y="-433" font-family="Times,serif" font-size="20.00" fill="#000000">LockMap</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_LockMapStripe</title>
<polygon fill="none" stroke="#000000" points="1668,-16 1668,-415 2435,-415 2435,-16 1668,-16"/>
<text text-anchor="middle" x="2051.5" y="-395" font-family="Times,serif" font-size="20.00" fill="#000000">LockMapStripe</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_TransactionLockMgr</title>
<polygon fill="none" stroke="#000000" points="8,-461 8,-833 3377,-833 3377,-461 8,-461"/>
<text text-anchor="middle" x="1692.5" y="-813" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionLockMgr</text>
</g>
<!-- GetExpirationTime -->
<g id="node1" class="node">
<title>GetExpirationTime</title>
<polygon fill="none" stroke="#000000" points="472.5,-415 350.5,-415 350.5,-379 472.5,-379 472.5,-415"/>
<text text-anchor="middle" x="411.5" y="-393.3" font-family="Times,serif" font-size="14.00" fill="#000000">GetExpirationTime</text>
</g>
<!-- GetLockTimeout -->
<g id="node2" class="node">
<title>GetLockTimeout</title>
<polygon fill="none" stroke="#000000" points="466.5,-361 356.5,-361 356.5,-325 466.5,-325 466.5,-361"/>
<text text-anchor="middle" x="411.5" y="-339.3" font-family="Times,serif" font-size="14.00" fill="#000000">GetLockTimeout</text>
</g>
<!-- GetStripe -->
<g id="node3" class="node">
<title>GetStripe</title>
<polygon fill="none" stroke="#000000" points="580,-275 580,-321 746,-321 746,-275 580,-275"/>
<text text-anchor="middle" x="663" y="-305.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetStrip</text>
<polyline fill="none" stroke="#000000" points="580,-298 746,-298 "/>
<text text-anchor="start" x="588" y="-282.8" font-family="Times,serif" font-size="14.00" fill="#000000">根据key获取对应的stripe</text>
</g>
<!-- num_stripes_ -->
<g id="node4" class="node">
<title>num_stripes_</title>
<polygon fill="none" stroke="#000000" points="947,-281 857,-281 857,-245 947,-245 947,-281"/>
<text text-anchor="middle" x="902" y="-259.3" font-family="Times,serif" font-size="14.00" fill="#000000">num_stripes_</text>
</g>
<!-- GetStripe&#45;&gt;num_stripes_ -->
<g id="edge1" class="edge">
<title>GetStripe&#45;&gt;num_stripes_</title>
<path fill="none" stroke="#666666" d="M746.2551,-285.8078C779.5155,-280.9371 816.9136,-275.4604 846.725,-271.0947"/>
<polygon fill="#666666" stroke="#666666" points="847.5468,-274.5117 856.934,-269.5996 846.5324,-267.5856 847.5468,-274.5117"/>
</g>
<!-- LockMapStripe -->
<g id="node6" class="node">
<title>LockMapStripe</title>
<polygon fill="none" stroke="#000000" points="1676,-269 1676,-361 1983,-361 1983,-269 1676,-269"/>
<text text-anchor="middle" x="1829.5" y="-345.8" font-family="Times,serif" font-size="14.00" fill="#000000">LockMapStripe</text>
<polyline fill="none" stroke="#000000" points="1676,-338 1983,-338 "/>
<text text-anchor="start" x="1684" y="-322.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::shared_ptr&lt;TransactionDBMutex&gt; stripe_mutex</text>
<polyline fill="none" stroke="#000000" points="1676,-315 1983,-315 "/>
<text text-anchor="start" x="1684" y="-299.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::shared_ptr&lt;TransactionDBCondVar&gt; stripe_cv;</text>
<polyline fill="none" stroke="#000000" points="1676,-292 1983,-292 "/>
<text text-anchor="start" x="1684" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unordered_map&lt;std::string, LockInfo&gt; keys;</text>
</g>
<!-- GetStripe&#45;&gt;LockMapStripe -->
<g id="edge6" class="edge">
<title>GetStripe&#45;&gt;LockMapStripe</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M746.3203,-298.8897C915.0085,-300.7393 1309.0525,-305.3054 1640,-311 1648.3951,-311.1445 1656.9992,-311.2998 1665.6873,-311.4626"/>
<polygon fill="#666666" stroke="#666666" points="1665.8529,-314.9662 1675.9175,-311.6567 1665.9858,-307.9675 1665.8529,-314.9662"/>
</g>
<!-- LockMap -->
<g id="node5" class="node">
<title>LockMap</title>
<polygon fill="#95e1d3" stroke="#000000" points="1347,-320 1347,-412 1640,-412 1640,-320 1347,-320"/>
<text text-anchor="middle" x="1493.5" y="-396.8" font-family="Times,serif" font-size="14.00" fill="#000000">LockMap</text>
<polyline fill="none" stroke="#000000" points="1347,-389 1640,-389 "/>
<text text-anchor="start" x="1355" y="-373.8" font-family="Times,serif" font-size="14.00" fill="#000000">const size_t num_stripes_;</text>
<polyline fill="none" stroke="#000000" points="1347,-366 1640,-366 "/>
<text text-anchor="start" x="1355" y="-350.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::atomic&lt;int64_t&gt; lock_cnt{0};</text>
<polyline fill="none" stroke="#000000" points="1347,-343 1640,-343 "/>
<text text-anchor="start" x="1355" y="-327.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::vector&lt;LockMapStripe*&gt; lock_map_stripes_;</text>
</g>
<!-- LockMap&#45;&gt;LockMapStripe -->
<g id="edge2" class="edge">
<title>LockMap&#45;&gt;LockMapStripe</title>
<path fill="none" stroke="#666666" d="M1640.3857,-343.7048C1648.826,-342.4237 1657.3385,-341.1317 1665.8363,-339.8418"/>
<polygon fill="#666666" stroke="#666666" points="1666.4384,-343.2906 1675.7999,-338.3295 1665.3878,-336.3699 1666.4384,-343.2906"/>
</g>
<!-- TransactionDBMutex -->
<g id="node7" class="node">
<title>TransactionDBMutex</title>
<polygon fill="none" stroke="#000000" points="2068.5,-24 2068.5,-116 2377.5,-116 2377.5,-24 2068.5,-24"/>
<text text-anchor="middle" x="2223" y="-100.8" font-family="Times,serif" font-size="14.00" fill="#000000">TransactionDBMutex</text>
<polyline fill="none" stroke="#000000" points="2068.5,-93 2377.5,-93 "/>
<text text-anchor="start" x="2076.5" y="-77.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Lock() = 0;</text>
<polyline fill="none" stroke="#000000" points="2068.5,-70 2377.5,-70 "/>
<text text-anchor="start" x="2076.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status TryLockFor(int64_t timeout_time) = 0;</text>
<polyline fill="none" stroke="#000000" points="2068.5,-47 2377.5,-47 "/>
<text text-anchor="start" x="2076.5" y="-31.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void UnLock() = 0;</text>
</g>
<!-- LockMapStripe&#45;&gt;TransactionDBMutex -->
<g id="edge3" class="edge">
<title>LockMapStripe&#45;&gt;TransactionDBMutex</title>
<path fill="none" stroke="#666666" d="M1863.9652,-268.9094C1898.5678,-225.814 1955.7096,-162.7431 2019,-126 2031.4518,-118.7711 2044.874,-112.443 2058.6773,-106.9093"/>
<polygon fill="#666666" stroke="#666666" points="2060.2158,-110.0673 2068.287,-103.2039 2057.6974,-103.536 2060.2158,-110.0673"/>
</g>
<!-- TransactionDBCondVar -->
<g id="node8" class="node">
<title>TransactionDBCondVar</title>
<polygon fill="none" stroke="#000000" points="2019,-135 2019,-265 2427,-265 2427,-135 2019,-135"/>
<text text-anchor="middle" x="2223" y="-249.8" font-family="Times,serif" font-size="14.00" fill="#000000">TransactionDBCondVar</text>
<polyline fill="none" stroke="#000000" points="2019,-242 2427,-242 "/>
<text text-anchor="start" x="2027" y="-226.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Wait(std::shared_ptr&lt;TransactionDBMutex&gt; mutex) = 0;</text>
<polyline fill="none" stroke="#000000" points="2019,-219 2427,-219 "/>
<text text-anchor="start" x="2027" y="-203.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status WaitFor(std::shared_ptr&lt;TransactionDBMutex&gt; mutex,</text>
<text text-anchor="start" x="2027" y="-188.8" font-family="Times,serif" font-size="14.00" fill="#000000"> int64_t timeout_time) = 0;</text>
<polyline fill="none" stroke="#000000" points="2019,-181 2427,-181 "/>
<text text-anchor="start" x="2027" y="-165.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void Notify() = 0;</text>
<polyline fill="none" stroke="#000000" points="2019,-158 2427,-158 "/>
<text text-anchor="start" x="2027" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void NotifyAll() = 0;</text>
</g>
<!-- LockMapStripe&#45;&gt;TransactionDBCondVar -->
<g id="edge4" class="edge">
<title>LockMapStripe&#45;&gt;TransactionDBCondVar</title>
<path fill="none" stroke="#666666" d="M1983.046,-270.1263C1991.5864,-267.6304 2000.2409,-265.1011 2008.941,-262.5585"/>
<polygon fill="#666666" stroke="#666666" points="2010.1626,-265.848 2018.7793,-259.6833 2008.199,-259.1291 2010.1626,-265.848"/>
</g>
<!-- LockInfo -->
<g id="node9" class="node">
<title>LockInfo</title>
<polygon fill="none" stroke="#000000" points="2115.5,-284 2115.5,-376 2330.5,-376 2330.5,-284 2115.5,-284"/>
<text text-anchor="start" x="2123.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">LockInfo</text>
<polyline fill="none" stroke="#000000" points="2115.5,-353 2330.5,-353 "/>
<text text-anchor="start" x="2123.5" y="-337.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool exclusive;</text>
<polyline fill="none" stroke="#000000" points="2115.5,-330 2330.5,-330 "/>
<text text-anchor="start" x="2123.5" y="-314.8" font-family="Times,serif" font-size="14.00" fill="#000000">autovector&lt;TransactionID&gt; txn_ids;</text>
<polyline fill="none" stroke="#000000" points="2115.5,-307 2330.5,-307 "/>
<text text-anchor="start" x="2123.5" y="-291.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t expiration_time;</text>
</g>
<!-- LockMapStripe&#45;&gt;LockInfo -->
<g id="edge5" class="edge">
<title>LockMapStripe&#45;&gt;LockInfo</title>
<path fill="none" stroke="#666666" d="M1983.046,-320.8531C2023.633,-322.4002 2066.8002,-324.0458 2105.1681,-325.5083"/>
<polygon fill="#666666" stroke="#666666" points="2105.2076,-329.0123 2115.3337,-325.8958 2105.4743,-322.0173 2105.2076,-329.0123"/>
</g>
<!-- TryLock -->
<g id="node10" class="node">
<title>TryLock</title>
<polygon fill="none" stroke="#000000" points="16,-469.5 16,-530.5 263,-530.5 263,-469.5 16,-469.5"/>
<text text-anchor="middle" x="139.5" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000">TryLock</text>
<polyline fill="none" stroke="#000000" points="16,-507.5 263,-507.5 "/>
<text text-anchor="start" x="24" y="-492.3" font-family="Times,serif" font-size="14.00" fill="#000000">获取LockMapStripe</text>
<text text-anchor="start" x="24" y="-477.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 然后调用AcquireWithTimeout获取lock</text>
</g>
<!-- TryLock&#45;&gt;GetExpirationTime -->
<g id="edge7" class="edge">
<title>TryLock&#45;&gt;GetExpirationTime</title>
<path fill="none" stroke="#b83b5e" d="M220.3725,-469.3755C263.3929,-453.0847 315.2723,-433.4392 354.1184,-418.7291"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="355.5879,-421.9152 363.7004,-415.1006 353.1089,-415.3688 355.5879,-421.9152"/>
</g>
<!-- TryLock&#45;&gt;GetLockTimeout -->
<g id="edge8" class="edge">
<title>TryLock&#45;&gt;GetLockTimeout</title>
<path fill="none" stroke="#b83b5e" d="M168.6378,-469.2863C198.5868,-439.5233 247.9361,-395.2802 299,-370 313.6832,-362.7308 330.4312,-357.3527 346.4373,-353.3987"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="347.3311,-356.7844 356.2824,-351.1166 345.7503,-349.9652 347.3311,-356.7844"/>
</g>
<!-- TryLock&#45;&gt;GetStripe -->
<g id="edge9" class="edge">
<title>TryLock&#45;&gt;GetStripe</title>
<path fill="none" stroke="#b83b5e" d="M155.0651,-469.2283C179.1389,-425.4049 229.9361,-346.6083 299,-313 383.6356,-271.8141 492.8785,-273.4437 569.5179,-282.0278"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="569.2969,-285.5259 579.6384,-283.2228 570.1178,-278.5742 569.2969,-285.5259"/>
</g>
<!-- GetLockMap -->
<g id="node11" class="node">
<title>GetLockMap</title>
<polygon fill="none" stroke="#000000" points="299,-470 299,-546 524,-546 524,-470 299,-470"/>
<text text-anchor="middle" x="411.5" y="-530.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetLockMap</text>
<polyline fill="none" stroke="#000000" points="299,-523 524,-523 "/>
<text text-anchor="start" x="307" y="-507.8" font-family="Times,serif" font-size="14.00" fill="#000000">根据column_family_id</text>
<text text-anchor="start" x="307" y="-492.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 从ThreadLocal中获取相应的</text>
<text text-anchor="start" x="307" y="-477.8" font-family="Times,serif" font-size="14.00" fill="#000000"> LocksMap,如果不存在就新建一个</text>
</g>
<!-- TryLock&#45;&gt;GetLockMap -->
<g id="edge10" class="edge">
<title>TryLock&#45;&gt;GetLockMap</title>
<path fill="none" stroke="#b83b5e" d="M263.1635,-503.6372C271.7373,-503.8893 280.377,-504.1434 288.9448,-504.3954"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="288.8627,-507.8944 298.9613,-504.69 289.0686,-500.8975 288.8627,-507.8944"/>
</g>
<!-- AcquireWithTimeout -->
<g id="node12" class="node">
<title>AcquireWithTimeout</title>
<polygon fill="none" stroke="#000000" points="1061,-615 1061,-729 1288,-729 1288,-615 1061,-615"/>
<text text-anchor="middle" x="1174.5" y="-713.8" font-family="Times,serif" font-size="14.00" fill="#000000">AcquireWithTimeout</text>
<polyline fill="none" stroke="#000000" points="1061,-706 1288,-706 "/>
<text text-anchor="start" x="1069" y="-690.8" font-family="Times,serif" font-size="14.00" fill="#000000">获取key对应的lock</text>
<polyline fill="none" stroke="#000000" points="1061,-683 1288,-683 "/>
<text text-anchor="start" x="1069" y="-667.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.先获取key对应的stripe mutex lock</text>
<text text-anchor="start" x="1069" y="-652.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 已方便对stripe操作</text>
<text text-anchor="start" x="1069" y="-637.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.调用AcquireLocked获取key锁</text>
<text text-anchor="start" x="1069" y="-622.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.未timeout，循环尝试获取key锁</text>
</g>
<!-- TryLock&#45;&gt;AcquireWithTimeout -->
<g id="edge11" class="edge">
<title>TryLock&#45;&gt;AcquireWithTimeout</title>
<path fill="none" stroke="#b83b5e" d="M216.4217,-530.6035C242.318,-539.9354 271.5982,-549.4483 299,-556 562.7248,-619.0556 879.8994,-650.3503 1050.8135,-663.6738"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="1050.612,-667.1686 1060.8518,-664.4488 1051.1509,-660.1894 1050.612,-667.1686"/>
</g>
<!-- GetLockMap&#45;&gt;GetStripe -->
<g id="edge12" class="edge">
<title>GetLockMap&#45;&gt;GetStripe</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M504.2222,-469.9431C511.1247,-465.9221 517.8033,-461.6043 524,-457 572.972,-420.613 617.0074,-364.3524 641.8334,-329.4269"/>
<polygon fill="#666666" stroke="#666666" points="644.8447,-331.2288 647.7226,-321.0323 639.1142,-327.2086 644.8447,-331.2288"/>
</g>
<!-- lock_maps_cache_ -->
<g id="node22" class="node">
<title>lock_maps_cache_</title>
<polygon fill="#95e1d3" stroke="#000000" points="802,-488.5 802,-549.5 1002,-549.5 1002,-488.5 802,-488.5"/>
<text text-anchor="middle" x="902" y="-534.3" font-family="Times,serif" font-size="14.00" fill="#000000">lock_maps_cache_</text>
<polyline fill="none" stroke="#000000" points="802,-526.5 1002,-526.5 "/>
<text text-anchor="start" x="810" y="-511.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;ThreadLocalPtr&gt;</text>
<text text-anchor="start" x="810" y="-496.3" font-family="Times,serif" font-size="14.00" fill="#000000"> lock_maps_cache_;</text>
</g>
<!-- GetLockMap&#45;&gt;lock_maps_cache_ -->
<g id="edge27" class="edge">
<title>GetLockMap&#45;&gt;lock_maps_cache_</title>
<path fill="none" stroke="#666666" d="M524.2961,-484.4684C536.3058,-482.641 548.3758,-481.0863 560,-480 651.1584,-471.481 675.3356,-467.2571 766,-480 776.615,-481.4919 787.5631,-483.6086 798.4223,-486.0935"/>
<polygon fill="#666666" stroke="#666666" points="797.8178,-489.5477 808.3579,-488.4719 799.4475,-482.74 797.8178,-489.5477"/>
</g>
<!-- GetLockMap_insert -->
<g id="node23" class="node">
<title>GetLockMap_insert</title>
<polygon fill="none" stroke="#000000" points="560,-489.5 560,-550.5 766,-550.5 766,-489.5 560,-489.5"/>
<text text-anchor="middle" x="663" y="-535.3" font-family="Times,serif" font-size="14.00" fill="#000000">GetLockMap_insert</text>
<polyline fill="none" stroke="#000000" points="560,-527.5 766,-527.5 "/>
<text text-anchor="start" x="568" y="-512.3" font-family="Times,serif" font-size="14.00" fill="#000000">将新建的LockMaps插入cache中</text>
<text text-anchor="start" x="568" y="-497.3" font-family="Times,serif" font-size="14.00" fill="#000000"> key为column faimly id</text>
</g>
<!-- GetLockMap&#45;&gt;GetLockMap_insert -->
<g id="edge28" class="edge">
<title>GetLockMap&#45;&gt;GetLockMap_insert</title>
<path fill="none" stroke="#666666" d="M524.0092,-513.3682C532.5635,-513.7764 541.2004,-514.1885 549.7593,-514.5969"/>
<polygon fill="#666666" stroke="#666666" points="549.6058,-518.0934 559.7613,-515.0741 549.9395,-511.1014 549.6058,-518.0934"/>
</g>
<!-- LockMaps -->
<g id="node24" class="node">
<title>LockMaps</title>
<polygon fill="none" stroke="#000000" points="1038,-469.5 1038,-568.5 1311,-568.5 1311,-469.5 1038,-469.5"/>
<text text-anchor="middle" x="1174.5" y="-553.3" font-family="Times,serif" font-size="14.00" fill="#000000">LockMaps</text>
<polyline fill="none" stroke="#000000" points="1038,-545.5 1311,-545.5 "/>
<text text-anchor="start" x="1046" y="-530.3" font-family="Times,serif" font-size="14.00" fill="#000000">using LockMaps =</text>
<text text-anchor="start" x="1046" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> // Map of ColumnFamilyId to locked key info</text>
<polyline fill="none" stroke="#000000" points="1038,-507.5 1311,-507.5 "/>
<text text-anchor="start" x="1046" y="-492.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::unordered_map&lt;uint32_t, </text>
<text text-anchor="start" x="1046" y="-477.3" font-family="Times,serif" font-size="14.00" fill="#000000"> std::shared_ptr&lt;LockMap&gt;&gt;;</text>
</g>
<!-- GetLockMap&#45;&gt;LockMaps -->
<g id="edge29" class="edge">
<title>GetLockMap&#45;&gt;LockMaps</title>
<path fill="none" stroke="#666666" d="M504.9055,-546.0339C522.9066,-551.8334 541.8224,-556.9094 560,-560 575.4016,-562.6186 991.0305,-560.2787 1002,-559 1010.5417,-558.0043 1019.2762,-556.7486 1028.0596,-555.3016"/>
<polygon fill="#666666" stroke="#666666" points="1028.729,-558.7379 1037.9893,-553.5903 1027.5401,-551.8396 1028.729,-558.7379"/>
</g>
<!-- AcquireWithTimeout&#45;&gt;LockMapStripe -->
<g id="edge13" class="edge">
<title>AcquireWithTimeout&#45;&gt;LockMapStripe</title>
<path fill="none" stroke="#3f72af" d="M1274.6267,-614.9024C1288.1867,-603.9798 1300.888,-591.6362 1311,-578 1342.3963,-535.6616 1306.5392,-498.7816 1347,-465 1447.7985,-380.841 1515.8315,-469.723 1640,-427 1681.4752,-412.7295 1723.8511,-388.7425 1757.9833,-366.62"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1760.0395,-369.457 1766.4778,-361.0428 1756.1976,-363.6055 1760.0395,-369.457"/>
</g>
<!-- AcquireLocked -->
<g id="node13" class="node">
<title>AcquireLocked</title>
<polygon fill="none" stroke="#000000" points="1369.5,-490 1369.5,-680 1617.5,-680 1617.5,-490 1369.5,-490"/>
<text text-anchor="middle" x="1493.5" y="-664.8" font-family="Times,serif" font-size="14.00" fill="#000000">AcquireLocked</text>
<polyline fill="none" stroke="#000000" points="1369.5,-657 1617.5,-657 "/>
<text text-anchor="start" x="1377.5" y="-641.8" font-family="Times,serif" font-size="14.00" fill="#000000">获取key锁:</text>
<text text-anchor="start" x="1377.5" y="-626.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 1. 从stripe的keys中查找key</text>
<polyline fill="none" stroke="#000000" points="1369.5,-619 1617.5,-619 "/>
<text text-anchor="start" x="1377.5" y="-603.8" font-family="Times,serif" font-size="14.00" fill="#000000">2. 如果stripe.keys中不存在该key，</text>
<text text-anchor="start" x="1377.5" y="-588.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 就获取了key的lock 将自己插到map中</text>
<polyline fill="none" stroke="#000000" points="1369.5,-581 1617.5,-581 "/>
<text text-anchor="start" x="1377.5" y="-565.8" font-family="Times,serif" font-size="14.00" fill="#000000">3. 如果key被占用，如果是排它锁 </text>
<text text-anchor="start" x="1377.5" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.1 检查key对应的事务是否是自己</text>
<text text-anchor="start" x="1377.5" y="-535.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.2 检查key对应的事务是否过期了</text>
<polyline fill="none" stroke="#000000" points="1369.5,-528 1617.5,-528 "/>
<text text-anchor="start" x="1377.5" y="-512.8" font-family="Times,serif" font-size="14.00" fill="#000000">4.非排它锁，把自己加到keys后面</text>
<text text-anchor="start" x="1377.5" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 5.返回等待该key的事务id列表</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;AcquireLocked -->
<g id="edge14" class="edge">
<title>AcquireWithTimeout&#45;&gt;AcquireLocked</title>
<path fill="none" stroke="#3f72af" d="M1288.3153,-640.9595C1311.4329,-634.6547 1335.9489,-627.9685 1359.6855,-621.4949"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1360.7198,-624.8407 1369.4465,-618.8328 1358.8779,-618.0873 1360.7198,-624.8407"/>
</g>
<!-- SetWaitingTxn -->
<g id="node14" class="node">
<title>SetWaitingTxn</title>
<polygon fill="none" stroke="#000000" points="2273,-565 2173,-565 2173,-529 2273,-529 2273,-565"/>
<text text-anchor="middle" x="2223" y="-543.3" font-family="Times,serif" font-size="14.00" fill="#000000">SetWaitingTxn</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;SetWaitingTxn -->
<g id="edge15" class="edge">
<title>AcquireWithTimeout&#45;&gt;SetWaitingTxn</title>
<path fill="none" stroke="#3f72af" d="M1273.7161,-614.7499C1287.4799,-603.8156 1300.4823,-591.5085 1311,-578 1339.2503,-541.7165 1309.2487,-507.2566 1347,-481 1373.7267,-462.4111 1611.4616,-465.334 1640,-481 1660.3192,-492.1541 1647.9057,-513.4456 1668,-525 1750.6307,-572.5136 2036.6139,-559.7635 2162.6007,-551.4906"/>
<polygon fill="#3f72af" stroke="#3f72af" points="2163.095,-554.9654 2172.8387,-550.8049 2162.6271,-547.981 2163.095,-554.9654"/>
</g>
<!-- IsDeadlockDetect -->
<g id="node15" class="node">
<title>IsDeadlockDetect</title>
<polygon fill="none" stroke="#000000" points="1757,-720 1757,-766 1902,-766 1902,-720 1757,-720"/>
<text text-anchor="middle" x="1829.5" y="-750.8" font-family="Times,serif" font-size="14.00" fill="#000000">IsDeadlockDetect</text>
<polyline fill="none" stroke="#000000" points="1757,-743 1902,-743 "/>
<text text-anchor="start" x="1765" y="-727.8" font-family="Times,serif" font-size="14.00" fill="#000000">是否开启了死锁检测</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;IsDeadlockDetect -->
<g id="edge16" class="edge">
<title>AcquireWithTimeout&#45;&gt;IsDeadlockDetect</title>
<path fill="none" stroke="#3f72af" d="M1288.3395,-695.6183C1307.8479,-699.1374 1327.9624,-702.4373 1347,-705 1385.4116,-710.1707 1619.0815,-727.6266 1746.6057,-736.9736"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1746.4978,-740.475 1756.7268,-737.7147 1747.0091,-733.4937 1746.4978,-740.475"/>
</g>
<!-- IncrementWaiters -->
<g id="node16" class="node">
<title>IncrementWaiters</title>
<polygon fill="none" stroke="#000000" points="2165.5,-707 2165.5,-753 2280.5,-753 2280.5,-707 2165.5,-707"/>
<text text-anchor="middle" x="2223" y="-737.8" font-family="Times,serif" font-size="14.00" fill="#000000">IncrementWaiters</text>
<polyline fill="none" stroke="#000000" points="2165.5,-730 2280.5,-730 "/>
<text text-anchor="middle" x="2223" y="-714.8" font-family="Times,serif" font-size="14.00" fill="#000000">Deadlock检测？</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;IncrementWaiters -->
<g id="edge17" class="edge">
<title>AcquireWithTimeout&#45;&gt;IncrementWaiters</title>
<path fill="none" stroke="#3f72af" d="M1242.4868,-729.1479C1272.5324,-750.8012 1309.5108,-772.8971 1347,-784 1637.8127,-870.1279 2005.9939,-789.6722 2155.4104,-749.6144"/>
<polygon fill="#3f72af" stroke="#3f72af" points="2156.6226,-752.9123 2165.3598,-746.9196 2154.7925,-746.1557 2156.6226,-752.9123"/>
</g>
<!-- ClearWaitingTxn -->
<g id="node17" class="node">
<title>ClearWaitingTxn</title>
<polygon fill="none" stroke="#000000" points="1549.5,-775 1437.5,-775 1437.5,-739 1549.5,-739 1549.5,-775"/>
<text text-anchor="middle" x="1493.5" y="-753.3" font-family="Times,serif" font-size="14.00" fill="#000000">ClearWaitingTxn</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;ClearWaitingTxn -->
<g id="edge18" class="edge">
<title>AcquireWithTimeout&#45;&gt;ClearWaitingTxn</title>
<path fill="none" stroke="#3f72af" d="M1288.2475,-708.4099C1307.7666,-714.238 1327.9085,-719.9913 1347,-725 1373.1209,-731.8529 1402.1266,-738.4062 1427.3907,-743.7775"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1426.7316,-747.2154 1437.2383,-745.852 1428.1746,-740.3657 1426.7316,-747.2154"/>
</g>
<!-- DecrementWaiters -->
<g id="node18" class="node">
<title>DecrementWaiters</title>
<polygon fill="none" stroke="#000000" points="2282.5,-621 2163.5,-621 2163.5,-585 2282.5,-585 2282.5,-621"/>
<text text-anchor="middle" x="2223" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000">DecrementWaiters</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;DecrementWaiters -->
<g id="edge19" class="edge">
<title>AcquireWithTimeout&#45;&gt;DecrementWaiters</title>
<path fill="none" stroke="#3f72af" d="M1288.0352,-685.5416C1307.6704,-687.3983 1327.9057,-689.0065 1347,-690 1477.0463,-696.7667 1510.1348,-699.6364 1640,-690 1826.7981,-676.139 2044.5117,-637.6242 2153.4411,-616.7955"/>
<polygon fill="#3f72af" stroke="#3f72af" points="2154.1604,-620.2214 2163.3206,-614.8978 2152.8399,-613.3471 2154.1604,-620.2214"/>
</g>
<!-- IsLockExpired -->
<g id="node19" class="node">
<title>IsLockExpired</title>
<polygon fill="none" stroke="#000000" points="1757,-469 1757,-515 1902,-515 1902,-469 1757,-469"/>
<text text-anchor="middle" x="1829.5" y="-499.8" font-family="Times,serif" font-size="14.00" fill="#000000">IsLockExpired</text>
<polyline fill="none" stroke="#000000" points="1757,-492 1902,-492 "/>
<text text-anchor="start" x="1765" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">检查事务是否过期了</text>
</g>
<!-- AcquireLocked&#45;&gt;IsLockExpired -->
<g id="edge20" class="edge">
<title>AcquireLocked&#45;&gt;IsLockExpired</title>
<path fill="none" stroke="#666666" d="M1617.6594,-550.6345C1660.7435,-538.7094 1707.9636,-525.6395 1746.8666,-514.8718"/>
<polygon fill="#666666" stroke="#666666" points="1747.8664,-518.2267 1756.5704,-512.1859 1745.999,-511.4803 1747.8664,-518.2267"/>
</g>
<!-- wait_ids -->
<g id="node20" class="node">
<title>wait_ids</title>
<polygon fill="#95e1d3" stroke="#000000" points="1770.5,-571 1770.5,-617 1888.5,-617 1888.5,-571 1770.5,-571"/>
<text text-anchor="middle" x="1829.5" y="-601.8" font-family="Times,serif" font-size="14.00" fill="#000000">wait_ids</text>
<polyline fill="none" stroke="#000000" points="1770.5,-594 1888.5,-594 "/>
<text text-anchor="start" x="1778.5" y="-578.8" font-family="Times,serif" font-size="14.00" fill="#000000">等待key的事务id</text>
</g>
<!-- AcquireLocked&#45;&gt;wait_ids -->
<g id="edge21" class="edge">
<title>AcquireLocked&#45;&gt;wait_ids</title>
<path fill="none" stroke="#666666" d="M1617.6594,-588.3257C1665.7412,-589.6136 1718.9744,-591.0395 1760.0496,-592.1397"/>
<polygon fill="#666666" stroke="#666666" points="1760.1298,-595.643 1770.22,-592.4121 1760.3173,-588.6455 1760.1298,-595.643"/>
</g>
<!-- IsDeadlockDetect&#45;&gt;IncrementWaiters -->
<g id="edge33" class="edge">
<title>IsDeadlockDetect&#45;&gt;IncrementWaiters</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M1902.1325,-740.6004C1974.5202,-738.209 2084.7938,-734.5659 2155.3714,-732.2342"/>
<polygon fill="#666666" stroke="#666666" points="2155.6082,-735.7284 2165.4872,-731.9 2155.377,-728.7322 2155.6082,-735.7284"/>
</g>
<!-- GetID -->
<g id="node25" class="node">
<title>GetID</title>
<polygon fill="none" stroke="#000000" points="2497,-654 2497,-700 2585,-700 2585,-654 2497,-654"/>
<text text-anchor="middle" x="2541" y="-684.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetID</text>
<polyline fill="none" stroke="#000000" points="2497,-677 2585,-677 "/>
<text text-anchor="start" x="2505" y="-661.8" font-family="Times,serif" font-size="14.00" fill="#000000">获取事务ID</text>
</g>
<!-- IncrementWaiters&#45;&gt;GetID -->
<g id="edge34" class="edge">
<title>IncrementWaiters&#45;&gt;GetID</title>
<path fill="none" stroke="#666666" d="M2280.5874,-720.4021C2339.1764,-710.6373 2429.2955,-695.6174 2486.6782,-686.0536"/>
<polygon fill="#666666" stroke="#666666" points="2487.3577,-689.4887 2496.6462,-684.3923 2486.2069,-682.584 2487.3577,-689.4887"/>
</g>
<!-- GetDeadlockDetectDepth -->
<g id="node26" class="node">
<title>GetDeadlockDetectDepth</title>
<polygon fill="none" stroke="#000000" points="2619,-795 2463,-795 2463,-759 2619,-759 2619,-795"/>
<text text-anchor="middle" x="2541" y="-773.3" font-family="Times,serif" font-size="14.00" fill="#000000">GetDeadlockDetectDepth</text>
</g>
<!-- IncrementWaiters&#45;&gt;GetDeadlockDetectDepth -->
<g id="edge35" class="edge">
<title>IncrementWaiters&#45;&gt;GetDeadlockDetectDepth</title>
<path fill="none" stroke="#666666" d="M2280.5874,-738.5113C2328.6085,-745.6088 2397.8109,-755.8368 2452.8089,-763.9655"/>
<polygon fill="#666666" stroke="#666666" points="2452.5003,-767.4578 2462.9046,-765.4576 2453.5239,-760.533 2452.5003,-767.4578"/>
</g>
<!-- wait_txn_map_mutex_ -->
<g id="node27" class="node">
<title>wait_txn_map_mutex_</title>
<polygon fill="none" stroke="#000000" points="2469.5,-573.5 2469.5,-634.5 2612.5,-634.5 2612.5,-573.5 2469.5,-573.5"/>
<text text-anchor="middle" x="2541" y="-619.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_mutex_</text>
<polyline fill="none" stroke="#000000" points="2469.5,-611.5 2612.5,-611.5 "/>
<text text-anchor="start" x="2477.5" y="-596.3" font-family="Times,serif" font-size="14.00" fill="#000000">用于guard访问</text>
<text text-anchor="start" x="2477.5" y="-581.3" font-family="Times,serif" font-size="14.00" fill="#000000"> wait_txn_map_</text>
</g>
<!-- IncrementWaiters&#45;&gt;wait_txn_map_mutex_ -->
<g id="edge36" class="edge">
<title>IncrementWaiters&#45;&gt;wait_txn_map_mutex_</title>
<path fill="none" stroke="#666666" d="M2280.5874,-707.1824C2330.6688,-687.3388 2403.7883,-658.3669 2459.8069,-636.1708"/>
<polygon fill="#666666" stroke="#666666" points="2461.3421,-639.3273 2469.3497,-632.3898 2458.7636,-632.8196 2461.3421,-639.3273"/>
</g>
<!-- wait_txn_map_ -->
<g id="node28" class="node">
<title>wait_txn_map_</title>
<polygon fill="#95e1d3" stroke="#000000" points="2828,-689.5 2828,-750.5 3086,-750.5 3086,-689.5 2828,-689.5"/>
<text text-anchor="middle" x="2957" y="-735.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_</text>
<polyline fill="none" stroke="#000000" points="2828,-727.5 3086,-727.5 "/>
<text text-anchor="start" x="2836" y="-712.3" font-family="Times,serif" font-size="14.00" fill="#000000">HashMap&lt;TransactionID, TrackedTrxInfo&gt;</text>
<text text-anchor="middle" x="2957" y="-697.3" font-family="Times,serif" font-size="14.00" fill="#000000"> wait_txn_map_;</text>
</g>
<!-- IncrementWaiters&#45;&gt;wait_txn_map_ -->
<g id="edge37" class="edge">
<title>IncrementWaiters&#45;&gt;wait_txn_map_</title>
<path fill="none" stroke="#666666" d="M2280.5957,-729.2153C2395.3789,-727.6515 2655.5244,-724.1073 2817.6685,-721.8982"/>
<polygon fill="#666666" stroke="#666666" points="2817.7705,-725.3973 2827.7219,-721.7613 2817.6751,-718.3979 2817.7705,-725.3973"/>
</g>
<!-- wait_txn_map_Insert -->
<g id="node29" class="node">
<title>wait_txn_map_Insert</title>
<polygon fill="none" stroke="#000000" points="2789.5,-775 2657.5,-775 2657.5,-739 2789.5,-739 2789.5,-775"/>
<text text-anchor="middle" x="2723.5" y="-753.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_Insert</text>
</g>
<!-- IncrementWaiters&#45;&gt;wait_txn_map_Insert -->
<g id="edge38" class="edge">
<title>IncrementWaiters&#45;&gt;wait_txn_map_Insert</title>
<path fill="none" stroke="#666666" d="M2280.7282,-732.6181C2357.8479,-736.1837 2498.7415,-742.9358 2619,-750 2628.1312,-750.5364 2637.7088,-751.1322 2647.2049,-751.7435"/>
<polygon fill="#666666" stroke="#666666" points="2647.2459,-755.2535 2657.4522,-752.4108 2647.7008,-748.2683 2647.2459,-755.2535"/>
</g>
<!-- DecrementWaiters&#45;&gt;wait_txn_map_mutex_ -->
<g id="edge41" class="edge">
<title>DecrementWaiters&#45;&gt;wait_txn_map_mutex_</title>
<path fill="none" stroke="#666666" d="M2282.8134,-603.1881C2332.6939,-603.3449 2404.2586,-603.57 2459.398,-603.7434"/>
<polygon fill="#666666" stroke="#666666" points="2459.4827,-607.2436 2469.4937,-603.7751 2459.5048,-600.2436 2459.4827,-607.2436"/>
</g>
<!-- DecrementWaitersImpl -->
<g id="node31" class="node">
<title>DecrementWaitersImpl</title>
<polygon fill="none" stroke="#000000" points="2614,-555 2468,-555 2468,-519 2614,-519 2614,-555"/>
<text text-anchor="middle" x="2541" y="-533.3" font-family="Times,serif" font-size="14.00" fill="#000000">DecrementWaitersImpl</text>
</g>
<!-- DecrementWaiters&#45;&gt;DecrementWaitersImpl -->
<g id="edge42" class="edge">
<title>DecrementWaiters&#45;&gt;DecrementWaitersImpl</title>
<path fill="none" stroke="#666666" d="M2282.9643,-600.4719C2327.8538,-597.2984 2390.3271,-590.1411 2443,-574 2452.5019,-571.0882 2453.8404,-567.8558 2463,-564 2467.1996,-562.2321 2471.5592,-560.4869 2475.9744,-558.7859"/>
<polygon fill="#666666" stroke="#666666" points="2477.5551,-561.9312 2485.6883,-555.1414 2475.096,-555.3773 2477.5551,-561.9312"/>
</g>
<!-- IsLockExpired&#45;&gt;LockInfo -->
<g id="edge25" class="edge">
<title>IsLockExpired&#45;&gt;LockInfo</title>
<path fill="none" stroke="#666666" d="M1885.4611,-468.9614C1942.6393,-445.4217 2033.1315,-408.167 2106.0312,-378.1549"/>
<polygon fill="#666666" stroke="#666666" points="2107.3698,-381.3889 2115.2844,-374.3454 2104.7049,-374.9159 2107.3698,-381.3889"/>
</g>
<!-- TryStealingExpiredTransactionLocks -->
<g id="node21" class="node">
<title>TryStealingExpiredTransactionLocks</title>
<polygon fill="none" stroke="#000000" points="2333,-510 2113,-510 2113,-474 2333,-474 2333,-510"/>
<text text-anchor="middle" x="2223" y="-488.3" font-family="Times,serif" font-size="14.00" fill="#000000">TryStealingExpiredTransactionLocks</text>
</g>
<!-- IsLockExpired&#45;&gt;TryStealingExpiredTransactionLocks -->
<g id="edge26" class="edge">
<title>IsLockExpired&#45;&gt;TryStealingExpiredTransactionLocks</title>
<path fill="none" stroke="#666666" d="M1902.1325,-492C1958.2033,-492 2037.0052,-492 2102.4824,-492"/>
<polygon fill="#666666" stroke="#666666" points="2102.8712,-495.5001 2112.8712,-492 2102.8712,-488.5001 2102.8712,-495.5001"/>
</g>
<!-- wait_ids&#45;&gt;SetWaitingTxn -->
<g id="edge22" class="edge">
<title>wait_ids&#45;&gt;SetWaitingTxn</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M1888.837,-586.9127C1962.7604,-578.0833 2088.3757,-563.0797 2162.7306,-554.1986"/>
<polygon fill="#666666" stroke="#666666" points="2163.3572,-557.6488 2172.8715,-552.9874 2162.527,-550.6982 2163.3572,-557.6488"/>
</g>
<!-- wait_ids&#45;&gt;IncrementWaiters -->
<g id="edge23" class="edge">
<title>wait_ids&#45;&gt;IncrementWaiters</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M1888.837,-614.5078C1960.4458,-639.257 2080.5603,-680.7705 2155.5988,-706.7051"/>
<polygon fill="#666666" stroke="#666666" points="2154.8302,-710.1425 2165.425,-710.1011 2157.1169,-703.5265 2154.8302,-710.1425"/>
</g>
<!-- wait_ids&#45;&gt;DecrementWaiters -->
<g id="edge24" class="edge">
<title>wait_ids&#45;&gt;DecrementWaiters</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M1888.837,-595.3571C1959.582,-596.9752 2077.6693,-599.676 2152.8637,-601.3959"/>
<polygon fill="#666666" stroke="#666666" points="2153.1024,-604.9021 2163.1798,-601.6318 2153.2625,-597.904 2153.1024,-604.9021"/>
</g>
<!-- lock_maps_cache_&#45;&gt;LockMaps -->
<g id="edge31" class="edge">
<title>lock_maps_cache_&#45;&gt;LockMaps</title>
<path fill="none" stroke="#666666" d="M1002.308,-519C1010.5977,-519 1019.0784,-519 1027.6153,-519"/>
<polygon fill="#666666" stroke="#666666" points="1027.6544,-522.5001 1037.6544,-519 1027.6543,-515.5001 1027.6544,-522.5001"/>
</g>
<!-- GetLockMap_insert&#45;&gt;lock_maps_cache_ -->
<g id="edge30" class="edge">
<title>GetLockMap_insert&#45;&gt;lock_maps_cache_</title>
<path fill="none" stroke="#666666" d="M766.0916,-519.5687C774.6274,-519.5329 783.2769,-519.4967 791.8617,-519.4608"/>
<polygon fill="#666666" stroke="#666666" points="791.9137,-522.9607 801.8989,-519.4188 791.8843,-515.9608 791.9137,-522.9607"/>
</g>
<!-- LockMaps&#45;&gt;LockMap -->
<g id="edge32" class="edge">
<title>LockMaps&#45;&gt;LockMap</title>
<path fill="none" stroke="#666666" d="M1289.643,-469.4483C1296.9857,-465.4496 1304.1661,-461.2897 1311,-457 1328.64,-445.9272 1329.1861,-437.7909 1347,-427 1352.7788,-423.4994 1358.7949,-420.1097 1364.9496,-416.8418"/>
<polygon fill="#666666" stroke="#666666" points="1366.7739,-419.839 1374.0549,-412.1424 1363.5634,-413.6187 1366.7739,-419.839"/>
</g>
<!-- TrackedTrxInfo -->
<g id="node30" class="node">
<title>TrackedTrxInfo</title>
<polygon fill="none" stroke="#000000" points="3122,-662.5 3122,-777.5 3369,-777.5 3369,-662.5 3122,-662.5"/>
<text text-anchor="middle" x="3245.5" y="-762.3" font-family="Times,serif" font-size="14.00" fill="#000000">TrackedTrxInfo</text>
<polyline fill="none" stroke="#000000" points="3122,-754.5 3369,-754.5 "/>
<text text-anchor="start" x="3130" y="-739.3" font-family="Times,serif" font-size="14.00" fill="#000000">autovector&lt;TransactionID&gt; m_neighbors;</text>
<polyline fill="none" stroke="#000000" points="3122,-731.5 3369,-731.5 "/>
<text text-anchor="start" x="3130" y="-716.3" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t m_cf_id;</text>
<polyline fill="none" stroke="#000000" points="3122,-708.5 3369,-708.5 "/>
<text text-anchor="start" x="3130" y="-693.3" font-family="Times,serif" font-size="14.00" fill="#000000">bool m_exclusive;</text>
<polyline fill="none" stroke="#000000" points="3122,-685.5 3369,-685.5 "/>
<text text-anchor="start" x="3130" y="-670.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::string m_waiting_key;</text>
</g>
<!-- wait_txn_map_&#45;&gt;TrackedTrxInfo -->
<g id="edge40" class="edge">
<title>wait_txn_map_&#45;&gt;TrackedTrxInfo</title>
<path fill="none" stroke="#666666" d="M3086.0612,-720C3094.4874,-720 3102.9835,-720 3111.4328,-720"/>
<polygon fill="#666666" stroke="#666666" points="3111.7081,-723.5001 3121.7081,-720 3111.708,-716.5001 3111.7081,-723.5001"/>
</g>
<!-- wait_txn_map_Insert&#45;&gt;wait_txn_map_ -->
<g id="edge39" class="edge">
<title>wait_txn_map_Insert&#45;&gt;wait_txn_map_</title>
<path fill="none" stroke="#666666" d="M2789.7871,-746.4963C2798.6933,-745.085 2808.0846,-743.5969 2817.6876,-742.0752"/>
<polygon fill="#666666" stroke="#666666" points="2818.4311,-745.5011 2827.7601,-740.4791 2817.3355,-738.5874 2818.4311,-745.5011"/>
</g>
<!-- wait_txn_map_Delete -->
<g id="node32" class="node">
<title>wait_txn_map_Delete</title>
<polygon fill="none" stroke="#000000" points="2792,-628 2655,-628 2655,-592 2792,-592 2792,-628"/>
<text text-anchor="middle" x="2723.5" y="-606.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_Delete</text>
</g>
<!-- DecrementWaitersImpl&#45;&gt;wait_txn_map_Delete -->
<g id="edge43" class="edge">
<title>DecrementWaitersImpl&#45;&gt;wait_txn_map_Delete</title>
<path fill="none" stroke="#666666" d="M2594.9179,-555.0215C2603.028,-557.9175 2611.263,-560.9638 2619,-564 2637.5273,-571.2705 2657.5966,-579.9141 2675.1483,-587.7352"/>
<polygon fill="#666666" stroke="#666666" points="2674.0578,-591.082 2684.6144,-591.9817 2676.923,-584.6952 2674.0578,-591.082"/>
</g>
<!-- wait_txn_map_Delete&#45;&gt;wait_txn_map_ -->
<g id="edge44" class="edge">
<title>wait_txn_map_Delete&#45;&gt;wait_txn_map_</title>
<path fill="none" stroke="#666666" d="M2761.7963,-628.0411C2794.5649,-643.4781 2842.6804,-666.1449 2882.941,-685.1114"/>
<polygon fill="#666666" stroke="#666666" points="2881.6572,-688.3755 2892.1953,-689.471 2884.6405,-682.043 2881.6572,-688.3755"/>
</g>
</g>
</svg>
