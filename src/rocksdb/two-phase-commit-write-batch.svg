<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: two_phase_commit_write_batch Pages: 1 -->
<svg width="904pt" height="1015pt"
 viewBox="0.00 0.00 904.28 1015.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1011)">
<title>two_phase_commit_write_batch</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1011 900.2813,-1011 900.2813,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_DBImpl</title>
<polygon fill="none" stroke="#000000" points="256.4048,-725 256.4048,-999 793.2515,-999 793.2515,-725 256.4048,-725"/>
<text text-anchor="middle" x="524.8281" y="-979" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_WriteBatchInternal</title>
<polygon fill="none" stroke="#000000" points="202.0762,-329 202.0762,-717 822.3042,-717 822.3042,-329 202.0762,-329"/>
<text text-anchor="middle" x="512.1902" y="-697" font-family="Times,serif" font-size="20.00" fill="#000000">WriteBatchInternal</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_PessimisticTransactionDB</title>
<polygon fill="none" stroke="#000000" points="293.9819,-8 293.9819,-175 888.2813,-175 888.2813,-8 293.9819,-8"/>
<text text-anchor="middle" x="591.1316" y="-155" font-family="Times,serif" font-size="20.00" fill="#000000">PessimisticTransactionDB</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_PessmisticTransaction</title>
<polygon fill="none" stroke="#000000" points="49.3794,-183 49.3794,-321 428.5532,-321 428.5532,-183 49.3794,-183"/>
<text text-anchor="middle" x="238.9663" y="-301" font-family="Times,serif" font-size="20.00" fill="#000000">PessimisticTransaction</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_Transaction</title>
<polygon fill="none" stroke="#000000" points="311.6636,-191 311.6636,-285 420.5532,-285 420.5532,-191 311.6636,-191"/>
<text text-anchor="middle" x="366.1084" y="-265" font-family="Times,serif" font-size="20.00" fill="#000000">Transaction</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_WriteCommittedTxn</title>
<polygon fill="none" stroke="#000000" points="0,-602 0,-790 182.0762,-790 182.0762,-602 0,-602"/>
<text text-anchor="middle" x="91.0381" y="-770" font-family="Times,serif" font-size="20.00" fill="#000000">WriteCommittedTxn</text>
</g>
<!-- WriteImpl_Prepare -->
<g id="node1" class="node">
<title>WriteImpl_Prepare</title>
<polygon fill="none" stroke="#000000" points="264.4048,-893.4001 264.4048,-962.5999 467.812,-962.5999 467.812,-893.4001 264.4048,-893.4001"/>
<text text-anchor="middle" x="366.1084" y="-947.3999" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl</text>
<polyline fill="none" stroke="#000000" points="264.4048,-940.5999 467.812,-940.5999 "/>
<text text-anchor="start" x="272.4048" y="-925.3999" font-family="Times,serif" font-size="14.00" fill="#000000">只将writebatch写入WAL日志中</text>
<text text-anchor="start" x="272.4048" y="-905.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 不插入mem表中</text>
</g>
<!-- WriteImplWALOnly -->
<g id="node2" class="node">
<title>WriteImplWALOnly</title>
<polygon fill="none" stroke="#000000" points="785.292,-946 653.1299,-946 653.1299,-910 785.292,-910 785.292,-946"/>
<text text-anchor="middle" x="719.2109" y="-923.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImplWALOnly</text>
</g>
<!-- WriteImpl_Prepare&#45;&gt;WriteImplWALOnly -->
<g id="edge1" class="edge">
<title>WriteImpl_Prepare&#45;&gt;WriteImplWALOnly</title>
<path fill="none" stroke="#666666" d="M468.2403,-928C523.8818,-928 591.5941,-928 642.6563,-928"/>
<polygon fill="#666666" stroke="#666666" points="642.9635,-931.5001 652.9634,-928 642.9634,-924.5001 642.9635,-931.5001"/>
</g>
<!-- WriteImpl_Commited -->
<g id="node3" class="node">
<title>WriteImpl_Commited</title>
<polygon fill="none" stroke="#000000" points="270.998,-797.4001 270.998,-874.5999 461.2188,-874.5999 461.2188,-797.4001 270.998,-797.4001"/>
<text text-anchor="middle" x="366.1084" y="-859.3999" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl</text>
<polyline fill="none" stroke="#000000" points="270.998,-852.5999 461.2188,-852.5999 "/>
<text text-anchor="start" x="278.998" y="-837.3999" font-family="Times,serif" font-size="14.00" fill="#000000">Commit标记写入WAL日志中</text>
<polyline fill="none" stroke="#000000" points="270.998,-825 461.2188,-825 "/>
<text text-anchor="start" x="278.998" y="-809.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch插入mem表中</text>
</g>
<!-- WriteImpl_Rollback -->
<g id="node4" class="node">
<title>WriteImpl_Rollback</title>
<polygon fill="none" stroke="#000000" points="300.4575,-734 300.4575,-778 431.7593,-778 431.7593,-734 300.4575,-734"/>
<text text-anchor="middle" x="366.1084" y="-762.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl_Rollback</text>
<polyline fill="none" stroke="#000000" points="300.4575,-756 431.7593,-756 "/>
<text text-anchor="middle" x="366.1084" y="-740.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rollback</text>
</g>
<!-- MarkEndPrepare -->
<g id="node5" class="node">
<title>MarkEndPrepare</title>
<polygon fill="none" stroke="#000000" points="210.0762,-564.6001 210.0762,-653.3999 522.1406,-653.3999 522.1406,-564.6001 210.0762,-564.6001"/>
<text text-anchor="middle" x="366.1084" y="-638.1999" font-family="Times,serif" font-size="14.00" fill="#000000">MarkEndPrepare</text>
<polyline fill="none" stroke="#000000" points="210.0762,-631.3999 522.1406,-631.3999 "/>
<text text-anchor="start" x="218.0762" y="-616.1999" font-family="Times,serif" font-size="14.00" fill="#000000">1.开始时rep_[12]这个char是TypeNoop</text>
<text text-anchor="start" x="218.0762" y="-596.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.将rep_[12]这个地方写入kTypeBeginPrepareXID</text>
<text text-anchor="start" x="218.0762" y="-577" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.在rep_结尾写入kTypeEndPrepareXID</text>
</g>
<!-- kTypeBeginPrepareXID -->
<g id="node6" class="node">
<title>kTypeBeginPrepareXID</title>
<polygon fill="none" stroke="#000000" points="795.0753,-627 643.3466,-627 643.3466,-591 795.0753,-591 795.0753,-627"/>
<text text-anchor="middle" x="719.2109" y="-604.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeBeginPrepareXID</text>
</g>
<!-- MarkEndPrepare&#45;&gt;kTypeBeginPrepareXID -->
<g id="edge2" class="edge">
<title>MarkEndPrepare&#45;&gt;kTypeBeginPrepareXID</title>
<path fill="none" stroke="#b83b5e" d="M522.2692,-609C560.2468,-609 599.5001,-609 632.8728,-609"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="633.0332,-612.5001 643.0332,-609 633.0331,-605.5001 633.0332,-612.5001"/>
</g>
<!-- kTypeEndPrepareXID -->
<g id="node7" class="node">
<title>kTypeEndPrepareXID</title>
<polygon fill="none" stroke="#000000" points="789.6855,-681 648.7363,-681 648.7363,-645 789.6855,-645 789.6855,-681"/>
<text text-anchor="middle" x="719.2109" y="-658.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeEndPrepareXID</text>
</g>
<!-- MarkEndPrepare&#45;&gt;kTypeEndPrepareXID -->
<g id="edge3" class="edge">
<title>MarkEndPrepare&#45;&gt;kTypeEndPrepareXID</title>
<path fill="none" stroke="#b83b5e" d="M522.2692,-632.8817C562.4268,-639.023 604.0107,-645.3824 638.5603,-650.6661"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="638.1638,-654.1461 648.578,-652.1981 639.222,-647.2265 638.1638,-654.1461"/>
</g>
<!-- PutLengthPrefixedSlice -->
<g id="node8" class="node">
<title>PutLengthPrefixedSlice</title>
<polygon fill="none" stroke="#000000" points="624.1177,-391.2 624.1177,-440.8 814.3042,-440.8 814.3042,-391.2 624.1177,-391.2"/>
<text text-anchor="middle" x="719.2109" y="-425.6" font-family="Times,serif" font-size="14.00" fill="#000000">PutLengthPrefixedSlice</text>
<polyline fill="none" stroke="#000000" points="624.1177,-418.8 814.3042,-418.8 "/>
<text text-anchor="middle" x="719.2109" y="-403.6" font-family="Times,serif" font-size="14.00" fill="#000000">向writeBatch的rep_中写入xid</text>
</g>
<!-- MarkEndPrepare&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge4" class="edge">
<title>MarkEndPrepare&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#b83b5e" d="M484.4965,-564.5998C498.2611,-556.1766 511.2482,-546.3623 522.1406,-535 550.5318,-505.3841 526.4758,-476.0864 558.1406,-450 574.064,-436.8818 593.8145,-428.4584 613.9677,-423.1251"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="614.9705,-426.4839 623.8784,-420.7481 613.3378,-419.6769 614.9705,-426.4839"/>
</g>
<!-- content_flags_ -->
<g id="node9" class="node">
<title>content_flags_</title>
<polygon fill="#95e1d3" stroke="#000000" points="624.5757,-460 624.5757,-518 813.8462,-518 813.8462,-460 624.5757,-460"/>
<text text-anchor="middle" x="719.2109" y="-502.8" font-family="Times,serif" font-size="14.00" fill="#000000">content_flags_</text>
<polyline fill="none" stroke="#000000" points="624.5757,-496 813.8462,-496 "/>
<text text-anchor="start" x="632.5757" y="-480.8" font-family="Times,serif" font-size="14.00" fill="#000000">mutable std::atomic&lt;uint32_t&gt;</text>
<text text-anchor="middle" x="719.2109" y="-466.8" font-family="Times,serif" font-size="14.00" fill="#000000"> content_flags_;</text>
</g>
<!-- MarkEndPrepare&#45;&gt;content_flags_ -->
<g id="edge5" class="edge">
<title>MarkEndPrepare&#45;&gt;content_flags_</title>
<path fill="none" stroke="#b83b5e" d="M463.1302,-564.4832C493.1978,-551.6659 526.6965,-538.363 558.1406,-528 576.1746,-522.0565 595.615,-516.5856 614.5382,-511.7385"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="615.5337,-515.0972 624.3764,-509.2615 613.8245,-508.309 615.5337,-515.0972"/>
</g>
<!-- MarkCommit -->
<g id="node10" class="node">
<title>MarkCommit</title>
<polygon fill="none" stroke="#000000" points="412.3294,-526 319.8874,-526 319.8874,-490 412.3294,-490 412.3294,-526"/>
<text text-anchor="middle" x="366.1084" y="-503.8" font-family="Times,serif" font-size="14.00" fill="#000000">MarkCommit</text>
</g>
<!-- MarkCommit&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge6" class="edge">
<title>MarkCommit&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#3f72af" d="M412.3617,-492.8189C451.0656,-480.4084 507.8712,-462.8722 558.1406,-450 576.0942,-445.4028 595.287,-440.953 613.9394,-436.8709"/>
<polygon fill="#3f72af" stroke="#3f72af" points="614.9007,-440.244 623.9335,-434.7069 613.4193,-433.4025 614.9007,-440.244"/>
</g>
<!-- MarkCommit&#45;&gt;content_flags_ -->
<g id="edge7" class="edge">
<title>MarkCommit&#45;&gt;content_flags_</title>
<path fill="none" stroke="#3f72af" d="M412.2704,-505.5161C463.3021,-502.7701 547.1722,-498.2572 614.3562,-494.6421"/>
<polygon fill="#3f72af" stroke="#3f72af" points="614.7667,-498.1252 624.5642,-494.0928 614.3905,-491.1353 614.7667,-498.1252"/>
</g>
<!-- kTypeCommitXID -->
<g id="node11" class="node">
<title>kTypeCommitXID</title>
<polygon fill="none" stroke="#000000" points="779.7791,-573 658.6428,-573 658.6428,-537 779.7791,-537 779.7791,-573"/>
<text text-anchor="middle" x="719.2109" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeCommitXID</text>
</g>
<!-- MarkCommit&#45;&gt;kTypeCommitXID -->
<g id="edge8" class="edge">
<title>MarkCommit&#45;&gt;kTypeCommitXID</title>
<path fill="none" stroke="#3f72af" d="M412.2704,-514.1444C472.4048,-522.1487 578.1373,-536.2223 648.4338,-545.5792"/>
<polygon fill="#3f72af" stroke="#3f72af" points="648.1643,-549.0741 658.5387,-546.9242 649.0879,-542.1353 648.1643,-549.0741"/>
</g>
<!-- MarkRollback -->
<g id="node12" class="node">
<title>MarkRollback</title>
<polygon fill="none" stroke="#000000" points="414.4776,-443 317.7392,-443 317.7392,-407 414.4776,-407 414.4776,-443"/>
<text text-anchor="middle" x="366.1084" y="-420.8" font-family="Times,serif" font-size="14.00" fill="#000000">MarkRollback</text>
</g>
<!-- MarkRollback&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge9" class="edge">
<title>MarkRollback&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#17b978" d="M414.8351,-423.758C465.9415,-422.4554 547.8477,-420.3678 613.8273,-418.6861"/>
<polygon fill="#17b978" stroke="#17b978" points="613.9487,-422.1842 623.8562,-418.4304 613.7703,-415.1865 613.9487,-422.1842"/>
</g>
<!-- MarkRollback&#45;&gt;content_flags_ -->
<g id="edge10" class="edge">
<title>MarkRollback&#45;&gt;content_flags_</title>
<path fill="none" stroke="#17b978" d="M414.8351,-433.8317C466.1215,-443.1274 548.4249,-458.045 614.5237,-470.0254"/>
<polygon fill="#17b978" stroke="#17b978" points="614.1048,-473.5064 624.5687,-471.8461 615.3533,-466.6186 614.1048,-473.5064"/>
</g>
<!-- kTypeRollbackXID -->
<g id="node13" class="node">
<title>kTypeRollbackXID</title>
<polygon fill="none" stroke="#000000" points="782.4269,-373 655.9949,-373 655.9949,-337 782.4269,-337 782.4269,-373"/>
<text text-anchor="middle" x="719.2109" y="-350.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeRollbackXID</text>
</g>
<!-- MarkRollback&#45;&gt;kTypeRollbackXID -->
<g id="edge11" class="edge">
<title>MarkRollback&#45;&gt;kTypeRollbackXID</title>
<path fill="none" stroke="#17b978" d="M414.493,-413.4028C453.2318,-404.3023 509.0207,-391.6091 558.1406,-382 586.7648,-376.4004 618.3921,-370.9414 645.9873,-366.4141"/>
<polygon fill="#17b978" stroke="#17b978" points="646.6513,-369.8522 655.9585,-364.7898 645.5258,-362.9433 646.6513,-369.8522"/>
</g>
<!-- RegisterTransaction -->
<g id="node14" class="node">
<title>RegisterTransaction</title>
<polygon fill="none" stroke="#000000" points="430.3616,-134 301.8552,-134 301.8552,-98 430.3616,-98 430.3616,-134"/>
<text text-anchor="middle" x="366.1084" y="-111.8" font-family="Times,serif" font-size="14.00" fill="#000000">RegisterTransaction</text>
</g>
<!-- transactions_ -->
<g id="node15" class="node">
<title>transactions_</title>
<polygon fill="#95e1d3" stroke="#000000" points="558.1406,-17 558.1406,-75 880.2813,-75 880.2813,-17 558.1406,-17"/>
<text text-anchor="middle" x="719.2109" y="-59.8" font-family="Times,serif" font-size="14.00" fill="#000000">transactions_</text>
<polyline fill="none" stroke="#000000" points="558.1406,-53 880.2813,-53 "/>
<text text-anchor="start" x="566.1406" y="-37.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unordered_map&lt;TransactionName, Transaction*&gt;</text>
<text text-anchor="start" x="566.1406" y="-23.8" font-family="Times,serif" font-size="14.00" fill="#000000"> transactions_;</text>
</g>
<!-- RegisterTransaction&#45;&gt;transactions_ -->
<g id="edge12" class="edge">
<title>RegisterTransaction&#45;&gt;transactions_</title>
<path fill="none" stroke="#666666" d="M430.4623,-103.2423C467.6972,-95.8608 516.3006,-86.2255 562.9831,-76.971"/>
<polygon fill="#666666" stroke="#666666" points="563.7822,-80.3808 572.9107,-75.003 562.4209,-73.5144 563.7822,-80.3808"/>
</g>
<!-- name_map_mutex_ -->
<g id="node16" class="node">
<title>name_map_mutex_</title>
<polygon fill="#95e1d3" stroke="#000000" points="622.7539,-94 622.7539,-138 815.668,-138 815.668,-94 622.7539,-94"/>
<text text-anchor="middle" x="719.2109" y="-122.8" font-family="Times,serif" font-size="14.00" fill="#000000">name_map_mutex_</text>
<polyline fill="none" stroke="#000000" points="622.7539,-116 815.668,-116 "/>
<text text-anchor="middle" x="719.2109" y="-100.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::mutex name_map_mutex_;</text>
</g>
<!-- RegisterTransaction&#45;&gt;name_map_mutex_ -->
<g id="edge13" class="edge">
<title>RegisterTransaction&#45;&gt;name_map_mutex_</title>
<path fill="none" stroke="#666666" d="M430.4623,-116C481.2334,-116 553.1413,-116 612.4954,-116"/>
<polygon fill="#666666" stroke="#666666" points="612.664,-119.5001 622.6639,-116 612.6639,-112.5001 612.664,-119.5001"/>
</g>
<!-- name_ -->
<g id="node17" class="node">
<title>name_</title>
<polygon fill="#95e1d3" stroke="#000000" points="338.6636,-199.2 338.6636,-248.8 393.5532,-248.8 393.5532,-199.2 338.6636,-199.2"/>
<text text-anchor="middle" x="366.1084" y="-233.6" font-family="Times,serif" font-size="14.00" fill="#000000">name_</text>
<polyline fill="none" stroke="#000000" points="338.6636,-226.8 393.5532,-226.8 "/>
<text text-anchor="middle" x="366.1084" y="-211.6" font-family="Times,serif" font-size="14.00" fill="#000000">事务id</text>
</g>
<!-- name_&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge14" class="edge">
<title>name_&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M393.7509,-237.1818C427.0872,-254.0676 483.4545,-285.8797 522.1406,-325 543.2091,-346.3049 533.5431,-364.8903 558.1406,-382 574.5989,-393.4481 594.1315,-401.1752 613.8178,-406.3609"/>
<polygon fill="#666666" stroke="#666666" points="613.252,-409.825 623.7949,-408.7773 614.8998,-403.0217 613.252,-409.825"/>
</g>
<!-- SetName -->
<g id="node18" class="node">
<title>SetName</title>
<polygon fill="none" stroke="#000000" points="124.8562,-234 57.22,-234 57.22,-198 124.8562,-198 124.8562,-234"/>
<text text-anchor="middle" x="91.0381" y="-211.8" font-family="Times,serif" font-size="14.00" fill="#000000">SetName</text>
</g>
<!-- SetName&#45;&gt;RegisterTransaction -->
<g id="edge15" class="edge">
<title>SetName&#45;&gt;RegisterTransaction</title>
<path fill="none" stroke="#666666" d="M124.7671,-203.738C169.9689,-187.3052 250.9353,-157.8704 306.5292,-137.6596"/>
<polygon fill="#666666" stroke="#666666" points="308.053,-140.8298 316.2554,-134.1237 305.6613,-134.2511 308.053,-140.8298"/>
</g>
<!-- SetName&#45;&gt;name_ -->
<g id="edge16" class="edge">
<title>SetName&#45;&gt;name_</title>
<path fill="none" stroke="#666666" d="M124.7671,-216.981C176.2783,-218.4791 274.2354,-221.328 328.16,-222.8963"/>
<polygon fill="#666666" stroke="#666666" points="328.2334,-226.3999 338.331,-223.1921 328.437,-219.4028 328.2334,-226.3999"/>
</g>
<!-- PrepareInternal -->
<g id="node19" class="node">
<title>PrepareInternal</title>
<polygon fill="none" stroke="#000000" points="142.3217,-754 39.7545,-754 39.7545,-718 142.3217,-718 142.3217,-754"/>
<text text-anchor="middle" x="91.0381" y="-731.8" font-family="Times,serif" font-size="14.00" fill="#000000">PrepareInternal</text>
</g>
<!-- PrepareInternal&#45;&gt;WriteImpl_Prepare -->
<g id="edge17" class="edge">
<title>PrepareInternal&#45;&gt;WriteImpl_Prepare</title>
<path fill="none" stroke="#b83b5e" d="M99.5399,-754.1177C115.2296,-785.5298 151.7852,-849.9912 202.0762,-884 217.8832,-894.6893 236.1815,-902.7861 254.7013,-908.9179"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="253.8052,-912.3048 264.3941,-911.9487 255.8943,-905.6238 253.8052,-912.3048"/>
</g>
<!-- PrepareInternal&#45;&gt;MarkEndPrepare -->
<g id="edge18" class="edge">
<title>PrepareInternal&#45;&gt;MarkEndPrepare</title>
<path fill="none" stroke="#b83b5e" d="M142.2553,-722.8539C155.423,-718.9211 169.4364,-714.2405 182.0762,-709 216.3167,-694.8038 252.4683,-676.0574 283.5799,-658.6355"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="285.652,-661.485 292.6392,-653.5206 282.2104,-655.3894 285.652,-661.485"/>
</g>
<!-- CommitInternal -->
<g id="node20" class="node">
<title>CommitInternal</title>
<polygon fill="none" stroke="#000000" points="143.9667,-700 38.1095,-700 38.1095,-664 143.9667,-664 143.9667,-700"/>
<text text-anchor="middle" x="91.0381" y="-677.8" font-family="Times,serif" font-size="14.00" fill="#000000">CommitInternal</text>
</g>
<!-- CommitInternal&#45;&gt;WriteImpl_Commited -->
<g id="edge19" class="edge">
<title>CommitInternal&#45;&gt;WriteImpl_Commited</title>
<path fill="none" stroke="#3f72af" d="M144.2161,-688.1038C158.1292,-692.0766 172.027,-698.5368 182.0762,-709 207.1647,-735.1221 176.9401,-761.9235 202.0762,-788 217.9513,-804.4691 239.1405,-815.3721 261.0035,-822.5678"/>
<polygon fill="#3f72af" stroke="#3f72af" points="260.1532,-825.9674 270.7388,-825.5248 262.1876,-819.2695 260.1532,-825.9674"/>
</g>
<!-- CommitInternal&#45;&gt;MarkCommit -->
<g id="edge20" class="edge">
<title>CommitInternal&#45;&gt;MarkCommit</title>
<path fill="none" stroke="#3f72af" d="M144.0875,-676.3544C158.166,-672.4004 172.1835,-665.8356 182.0762,-655 212.6359,-621.5273 171.3617,-588.3308 202.0762,-555 229.3001,-525.457 273.7122,-514.0249 309.4623,-509.806"/>
<polygon fill="#3f72af" stroke="#3f72af" points="310.1769,-513.2515 319.7712,-508.757 309.4682,-506.2874 310.1769,-513.2515"/>
</g>
<!-- RollbackInternal -->
<g id="node21" class="node">
<title>RollbackInternal</title>
<polygon fill="none" stroke="#000000" points="146.1143,-646 35.9619,-646 35.9619,-610 146.1143,-610 146.1143,-646"/>
<text text-anchor="middle" x="91.0381" y="-623.8" font-family="Times,serif" font-size="14.00" fill="#000000">RollbackInternal</text>
</g>
<!-- RollbackInternal&#45;&gt;WriteImpl_Rollback -->
<g id="edge21" class="edge">
<title>RollbackInternal&#45;&gt;WriteImpl_Rollback</title>
<path fill="none" stroke="#17b978" d="M146.2775,-635.1094C159.3909,-639.1236 172.3722,-645.3533 182.0762,-655 203.8134,-676.609 179.5119,-700.2561 202.0762,-721 225.6691,-742.6896 259.2938,-752.1987 289.964,-755.9917"/>
<polygon fill="#17b978" stroke="#17b978" points="289.9227,-759.5065 300.2332,-757.0683 290.6526,-752.5447 289.9227,-759.5065"/>
</g>
<!-- RollbackInternal&#45;&gt;MarkRollback -->
<g id="edge22" class="edge">
<title>RollbackInternal&#45;&gt;MarkRollback</title>
<path fill="none" stroke="#17b978" d="M100.0686,-609.8561C116.3145,-579.0051 153.3645,-516.2509 202.0762,-481 233.3371,-458.3776 274.4383,-444.3677 307.6775,-436.0184"/>
<polygon fill="#17b978" stroke="#17b978" points="308.8153,-439.3447 317.7211,-433.6057 307.1802,-432.5383 308.8153,-439.3447"/>
</g>
</g>
</svg>
