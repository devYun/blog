<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: write_batch Pages: 1 -->
<svg width="2875pt" height="1845pt"
 viewBox="0.00 0.00 2874.99 1845.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1841)">
<title>write_batch</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1841 2870.9863,-1841 2870.9863,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_WriteBatch</title>
<path fill="none" stroke="#000000" d="M20,-1299C20,-1299 2354.6499,-1299 2354.6499,-1299 2360.6499,-1299 2366.6499,-1305 2366.6499,-1311 2366.6499,-1311 2366.6499,-1729 2366.6499,-1729 2366.6499,-1735 2360.6499,-1741 2354.6499,-1741 2354.6499,-1741 20,-1741 20,-1741 14,-1741 8,-1735 8,-1729 8,-1729 8,-1311 8,-1311 8,-1305 14,-1299 20,-1299"/>
<text text-anchor="middle" x="1187.325" y="-1721" font-family="Times,serif" font-size="20.00" fill="#000000">WriteBatch</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_FlushScheduler</title>
<path fill="none" stroke="#000000" d="M2262.6533,-558C2262.6533,-558 2846.9863,-558 2846.9863,-558 2852.9863,-558 2858.9863,-564 2858.9863,-570 2858.9863,-570 2858.9863,-626 2858.9863,-626 2858.9863,-632 2852.9863,-638 2846.9863,-638 2846.9863,-638 2262.6533,-638 2262.6533,-638 2256.6533,-638 2250.6533,-632 2250.6533,-626 2250.6533,-626 2250.6533,-570 2250.6533,-570 2250.6533,-564 2256.6533,-558 2262.6533,-558"/>
<text text-anchor="middle" x="2554.8198" y="-618" font-family="Times,serif" font-size="20.00" fill="#000000">TrimHistoryScheduler</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_ColumnFamily</title>
<path fill="none" stroke="#000000" d="M1806.4458,-436C1806.4458,-436 2117.5513,-436 2117.5513,-436 2123.5513,-436 2129.5513,-442 2129.5513,-448 2129.5513,-448 2129.5513,-626 2129.5513,-626 2129.5513,-632 2123.5513,-638 2117.5513,-638 2117.5513,-638 1806.4458,-638 1806.4458,-638 1800.4458,-638 1794.4458,-632 1794.4458,-626 1794.4458,-626 1794.4458,-448 1794.4458,-448 1794.4458,-442 1800.4458,-436 1806.4458,-436"/>
<text text-anchor="middle" x="1961.9985" y="-618" font-family="Times,serif" font-size="20.00" fill="#000000">ColumnFamily</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_MembleInsertor</title>
<path fill="none" stroke="#000000" d="M1584.3145,-646C1584.3145,-646 2382.9849,-646 2382.9849,-646 2388.9849,-646 2394.9849,-652 2394.9849,-658 2394.9849,-658 2394.9849,-822 2394.9849,-822 2394.9849,-828 2388.9849,-834 2382.9849,-834 2382.9849,-834 1584.3145,-834 1584.3145,-834 1578.3145,-834 1572.3145,-828 1572.3145,-822 1572.3145,-822 1572.3145,-658 1572.3145,-658 1572.3145,-652 1578.3145,-646 1584.3145,-646"/>
<text text-anchor="middle" x="1983.6497" y="-814" font-family="Times,serif" font-size="20.00" fill="#000000">MemTableInsertor</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_MemeTableRep</title>
<path fill="none" stroke="#000000" d="M2201.8237,-8C2201.8237,-8 2820.4888,-8 2820.4888,-8 2826.4888,-8 2832.4888,-14 2832.4888,-20 2832.4888,-20 2832.4888,-218 2832.4888,-218 2832.4888,-224 2826.4888,-230 2820.4888,-230 2820.4888,-230 2201.8237,-230 2201.8237,-230 2195.8237,-230 2189.8237,-224 2189.8237,-218 2189.8237,-218 2189.8237,-20 2189.8237,-20 2189.8237,-14 2195.8237,-8 2201.8237,-8"/>
<text text-anchor="middle" x="2511.1563" y="-210" font-family="Times,serif" font-size="20.00" fill="#000000">MemeTableRep</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_SkipListRep</title>
<path fill="none" stroke="#000000" d="M2477.5215,-16C2477.5215,-16 2812.4888,-16 2812.4888,-16 2818.4888,-16 2824.4888,-22 2824.4888,-28 2824.4888,-28 2824.4888,-138 2824.4888,-138 2824.4888,-144 2818.4888,-150 2812.4888,-150 2812.4888,-150 2477.5215,-150 2477.5215,-150 2471.5215,-150 2465.5215,-144 2465.5215,-138 2465.5215,-138 2465.5215,-28 2465.5215,-28 2465.5215,-22 2471.5215,-16 2477.5215,-16"/>
<text text-anchor="middle" x="2645.0051" y="-130" font-family="Times,serif" font-size="20.00" fill="#000000">SkipListRep</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_MemeTable</title>
<path fill="none" stroke="#000000" d="M1879.1836,-238C1879.1836,-238 2424.2705,-238 2424.2705,-238 2430.2705,-238 2436.2705,-244 2436.2705,-250 2436.2705,-250 2436.2705,-416 2436.2705,-416 2436.2705,-422 2430.2705,-428 2424.2705,-428 2424.2705,-428 1879.1836,-428 1879.1836,-428 1873.1836,-428 1867.1836,-422 1867.1836,-416 1867.1836,-416 1867.1836,-250 1867.1836,-250 1867.1836,-244 1873.1836,-238 1879.1836,-238"/>
<text text-anchor="middle" x="2151.7271" y="-408" font-family="Times,serif" font-size="20.00" fill="#000000">MemeTable</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_WriteBatch_Handler</title>
<path fill="none" stroke="#000000" d="M1540.4351,-1749C1540.4351,-1749 1698.4351,-1749 1698.4351,-1749 1704.4351,-1749 1710.4351,-1755 1710.4351,-1761 1710.4351,-1761 1710.4351,-1817 1710.4351,-1817 1710.4351,-1823 1704.4351,-1829 1698.4351,-1829 1698.4351,-1829 1540.4351,-1829 1540.4351,-1829 1534.4351,-1829 1528.4351,-1823 1528.4351,-1817 1528.4351,-1817 1528.4351,-1761 1528.4351,-1761 1528.4351,-1755 1534.4351,-1749 1540.4351,-1749"/>
<text text-anchor="middle" x="1619.4351" y="-1809" font-family="Times,serif" font-size="20.00" fill="#000000">WriteBatch::Handler</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_WriteBatchInternal</title>
<path fill="none" stroke="#000000" d="M164.1846,-984C164.1846,-984 2337.7515,-984 2337.7515,-984 2343.7515,-984 2349.7515,-990 2349.7515,-996 2349.7515,-996 2349.7515,-1279 2349.7515,-1279 2349.7515,-1285 2343.7515,-1291 2337.7515,-1291 2337.7515,-1291 164.1846,-1291 164.1846,-1291 158.1846,-1291 152.1846,-1285 152.1846,-1279 152.1846,-1279 152.1846,-996 152.1846,-996 152.1846,-990 158.1846,-984 164.1846,-984"/>
<text text-anchor="middle" x="1250.968" y="-1271" font-family="Times,serif" font-size="20.00" fill="#000000">WriteBatchInternal</text>
</g>
<g id="clust19" class="cluster">
<title>cluster_log_writer</title>
<path fill="none" stroke="#000000" d="M2237.4902,-842C2237.4902,-842 2654.9844,-842 2654.9844,-842 2660.9844,-842 2666.9844,-848 2666.9844,-854 2666.9844,-854 2666.9844,-964 2666.9844,-964 2666.9844,-970 2660.9844,-976 2654.9844,-976 2654.9844,-976 2237.4902,-976 2237.4902,-976 2231.4902,-976 2225.4902,-970 2225.4902,-964 2225.4902,-964 2225.4902,-854 2225.4902,-854 2225.4902,-848 2231.4902,-842 2237.4902,-842"/>
<text text-anchor="middle" x="2446.2373" y="-956" font-family="Times,serif" font-size="20.00" fill="#000000">log_writer</text>
</g>
<g id="clust21" class="cluster">
<title>cluster_DBImpl</title>
<path fill="none" stroke="#000000" d="M490.897,-862C490.897,-862 1355.457,-862 1355.457,-862 1361.457,-862 1367.457,-868 1367.457,-874 1367.457,-874 1367.457,-964 1367.457,-964 1367.457,-970 1361.457,-976 1355.457,-976 1355.457,-976 490.897,-976 490.897,-976 484.897,-976 478.897,-970 478.897,-964 478.897,-964 478.897,-874 478.897,-874 478.897,-868 484.897,-862 490.897,-862"/>
<text text-anchor="middle" x="923.177" y="-956" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<g id="clust24" class="cluster">
<title>cluster_DB</title>
<path fill="none" stroke="#000000" d="M43.0303,-868C43.0303,-868 275.8174,-868 275.8174,-868 281.8174,-868 287.8174,-874 287.8174,-880 287.8174,-880 287.8174,-936 287.8174,-936 287.8174,-942 281.8174,-948 275.8174,-948 275.8174,-948 43.0303,-948 43.0303,-948 37.0303,-948 31.0303,-942 31.0303,-936 31.0303,-936 31.0303,-880 31.0303,-880 31.0303,-874 37.0303,-868 43.0303,-868"/>
<text text-anchor="middle" x="159.4238" y="-928" font-family="Times,serif" font-size="20.00" fill="#000000">DB</text>
</g>
<!-- WriteBatchBase -->
<g id="node1" class="node">
<title>WriteBatchBase</title>
<polygon fill="none" stroke="#000000" points="123.277,-1599 15.9076,-1599 15.9076,-1563 123.277,-1563 123.277,-1599"/>
<text text-anchor="middle" x="69.5923" y="-1576.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchBase</text>
</g>
<!-- WriteBatch -->
<g id="node2" class="node">
<title>WriteBatch</title>
<polygon fill="none" stroke="#000000" points="398.2314,-1525 398.2314,-1701 676.5469,-1701 676.5469,-1525 398.2314,-1525"/>
<text text-anchor="middle" x="537.3892" y="-1685.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch</text>
<polyline fill="none" stroke="#000000" points="398.2314,-1679 676.5469,-1679 "/>
<text text-anchor="middle" x="537.3892" y="-1663.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;SavePoints&gt; save_points_;</text>
<polyline fill="none" stroke="#000000" points="398.2314,-1657 676.5469,-1657 "/>
<text text-anchor="start" x="406.2314" y="-1641.8" font-family="Times,serif" font-size="14.00" fill="#000000">SavePoint wal_term_point_;</text>
<polyline fill="none" stroke="#000000" points="398.2314,-1635 676.5469,-1635 "/>
<text text-anchor="start" x="406.2314" y="-1619.8" font-family="Times,serif" font-size="14.00" fill="#000000">mutable std::atomic&lt;uint32_t&gt; content_flags_;</text>
<polyline fill="none" stroke="#000000" points="398.2314,-1613 676.5469,-1613 "/>
<text text-anchor="start" x="406.2314" y="-1597.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t max_bytes_;</text>
<polyline fill="none" stroke="#000000" points="398.2314,-1591 676.5469,-1591 "/>
<text text-anchor="start" x="406.2314" y="-1575.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool is_latest_persistent_state_ = false;</text>
<polyline fill="none" stroke="#000000" points="398.2314,-1569 676.5469,-1569 "/>
<text text-anchor="start" x="406.2314" y="-1553.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::string rep_; </text>
<polyline fill="none" stroke="#000000" points="398.2314,-1547 676.5469,-1547 "/>
<text text-anchor="start" x="406.2314" y="-1531.8" font-family="Times,serif" font-size="14.00" fill="#000000">const size_t timestamp_size_;</text>
</g>
<!-- WriteBatchBase&#45;&gt;WriteBatch -->
<g id="edge1" class="edge">
<title>WriteBatchBase&#45;&gt;WriteBatch</title>
<path fill="none" stroke="#000000" d="M123.2545,-1584.6708C187.3299,-1589.0539 297.1937,-1596.5692 387.6677,-1602.7582"/>
<polygon fill="#000000" stroke="#000000" points="387.5418,-1606.2577 397.7574,-1603.4484 388.0196,-1599.274 387.5418,-1606.2577"/>
</g>
<!-- WriteBatchWithIndex -->
<g id="node3" class="node">
<title>WriteBatchWithIndex</title>
<polygon fill="none" stroke="#000000" points="160.7451,-1453 160.7451,-1497 325.126,-1497 325.126,-1453 160.7451,-1453"/>
<text text-anchor="middle" x="242.9355" y="-1481.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchWithIndex</text>
<polyline fill="none" stroke="#000000" points="160.7451,-1475 325.126,-1475 "/>
<text text-anchor="start" x="168.7451" y="-1459.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;Rep&gt; rep;</text>
</g>
<!-- WriteBatchBase&#45;&gt;WriteBatchWithIndex -->
<g id="edge2" class="edge">
<title>WriteBatchBase&#45;&gt;WriteBatchWithIndex</title>
<path fill="none" stroke="#000000" d="M99.3911,-1562.778C126.5267,-1546.1844 166.9788,-1521.4478 198.0309,-1502.4594"/>
<polygon fill="#000000" stroke="#000000" points="200.2245,-1505.2205 206.9299,-1497.0176 196.5726,-1499.2486 200.2245,-1505.2205"/>
</g>
<!-- ReadableWriteBatch -->
<g id="node4" class="node">
<title>ReadableWriteBatch</title>
<polygon fill="none" stroke="#000000" points="937.7315,-1590 805.624,-1590 805.624,-1554 937.7315,-1554 937.7315,-1590"/>
<text text-anchor="middle" x="871.6777" y="-1567.8" font-family="Times,serif" font-size="14.00" fill="#000000">ReadableWriteBatch</text>
</g>
<!-- WriteBatch&#45;&gt;ReadableWriteBatch -->
<g id="edge3" class="edge">
<title>WriteBatch&#45;&gt;ReadableWriteBatch</title>
<path fill="none" stroke="#000000" d="M676.737,-1595.9092C717.3376,-1590.9296 760.1896,-1585.6739 795.3452,-1581.3621"/>
<polygon fill="#000000" stroke="#000000" points="796.022,-1584.8054 805.5215,-1580.114 795.1698,-1577.8574 796.022,-1584.8054"/>
</g>
<!-- WriteBatch_Rep -->
<g id="node5" class="node">
<title>WriteBatch_Rep</title>
<polygon fill="#95e1d3" stroke="#000000" points="1557.9917,-1308 1557.9917,-1396 1680.8784,-1396 1680.8784,-1308 1557.9917,-1308"/>
<text text-anchor="middle" x="1619.4351" y="-1380.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch::Rep</text>
<polyline fill="none" stroke="#000000" points="1557.9917,-1374 1680.8784,-1374 "/>
<text text-anchor="start" x="1565.9917" y="-1358.8" font-family="Times,serif" font-size="14.00" fill="#000000">sequence: fixed64</text>
<polyline fill="none" stroke="#000000" points="1557.9917,-1352 1680.8784,-1352 "/>
<text text-anchor="start" x="1565.9917" y="-1336.8" font-family="Times,serif" font-size="14.00" fill="#000000">count: fixed32</text>
<polyline fill="none" stroke="#000000" points="1557.9917,-1330 1680.8784,-1330 "/>
<text text-anchor="start" x="1565.9917" y="-1314.8" font-family="Times,serif" font-size="14.00" fill="#000000">data: record[count]</text>
</g>
<!-- WriteBatch&#45;&gt;WriteBatch_Rep -->
<g id="edge4" class="edge">
<title>WriteBatch:rep&#45;&gt;WriteBatch_Rep</title>
<path fill="none" stroke="#000000" d="M676.3892,-1558C693.8852,-1558 696.8838,-1550.3343 713.5469,-1545 783.2557,-1522.6843 798.4841,-1499 871.6777,-1499 871.6777,-1499 871.6777,-1499 1421.2227,-1499 1486.9643,-1499 1545.1099,-1446.1838 1581.1451,-1403.8687"/>
<polygon fill="#000000" stroke="#000000" points="1583.9015,-1406.0282 1587.6133,-1396.1048 1578.5233,-1401.5476 1583.9015,-1406.0282"/>
</g>
<!-- SavePoint -->
<g id="node6" class="node">
<title>SavePoint</title>
<polygon fill="none" stroke="#000000" points="1066.8086,-1609 1066.8086,-1675 1207.6328,-1675 1207.6328,-1609 1066.8086,-1609"/>
<text text-anchor="start" x="1074.8086" y="-1659.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t size;</text>
<polyline fill="none" stroke="#000000" points="1066.8086,-1653 1207.6328,-1653 "/>
<text text-anchor="start" x="1074.8086" y="-1637.8" font-family="Times,serif" font-size="14.00" fill="#000000">int count;</text>
<polyline fill="none" stroke="#000000" points="1066.8086,-1631 1207.6328,-1631 "/>
<text text-anchor="start" x="1074.8086" y="-1615.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t content_flags</text>
</g>
<!-- WriteBatch&#45;&gt;SavePoint -->
<g id="edge5" class="edge">
<title>WriteBatch:SavePoint&#45;&gt;SavePoint</title>
<path fill="none" stroke="#000000" d="M676.3892,-1646C692.9276,-1646 697.0155,-1644.4836 713.5469,-1644 832.9485,-1640.5069 971.3572,-1640.6408 1056.608,-1641.2057"/>
<polygon fill="#000000" stroke="#000000" points="1056.7118,-1644.7064 1066.736,-1641.2765 1056.7608,-1637.7065 1056.7118,-1644.7064"/>
</g>
<!-- SavePoints -->
<g id="node7" class="node">
<title>SavePoints</title>
<polygon fill="none" stroke="#000000" points="713.5469,-1653 713.5469,-1697 1029.8086,-1697 1029.8086,-1653 713.5469,-1653"/>
<text text-anchor="middle" x="871.6777" y="-1681.8" font-family="Times,serif" font-size="14.00" fill="#000000">SavePoints</text>
<polyline fill="none" stroke="#000000" points="713.5469,-1675 1029.8086,-1675 "/>
<text text-anchor="middle" x="871.6777" y="-1659.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::stack&lt;SavePoint, autovector&lt;SavePoint&gt;&gt; stack;</text>
</g>
<!-- WriteBatch&#45;&gt;SavePoints -->
<g id="edge6" class="edge">
<title>WriteBatch:SavePoints&#45;&gt;SavePoints</title>
<path fill="none" stroke="#000000" d="M676.3892,-1668C685.1397,-1668 694.1094,-1668.0711 703.1652,-1668.1989"/>
<polygon fill="#000000" stroke="#000000" points="703.3631,-1671.7025 713.419,-1668.3665 703.4776,-1664.7034 703.3631,-1671.7025"/>
</g>
<!-- WriteBatchWithIndex_Rep -->
<g id="node10" class="node">
<title>WriteBatchWithIndex_Rep</title>
<polygon fill="none" stroke="#000000" points="412.8501,-1308 412.8501,-1506 661.9282,-1506 661.9282,-1308 412.8501,-1308"/>
<text text-anchor="middle" x="537.3892" y="-1490.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchWithIndex::Rep</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1484 661.9282,-1484 "/>
<text text-anchor="start" x="420.8501" y="-1468.8" font-family="Times,serif" font-size="14.00" fill="#000000">ReadableWriteBatch write_batch;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1462 661.9282,-1462 "/>
<text text-anchor="start" x="420.8501" y="-1446.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchEntryComparator comparator;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1440 661.9282,-1440 "/>
<text text-anchor="start" x="420.8501" y="-1424.8" font-family="Times,serif" font-size="14.00" fill="#000000">Arena arena;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1418 661.9282,-1418 "/>
<text text-anchor="start" x="420.8501" y="-1402.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchEntrySkipList skip_list;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1396 661.9282,-1396 "/>
<text text-anchor="start" x="420.8501" y="-1380.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool overwrite_key;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1374 661.9282,-1374 "/>
<text text-anchor="start" x="420.8501" y="-1358.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t last_entry_offset;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1352 661.9282,-1352 "/>
<text text-anchor="start" x="420.8501" y="-1336.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t last_sub_batch_offset;</text>
<polyline fill="none" stroke="#000000" points="412.8501,-1330 661.9282,-1330 "/>
<text text-anchor="start" x="420.8501" y="-1314.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t sub_batch_cnt;</text>
</g>
<!-- WriteBatchWithIndex&#45;&gt;WriteBatchWithIndex_Rep -->
<g id="edge10" class="edge">
<title>WriteBatchWithIndex:Rep&#45;&gt;WriteBatchWithIndex_Rep</title>
<path fill="none" stroke="#000000" d="M324.9355,-1464C350.5865,-1464 377.4028,-1460.076 403.007,-1454.2871"/>
<polygon fill="#000000" stroke="#000000" points="403.8298,-1457.6891 412.7558,-1451.9814 402.2187,-1450.877 403.8298,-1457.6891"/>
</g>
<!-- record -->
<g id="node8" class="node">
<title>record</title>
<polygon fill="#95e1d3" stroke="#000000" points="1773.8818,-1308 1773.8818,-1704 2150.1152,-1704 2150.1152,-1308 1773.8818,-1308"/>
<text text-anchor="middle" x="1961.9985" y="-1688.8" font-family="Times,serif" font-size="14.00" fill="#000000">record</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1682 2150.1152,-1682 "/>
<text text-anchor="start" x="1781.8818" y="-1666.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeValue varstring varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1660 2150.1152,-1660 "/>
<text text-anchor="start" x="1781.8818" y="-1644.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeDeletion varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1638 2150.1152,-1638 "/>
<text text-anchor="start" x="1781.8818" y="-1622.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeSingleDeletion varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1616 2150.1152,-1616 "/>
<text text-anchor="start" x="1781.8818" y="-1600.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeRangeDeletion varstring varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1594 2150.1152,-1594 "/>
<text text-anchor="start" x="1781.8818" y="-1578.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeMerge varstring varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1572 2150.1152,-1572 "/>
<text text-anchor="start" x="1781.8818" y="-1556.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeColumnFamilyValue varint32 varstring varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1550 2150.1152,-1550 "/>
<text text-anchor="start" x="1781.8818" y="-1534.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeColumnFamilyDeletion varint32 varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1528 2150.1152,-1528 "/>
<text text-anchor="start" x="1781.8818" y="-1512.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeColumnFamilySingleDeletion varint32 varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1506 2150.1152,-1506 "/>
<text text-anchor="start" x="1781.8818" y="-1490.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeColumnFamilyRangeDeletion varint32 varstring varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1484 2150.1152,-1484 "/>
<text text-anchor="start" x="1781.8818" y="-1468.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeColumnFamilyMerge varint32 varstring varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1462 2150.1152,-1462 "/>
<text text-anchor="start" x="1781.8818" y="-1446.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeBeginPrepareXID varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1440 2150.1152,-1440 "/>
<text text-anchor="start" x="1781.8818" y="-1424.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeEndPrepareXID</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1418 2150.1152,-1418 "/>
<text text-anchor="start" x="1781.8818" y="-1402.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeCommitXID varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1396 2150.1152,-1396 "/>
<text text-anchor="start" x="1781.8818" y="-1380.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeRollbackXID varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1374 2150.1152,-1374 "/>
<text text-anchor="start" x="1781.8818" y="-1358.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeBeginPersistedPrepareXID varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1352 2150.1152,-1352 "/>
<text text-anchor="start" x="1781.8818" y="-1336.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeBeginUnprepareXID varstring</text>
<polyline fill="none" stroke="#000000" points="1773.8818,-1330 2150.1152,-1330 "/>
<text text-anchor="start" x="1781.8818" y="-1314.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeNoop</text>
</g>
<!-- WriteBatch_Rep&#45;&gt;record -->
<g id="edge7" class="edge">
<title>WriteBatch_Rep:record&#45;&gt;record</title>
<path fill="none" stroke="#000000" d="M1680.4351,-1319C1709.3058,-1319 1737.4791,-1325.9068 1764.1565,-1337.0657"/>
<polygon fill="#000000" stroke="#000000" points="1762.966,-1340.3655 1773.529,-1341.1857 1765.7829,-1333.9573 1762.966,-1340.3655"/>
</g>
<!-- ReadRecordFromWriteBatch -->
<g id="node11" class="node">
<title>ReadRecordFromWriteBatch</title>
<polygon fill="none" stroke="#000000" points="2051.5012,-1255 1872.4959,-1255 1872.4959,-1219 2051.5012,-1219 2051.5012,-1255"/>
<text text-anchor="middle" x="1961.9985" y="-1232.8" font-family="Times,serif" font-size="14.00" fill="#000000">ReadRecordFromWriteBatch</text>
</g>
<!-- WriteBatch_Rep&#45;&gt;ReadRecordFromWriteBatch -->
<g id="edge12" class="edge">
<title>WriteBatch_Rep&#45;&gt;ReadRecordFromWriteBatch</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M1681.161,-1328.344C1709.3135,-1317.781 1743.1537,-1305.3987 1773.8818,-1295 1812.2018,-1282.0322 1855.3042,-1268.6561 1890.5734,-1258.022"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="1891.7335,-1261.328 1900.3029,-1255.0979 1889.7187,-1254.6242 1891.7335,-1261.328"/>
</g>
<!-- Contents -->
<g id="node37" class="node">
<title>Contents</title>
<polygon fill="none" stroke="#000000" points="1888.2881,-1046.2 1888.2881,-1095.8 2035.709,-1095.8 2035.709,-1046.2 1888.2881,-1046.2"/>
<text text-anchor="middle" x="1961.9985" y="-1080.6" font-family="Times,serif" font-size="14.00" fill="#000000">Contents</text>
<polyline fill="none" stroke="#000000" points="1888.2881,-1073.8 2035.709,-1073.8 "/>
<text text-anchor="middle" x="1961.9985" y="-1058.6" font-family="Times,serif" font-size="14.00" fill="#000000">获取writeBatch中内容</text>
</g>
<!-- WriteBatch_Rep&#45;&gt;Contents -->
<g id="edge37" class="edge">
<title>WriteBatch_Rep&#45;&gt;Contents</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M1681.1049,-1334.5638C1701.6898,-1325.8362 1722.9168,-1313.1379 1736.8818,-1295 1762.9908,-1261.0895 1743.4781,-1136.1201 1773.8818,-1106 1800.9541,-1079.1802 1841.5374,-1069.3687 1878.0869,-1066.7078"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="1878.485,-1070.1911 1888.2742,-1066.1387 1878.0945,-1063.202 1878.485,-1070.1911"/>
</g>
<!-- SavePoints&#45;&gt;SavePoint -->
<g id="edge9" class="edge">
<title>SavePoints:SavePoint&#45;&gt;SavePoint</title>
<path fill="none" stroke="#000000" d="M1029.6777,-1664C1038.4702,-1664 1047.5864,-1663.2854 1056.6241,-1662.1139"/>
<polygon fill="#000000" stroke="#000000" points="1057.394,-1665.5381 1066.7732,-1660.6107 1056.3683,-1658.6137 1057.394,-1665.5381"/>
</g>
<!-- varstring -->
<g id="node9" class="node">
<title>varstring</title>
<polygon fill="none" stroke="#000000" points="2256.7358,-1473 2256.7358,-1539 2358.6499,-1539 2358.6499,-1473 2256.7358,-1473"/>
<text text-anchor="middle" x="2307.6929" y="-1523.8" font-family="Times,serif" font-size="14.00" fill="#000000">varstring</text>
<polyline fill="none" stroke="#000000" points="2256.7358,-1517 2358.6499,-1517 "/>
<text text-anchor="start" x="2264.7358" y="-1501.8" font-family="Times,serif" font-size="14.00" fill="#000000">len: varint32</text>
<polyline fill="none" stroke="#000000" points="2256.7358,-1495 2358.6499,-1495 "/>
<text text-anchor="start" x="2264.7358" y="-1479.8" font-family="Times,serif" font-size="14.00" fill="#000000">data: uint8[len]</text>
</g>
<!-- record&#45;&gt;varstring -->
<g id="edge8" class="edge">
<title>record&#45;&gt;varstring</title>
<path fill="none" stroke="#000000" d="M2150.2723,-1506C2185.0565,-1506 2219.0008,-1506 2246.4098,-1506"/>
<polygon fill="#000000" stroke="#000000" points="2246.5828,-1509.5001 2256.5828,-1506 2246.5828,-1502.5001 2246.5828,-1509.5001"/>
</g>
<!-- WriteBatchWithIndex_Rep&#45;&gt;ReadableWriteBatch -->
<g id="edge11" class="edge">
<title>WriteBatchWithIndex_Rep&#45;&gt;ReadableWriteBatch</title>
<path fill="none" stroke="#000000" d="M662.3413,-1468.6745C719.5812,-1496.9274 783.8849,-1528.6667 825.9335,-1549.4213"/>
<polygon fill="#000000" stroke="#000000" points="824.563,-1552.648 835.0793,-1553.9356 827.6613,-1546.3709 824.563,-1552.648"/>
</g>
<!-- ScheduleWork -->
<g id="node12" class="node">
<title>ScheduleWork</title>
<polygon fill="none" stroke="#000000" points="2356.772,-602 2258.6137,-602 2258.6137,-566 2356.772,-566 2356.772,-602"/>
<text text-anchor="middle" x="2307.6929" y="-579.8" font-family="Times,serif" font-size="14.00" fill="#000000">ScheduleWork</text>
</g>
<!-- cfds_ -->
<g id="node13" class="node">
<title>cfds_</title>
<polygon fill="none" stroke="#000000" points="2589.1274,-602 2535.1274,-602 2535.1274,-566 2589.1274,-566 2589.1274,-602"/>
<text text-anchor="middle" x="2562.1274" y="-579.8" font-family="Times,serif" font-size="14.00" fill="#000000">cfds_</text>
</g>
<!-- ScheduleWork&#45;&gt;cfds_ -->
<g id="edge13" class="edge">
<title>ScheduleWork&#45;&gt;cfds_</title>
<path fill="none" stroke="#000000" d="M2356.7504,-584C2405.814,-584 2480.2007,-584 2524.6962,-584"/>
<polygon fill="#000000" stroke="#000000" points="2524.7929,-587.5001 2534.7928,-584 2524.7928,-580.5001 2524.7929,-587.5001"/>
</g>
<!-- TakeNextColumnFamily -->
<g id="node14" class="node">
<title>TakeNextColumnFamily</title>
<polygon fill="none" stroke="#000000" points="2850.9873,-602 2695.9834,-602 2695.9834,-566 2850.9873,-566 2850.9873,-602"/>
<text text-anchor="middle" x="2773.4854" y="-579.8" font-family="Times,serif" font-size="14.00" fill="#000000">TakeNextColumnFamily</text>
</g>
<!-- cfds_&#45;&gt;TakeNextColumnFamily -->
<g id="edge14" class="edge">
<title>cfds_&#45;&gt;TakeNextColumnFamily</title>
<path fill="none" stroke="#000000" d="M2589.3261,-584C2613.7818,-584 2651.0835,-584 2685.7357,-584"/>
<polygon fill="#000000" stroke="#000000" points="2685.9052,-587.5001 2695.9052,-584 2685.9052,-580.5001 2685.9052,-587.5001"/>
</g>
<!-- ColumnFamilyMemTables_GetMemTable -->
<g id="node15" class="node">
<title>ColumnFamilyMemTables_GetMemTable</title>
<polygon fill="none" stroke="#000000" points="1863.002,-552.2 1863.002,-601.8 2060.9951,-601.8 2060.9951,-552.2 1863.002,-552.2"/>
<text text-anchor="middle" x="1961.9985" y="-586.6" font-family="Times,serif" font-size="14.00" fill="#000000">GetMemTable</text>
<polyline fill="none" stroke="#000000" points="1863.002,-579.8 2060.9951,-579.8 "/>
<text text-anchor="start" x="1871.002" y="-564.6" font-family="Times,serif" font-size="14.00" fill="#000000">获取ColumnFamily对应的table</text>
</g>
<!-- ColumnFamilyMemTables_GetColumnFamilyHandle -->
<g id="node16" class="node">
<title>ColumnFamilyMemTables_GetColumnFamilyHandle</title>
<polygon fill="none" stroke="#000000" points="2121.604,-534 1802.393,-534 1802.393,-498 2121.604,-498 2121.604,-534"/>
<text text-anchor="middle" x="1961.9985" y="-511.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyMemTables_GetColumnFamilyHandle</text>
</g>
<!-- SeekToColumnFamily -->
<g id="node17" class="node">
<title>SeekToColumnFamily</title>
<polygon fill="none" stroke="#000000" points="2033.0734,-480 1890.9237,-480 1890.9237,-444 2033.0734,-444 2033.0734,-480"/>
<text text-anchor="middle" x="1961.9985" y="-457.8" font-family="Times,serif" font-size="14.00" fill="#000000">SeekToColumnFamily</text>
</g>
<!-- MemTableInserter_PutCFImpl -->
<g id="node18" class="node">
<title>MemTableInserter_PutCFImpl</title>
<polygon fill="none" stroke="#000000" points="1580.3145,-655 1580.3145,-691 1658.5557,-691 1658.5557,-655 1580.3145,-655"/>
<text text-anchor="middle" x="1619.4351" y="-668.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutCFImpl</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;ColumnFamilyMemTables_GetMemTable -->
<g id="edge20" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;ColumnFamilyMemTables_GetMemTable</title>
<path fill="none" stroke="#e23e57" d="M1658.7314,-661.9876C1708.3129,-648.0929 1795.3338,-623.7061 1863.4795,-604.609"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1864.7056,-607.9003 1873.3902,-601.8316 1862.8166,-601.16 1864.7056,-607.9003"/>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;ColumnFamilyMemTables_GetColumnFamilyHandle -->
<g id="edge21" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;ColumnFamilyMemTables_GetColumnFamilyHandle</title>
<path fill="none" stroke="#e23e57" d="M1634.8304,-654.6641C1660.4017,-625.5917 1714.7078,-569.5042 1773.8818,-543 1779.81,-540.3448 1785.939,-537.9382 1792.2027,-535.7578"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1793.7254,-538.9427 1802.1473,-532.5145 1791.5549,-532.2877 1793.7254,-538.9427"/>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;SeekToColumnFamily -->
<g id="edge22" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;SeekToColumnFamily</title>
<path fill="none" stroke="#e23e57" d="M1628.667,-654.8378C1649.0565,-616.811 1701.8945,-529.0332 1773.8818,-489 1806.0311,-471.1213 1845.859,-463.6944 1880.579,-461.0066"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1880.9494,-464.4899 1890.6992,-460.3436 1880.4918,-457.5049 1880.9494,-464.4899"/>
</g>
<!-- CheckMemtableFull -->
<g id="node19" class="node">
<title>CheckMemtableFull</title>
<polygon fill="none" stroke="#000000" points="1896.4536,-654.4001 1896.4536,-723.5999 2027.5435,-723.5999 2027.5435,-654.4001 1896.4536,-654.4001"/>
<text text-anchor="middle" x="1961.9985" y="-708.3999" font-family="Times,serif" font-size="14.00" fill="#000000">CheckMemtableFull</text>
<polyline fill="none" stroke="#000000" points="1896.4536,-701.5999 2027.5435,-701.5999 "/>
<text text-anchor="start" x="1904.4536" y="-686.3999" font-family="Times,serif" font-size="14.00" fill="#000000">检查Memtable是否</text>
<text text-anchor="start" x="1904.4536" y="-666.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 超过预期大小</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;CheckMemtableFull -->
<g id="edge23" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;CheckMemtableFull</title>
<path fill="none" stroke="#e23e57" d="M1658.7314,-674.8354C1714.0081,-677.4172 1815.819,-682.1724 1886.1297,-685.4564"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1886.1131,-688.9594 1896.2656,-685.9298 1886.4398,-681.967 1886.1131,-688.9594"/>
</g>
<!-- Put -->
<g id="node24" class="node">
<title>Put</title>
<polygon fill="none" stroke="#000000" points="1819.5459,-1115.2 1819.5459,-1200.8 2104.4512,-1200.8 2104.4512,-1115.2 1819.5459,-1115.2"/>
<text text-anchor="middle" x="1961.9985" y="-1185.6" font-family="Times,serif" font-size="14.00" fill="#000000">Put</text>
<polyline fill="none" stroke="#000000" points="1819.5459,-1178.8 2104.4512,-1178.8 "/>
<text text-anchor="start" x="1827.5459" y="-1163.6" font-family="Times,serif" font-size="14.00" fill="#000000">Put(WriteBatch* b, uint32_t column_family_id,</text>
<text text-anchor="start" x="1827.5459" y="-1149.6" font-family="Times,serif" font-size="14.00" fill="#000000"> const Slice&amp; key, const Slice&amp; value) </text>
<polyline fill="none" stroke="#000000" points="1819.5459,-1142.8 2104.4512,-1142.8 "/>
<text text-anchor="start" x="1827.5459" y="-1127.6" font-family="Times,serif" font-size="14.00" fill="#000000">将key,value 插入rep的record中,并修改count</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;Put -->
<g id="edge24" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;Put</title>
<path fill="none" stroke="#e23e57" d="M1629.3082,-691.1993C1654.5717,-738.5913 1721.9524,-870.3205 1755.8818,-988 1770.4572,-1038.5525 1739.0163,-1065.5996 1773.8818,-1105 1784.119,-1116.5686 1796.6646,-1125.6987 1810.3738,-1132.8918"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1809.0142,-1136.1224 1819.5382,-1137.3451 1812.0737,-1129.8264 1809.0142,-1136.1224"/>
</g>
<!-- MemTable_Add -->
<g id="node25" class="node">
<title>MemTable_Add</title>
<polygon fill="#f38181" stroke="#000000" points="1907.832,-247 1907.832,-283 2016.165,-283 2016.165,-247 1907.832,-247"/>
<text text-anchor="middle" x="1961.9985" y="-260.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable::Add</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;MemTable_Add -->
<g id="edge25" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;MemTable_Add</title>
<path fill="none" stroke="#e23e57" d="M1620.75,-654.5987C1626.2647,-592.2869 1653.2372,-387.848 1773.8818,-293 1808.5063,-265.7791 1858.1209,-259.3232 1897.7042,-259.3835"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1897.7443,-262.8844 1907.7967,-259.538 1897.8515,-255.8853 1897.7443,-262.8844"/>
</g>
<!-- MemTable_Update -->
<g id="node26" class="node">
<title>MemTable_Update</title>
<polygon fill="none" stroke="#000000" points="2023.8697,-392 1900.1274,-392 1900.1274,-356 2023.8697,-356 2023.8697,-392"/>
<text text-anchor="middle" x="1961.9985" y="-369.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable_Update</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;MemTable_Update -->
<g id="edge26" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;MemTable_Update</title>
<path fill="none" stroke="#e23e57" d="M1625.9738,-654.8027C1643.0195,-609.9609 1693.1751,-493.3502 1773.8818,-432 1807.4743,-406.4643 1852.421,-392.0688 1889.9561,-384.0076"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1890.7286,-387.4222 1899.8277,-381.9948 1889.33,-380.5633 1890.7286,-387.4222"/>
</g>
<!-- MemTable_UpdateCallback -->
<g id="node27" class="node">
<title>MemTable_UpdateCallback</title>
<polygon fill="none" stroke="#000000" points="2048.6288,-338 1875.3683,-338 1875.3683,-302 2048.6288,-302 2048.6288,-338"/>
<text text-anchor="middle" x="1961.9985" y="-315.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable_UpdateCallback</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;MemTable_UpdateCallback -->
<g id="edge27" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;MemTable_UpdateCallback</title>
<path fill="none" stroke="#e23e57" d="M1622.0202,-654.8029C1631.0641,-598.4683 1666.7759,-425.9911 1773.8818,-347 1799.8788,-327.8271 1833.5051,-319.3701 1865.123,-316.2369"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1865.6261,-319.7074 1875.3057,-315.3999 1865.0525,-312.731 1865.6261,-319.7074"/>
</g>
<!-- MaybeAdvanceSeq -->
<g id="node28" class="node">
<title>MaybeAdvanceSeq</title>
<polygon fill="none" stroke="#000000" points="2024.627,-1028 1899.3701,-1028 1899.3701,-992 2024.627,-992 2024.627,-1028"/>
<text text-anchor="middle" x="1961.9985" y="-1005.8" font-family="Times,serif" font-size="14.00" fill="#000000">MaybeAdvanceSeq</text>
</g>
<!-- MemTableInserter_PutCFImpl&#45;&gt;MaybeAdvanceSeq -->
<g id="edge28" class="edge">
<title>MemTableInserter_PutCFImpl&#45;&gt;MaybeAdvanceSeq</title>
<path fill="none" stroke="#e23e57" d="M1635.6737,-691.2576C1663.3401,-722.1545 1721.6963,-786.4215 1773.8818,-838 1828.5998,-892.0814 1895.756,-952.0328 1933.2214,-984.9399"/>
<polygon fill="#e23e57" stroke="#e23e57" points="1931.367,-987.9686 1941.1943,-991.9278 1935.9809,-982.7044 1931.367,-987.9686"/>
</g>
<!-- CheckMemtableFull&#45;&gt;ScheduleWork -->
<g id="edge15" class="edge">
<title>CheckMemtableFull&#45;&gt;ScheduleWork</title>
<path fill="none" stroke="#000000" d="M2027.7715,-674.4034C2064.1073,-665.8812 2109.9004,-654.3852 2150.1152,-642 2184.8077,-631.3155 2223.0335,-617.3023 2253.1469,-605.7267"/>
<polygon fill="#000000" stroke="#000000" points="2254.5599,-608.9329 2262.6241,-602.0613 2252.0348,-602.4041 2254.5599,-608.9329"/>
</g>
<!-- MarkTrimHistoryNeeded -->
<g id="node20" class="node">
<title>MarkTrimHistoryNeeded</title>
<polygon fill="none" stroke="#000000" points="2386.7774,-690 2228.6083,-690 2228.6083,-654 2386.7774,-654 2386.7774,-690"/>
<text text-anchor="middle" x="2307.6929" y="-667.8" font-family="Times,serif" font-size="14.00" fill="#000000">MarkTrimHistoryNeeded</text>
</g>
<!-- CheckMemtableFull&#45;&gt;MarkTrimHistoryNeeded -->
<g id="edge16" class="edge">
<title>CheckMemtableFull&#45;&gt;MarkTrimHistoryNeeded</title>
<path fill="none" stroke="#000000" d="M2027.8347,-685.7624C2081.8162,-683.1078 2158.7556,-679.3242 2218.3047,-676.3958"/>
<polygon fill="#000000" stroke="#000000" points="2218.6413,-679.8836 2228.4573,-675.8965 2218.2974,-672.892 2218.6413,-679.8836"/>
</g>
<!-- ShouldScheduleFlush -->
<g id="node21" class="node">
<title>ShouldScheduleFlush</title>
<polygon fill="none" stroke="#000000" points="2376.8101,-744 2238.5756,-744 2238.5756,-708 2376.8101,-708 2376.8101,-744"/>
<text text-anchor="middle" x="2307.6929" y="-721.8" font-family="Times,serif" font-size="14.00" fill="#000000">ShouldScheduleFlush</text>
</g>
<!-- CheckMemtableFull&#45;&gt;ShouldScheduleFlush -->
<g id="edge17" class="edge">
<title>CheckMemtableFull&#45;&gt;ShouldScheduleFlush</title>
<path fill="none" stroke="#000000" d="M2027.8347,-696.0465C2084.8718,-702.1512 2167.5393,-710.9992 2228.2424,-717.4963"/>
<polygon fill="#000000" stroke="#000000" points="2228.2322,-721.0152 2238.5479,-718.5993 2228.9772,-714.0549 2228.2322,-721.0152"/>
</g>
<!-- MarkFlushScheduled -->
<g id="node22" class="node">
<title>MarkFlushScheduled</title>
<polygon fill="none" stroke="#000000" points="2375.4587,-798 2239.927,-798 2239.927,-762 2375.4587,-762 2375.4587,-798"/>
<text text-anchor="middle" x="2307.6929" y="-775.8" font-family="Times,serif" font-size="14.00" fill="#000000">MarkFlushScheduled</text>
</g>
<!-- CheckMemtableFull&#45;&gt;MarkFlushScheduled -->
<g id="edge18" class="edge">
<title>CheckMemtableFull&#45;&gt;MarkFlushScheduled</title>
<path fill="none" stroke="#000000" d="M2027.7304,-708.7508C2072.4838,-721.9357 2133.1619,-739.3017 2187.1152,-753 2200.8837,-756.4957 2215.5969,-759.9895 2229.8449,-763.2485"/>
<polygon fill="#000000" stroke="#000000" points="2229.0909,-766.6662 2239.6173,-765.4643 2230.6388,-759.8395 2229.0909,-766.6662"/>
</g>
<!-- PutCF -->
<g id="node23" class="node">
<title>PutCF</title>
<polygon fill="none" stroke="#000000" points="1646.4351,-1793 1592.4351,-1793 1592.4351,-1757 1646.4351,-1757 1646.4351,-1793"/>
<text text-anchor="middle" x="1619.4351" y="-1770.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutCF</text>
</g>
<!-- PutCF&#45;&gt;MemTableInserter_PutCFImpl -->
<g id="edge19" class="edge">
<title>PutCF&#45;&gt;MemTableInserter_PutCFImpl</title>
<path fill="none" stroke="#000000" d="M1592.3644,-1776.7233C1559.5555,-1777.1016 1505.8862,-1771.804 1483.4883,-1736 1458.8861,-1696.6724 1471.1671,-945.7227 1483.4883,-901 1505.7152,-820.3216 1564.8086,-739.3833 1597.2858,-699.145"/>
<polygon fill="#000000" stroke="#000000" points="1600.1689,-701.1482 1603.7893,-691.1911 1594.7498,-696.7173 1600.1689,-701.1482"/>
</g>
<!-- Put&#45;&gt;WriteBatch_Rep -->
<g id="edge41" class="edge">
<title>Put&#45;&gt;WriteBatch_Rep</title>
<path fill="none" stroke="#000000" d="M1819.3598,-1182.4296C1802.8481,-1189.4447 1787.1867,-1198.4487 1773.8818,-1210 1742.7697,-1237.0114 1765.4083,-1265.2709 1736.8818,-1295 1723.9727,-1308.4534 1707.232,-1319.1465 1690.4553,-1327.464"/>
<polygon fill="#000000" stroke="#000000" points="1688.7117,-1324.4163 1681.1554,-1331.8429 1691.6937,-1330.7494 1688.7117,-1324.4163"/>
</g>
<!-- SetCount -->
<g id="node42" class="node">
<title>SetCount</title>
<polygon fill="none" stroke="#000000" points="2341.8102,-1102 2273.5756,-1102 2273.5756,-1066 2341.8102,-1066 2341.8102,-1102"/>
<text text-anchor="middle" x="2307.6929" y="-1079.8" font-family="Times,serif" font-size="14.00" fill="#000000">SetCount</text>
</g>
<!-- Put&#45;&gt;SetCount -->
<g id="edge42" class="edge">
<title>Put&#45;&gt;SetCount</title>
<path fill="none" stroke="#000000" d="M2104.6015,-1127.4741C2161.5757,-1115.2781 2223.0748,-1102.1135 2263.2891,-1093.5052"/>
<polygon fill="#000000" stroke="#000000" points="2264.2442,-1096.8801 2273.29,-1091.3643 2262.7789,-1090.0352 2264.2442,-1096.8801"/>
</g>
<!-- MemeTableRep_InsertKey -->
<g id="node32" class="node">
<title>MemeTableRep_InsertKey</title>
<polygon fill="none" stroke="#000000" points="2391.6026,-188 2223.7832,-188 2223.7832,-152 2391.6026,-152 2391.6026,-188"/>
<text text-anchor="middle" x="2307.6929" y="-165.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemeTableRep_InsertKey</text>
</g>
<!-- MemTable_Add&#45;&gt;MemeTableRep_InsertKey -->
<g id="edge34" class="edge">
<title>MemTable_Add&#45;&gt;MemeTableRep_InsertKey</title>
<path fill="none" stroke="#000000" d="M2016.3936,-250.0517C2074.5391,-234.0728 2167.1429,-208.6244 2232.3009,-190.7184"/>
<polygon fill="#000000" stroke="#000000" points="2233.3951,-194.0475 2242.1102,-188.0227 2231.5402,-187.2978 2233.3951,-194.0475"/>
</g>
<!-- MemeTableRep_InsertKeyWithHint -->
<g id="node34" class="node">
<title>MemeTableRep_InsertKeyWithHint</title>
<polygon fill="none" stroke="#000000" points="2417.4313,-102 2197.9544,-102 2197.9544,-66 2417.4313,-66 2417.4313,-102"/>
<text text-anchor="middle" x="2307.6929" y="-79.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemeTableRep_InsertKeyWithHint</text>
</g>
<!-- MemTable_Add&#45;&gt;MemeTableRep_InsertKeyWithHint -->
<g id="edge35" class="edge">
<title>MemTable_Add&#45;&gt;MemeTableRep_InsertKeyWithHint</title>
<path fill="none" stroke="#000000" d="M1994.2068,-246.9979C2037.7027,-222.8128 2117.7672,-178.7381 2187.1152,-143 2211.1331,-130.6226 2238.1271,-117.3552 2260.4755,-106.5425"/>
<polygon fill="#000000" stroke="#000000" points="2262.2616,-109.5669 2269.7467,-102.0686 2259.2193,-103.2625 2262.2616,-109.5669"/>
</g>
<!-- MemeTable -->
<g id="node36" class="node">
<title>MemeTable</title>
<polygon fill="none" stroke="#000000" points="2187.1152,-247 2187.1152,-291 2428.2705,-291 2428.2705,-247 2187.1152,-247"/>
<text text-anchor="middle" x="2307.6929" y="-275.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemeTable</text>
<polyline fill="none" stroke="#000000" points="2187.1152,-269 2428.2705,-269 "/>
<text text-anchor="middle" x="2307.6929" y="-253.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;MemTableRep&gt; table_;</text>
</g>
<!-- MemTable_Add&#45;&gt;MemeTable -->
<g id="edge36" class="edge">
<title>MemTable_Add&#45;&gt;MemeTable</title>
<path fill="none" stroke="#000000" d="M2016.3936,-265.6294C2059.3536,-266.1265 2121.1237,-266.8412 2176.737,-267.4847"/>
<polygon fill="#000000" stroke="#000000" points="2177.0038,-270.9879 2187.0436,-267.604 2177.0848,-263.9884 2177.0038,-270.9879"/>
</g>
<!-- MemeTableRep -->
<g id="node29" class="node">
<title>MemeTableRep</title>
<polygon fill="none" stroke="#000000" points="2614.8366,-194 2509.4182,-194 2509.4182,-158 2614.8366,-158 2614.8366,-194"/>
<text text-anchor="middle" x="2562.1274" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemeTableRep</text>
</g>
<!-- VectorRep -->
<g id="node30" class="node">
<title>VectorRep</title>
<polygon fill="none" stroke="#000000" points="2811.0752,-194 2735.8955,-194 2735.8955,-158 2811.0752,-158 2811.0752,-194"/>
<text text-anchor="middle" x="2773.4854" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#000000">VectorRep</text>
</g>
<!-- MemeTableRep&#45;&gt;VectorRep -->
<g id="edge29" class="edge">
<title>MemeTableRep&#45;&gt;VectorRep</title>
<path fill="none" stroke="#000000" d="M2614.9168,-176C2648.7882,-176 2692.4263,-176 2725.3471,-176"/>
<polygon fill="#000000" stroke="#000000" points="2725.6331,-179.5001 2735.6331,-176 2725.633,-172.5001 2725.6331,-179.5001"/>
</g>
<!-- SkipListRep -->
<g id="node31" class="node">
<title>SkipListRep</title>
<polygon fill="none" stroke="#000000" points="2816.4922,-114 2730.4785,-114 2730.4785,-78 2816.4922,-78 2816.4922,-114"/>
<text text-anchor="middle" x="2773.4854" y="-91.8" font-family="Times,serif" font-size="14.00" fill="#000000">SkipListRep</text>
</g>
<!-- MemeTableRep&#45;&gt;SkipListRep -->
<g id="edge30" class="edge">
<title>MemeTableRep&#45;&gt;SkipListRep</title>
<path fill="none" stroke="#000000" d="M2614.8885,-172.0872C2632.4324,-168.9801 2651.4415,-163.5239 2666.9844,-154 2684.5028,-143.2655 2678.8511,-129.339 2695.9844,-118 2703.4418,-113.0646 2712.0085,-109.2221 2720.6653,-106.2346"/>
<polygon fill="#000000" stroke="#000000" points="2721.9063,-109.5143 2730.4229,-103.2121 2719.835,-102.8277 2721.9063,-109.5143"/>
</g>
<!-- SkipListRep_InsertKey -->
<g id="node33" class="node">
<title>SkipListRep_InsertKey</title>
<polygon fill="none" stroke="#000000" points="2636.3346,-114 2487.9203,-114 2487.9203,-78 2636.3346,-78 2636.3346,-114"/>
<text text-anchor="middle" x="2562.1274" y="-91.8" font-family="Times,serif" font-size="14.00" fill="#000000">SkipListRep_InsertKey</text>
</g>
<!-- MemeTableRep_InsertKey&#45;&gt;SkipListRep_InsertKey -->
<g id="edge31" class="edge">
<title>MemeTableRep_InsertKey&#45;&gt;SkipListRep_InsertKey</title>
<path fill="none" stroke="#000000" d="M2358.4117,-151.8965C2389.1157,-141.2798 2429.187,-128.0271 2465.2705,-118 2469.3825,-116.8573 2473.6048,-115.73 2477.8775,-114.6256"/>
<polygon fill="#000000" stroke="#000000" points="2479.0707,-117.9344 2487.9106,-112.0943 2477.3582,-111.147 2479.0707,-117.9344"/>
</g>
<!-- SkipListRep_InsertWithHint -->
<g id="node35" class="node">
<title>SkipListRep_InsertWithHint</title>
<polygon fill="none" stroke="#000000" points="2650.8395,-60 2473.4154,-60 2473.4154,-24 2650.8395,-24 2650.8395,-60"/>
<text text-anchor="middle" x="2562.1274" y="-37.8" font-family="Times,serif" font-size="14.00" fill="#000000">SkipListRep_InsertWithHint</text>
</g>
<!-- MemeTableRep_InsertKeyWithHint&#45;&gt;SkipListRep_InsertWithHint -->
<g id="edge32" class="edge">
<title>MemeTableRep_InsertKeyWithHint&#45;&gt;SkipListRep_InsertWithHint</title>
<path fill="none" stroke="#000000" d="M2417.0726,-65.9445C2432.284,-63.4335 2447.8425,-60.8652 2462.8548,-58.3871"/>
<polygon fill="#000000" stroke="#000000" points="2463.8533,-61.7697 2473.1497,-56.6877 2462.7132,-54.8632 2463.8533,-61.7697"/>
</g>
<!-- MemeTable&#45;&gt;MemeTableRep -->
<g id="edge33" class="edge">
<title>MemeTable:MemeTableRep&#45;&gt;MemeTableRep</title>
<path fill="none" stroke="#000000" d="M2428.6929,-258C2472.5544,-258 2514.1208,-225.4411 2538.8688,-201.3557"/>
<polygon fill="#000000" stroke="#000000" points="2541.419,-203.755 2545.9932,-194.1985 2536.4579,-198.8166 2541.419,-203.755"/>
</g>
<!-- log_Writer_AddRecord -->
<g id="node44" class="node">
<title>log_Writer_AddRecord</title>
<polygon fill="none" stroke="#000000" points="2382.0987,-932 2233.287,-932 2233.287,-896 2382.0987,-896 2382.0987,-932"/>
<text text-anchor="middle" x="2307.6929" y="-909.8" font-family="Times,serif" font-size="14.00" fill="#000000">log_Writer_AddRecord</text>
</g>
<!-- Contents&#45;&gt;log_Writer_AddRecord -->
<g id="edge61" class="edge">
<title>Contents&#45;&gt;log_Writer_AddRecord</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M2035.869,-1071.1607C2072.8233,-1068.0514 2116.6779,-1059.2395 2150.1152,-1037 2175.2634,-1020.2737 2164.9737,-1000.5414 2187.1152,-980 2206.4127,-962.0971 2231.4659,-947.369 2253.7323,-936.4035"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="2255.2445,-939.5601 2262.7547,-932.0869 2252.2234,-933.2455 2255.2445,-939.5601"/>
</g>
<!-- WriteBatch_Put -->
<g id="node38" class="node">
<title>WriteBatch_Put</title>
<polygon fill="#f38181" stroke="#000000" points="806.3311,-992.4001 806.3311,-1061.5999 937.0244,-1061.5999 937.0244,-992.4001 806.3311,-992.4001"/>
<text text-anchor="middle" x="871.6777" y="-1046.3999" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch::Put</text>
<polyline fill="none" stroke="#000000" points="806.3311,-1039.5999 937.0244,-1039.5999 "/>
<text text-anchor="start" x="814.3311" y="-1024.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将key/value写入</text>
<text text-anchor="start" x="814.3311" y="-1004.8" font-family="Times,serif" font-size="14.00" fill="#000000"> batch的rep_内存中</text>
</g>
<!-- WriteBatch_Put&#45;&gt;Put -->
<g id="edge57" class="edge">
<title>WriteBatch_Put&#45;&gt;Put</title>
<path fill="none" stroke="#000000" d="M937.1281,-1013.9033C990.6933,-1004.3254 1068.5501,-993 1137.2207,-993 1137.2207,-993 1137.2207,-993 1619.4351,-993 1673.3096,-993 1695.6246,-988.3546 1736.8818,-1023 1767.5007,-1048.7119 1743.5807,-1078.9144 1773.8818,-1105 1784.7462,-1114.3529 1797.1484,-1122.0622 1810.2849,-1128.4157"/>
<polygon fill="#000000" stroke="#000000" points="1808.9351,-1131.6468 1819.4868,-1132.6012 1811.8333,-1125.2749 1808.9351,-1131.6468"/>
</g>
<!-- InsertInto -->
<g id="node40" class="node">
<title>InsertInto</title>
<polygon fill="#f38181" stroke="#000000" points="1081.0103,-1012.4001 1081.0103,-1081.5999 1193.4312,-1081.5999 1193.4312,-1012.4001 1081.0103,-1012.4001"/>
<text text-anchor="middle" x="1137.2207" y="-1066.3999" font-family="Times,serif" font-size="14.00" fill="#000000">InsertInto</text>
<polyline fill="none" stroke="#000000" points="1081.0103,-1059.5999 1193.4312,-1059.5999 "/>
<text text-anchor="start" x="1089.0103" y="-1044.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将key/value插入</text>
<text text-anchor="start" x="1089.0103" y="-1024.8" font-family="Times,serif" font-size="14.00" fill="#000000"> MemTable中</text>
</g>
<!-- WriteBatch_Put&#45;&gt;InsertInto -->
<g id="edge59" class="edge">
<title>WriteBatch_Put&#45;&gt;InsertInto</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M937.3176,-1031.9438C977.9525,-1035.0043 1029.972,-1038.9223 1070.7591,-1041.9943"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="1070.6382,-1045.495 1080.8729,-1042.756 1071.164,-1038.5148 1070.6382,-1045.495"/>
</g>
<!-- WriteToWAL -->
<g id="node49" class="node">
<title>WriteToWAL</title>
<polygon fill="#f38181" stroke="#000000" points="1225.6328,-870.4001 1225.6328,-939.5999 1359.457,-939.5999 1359.457,-870.4001 1225.6328,-870.4001"/>
<text text-anchor="middle" x="1292.5449" y="-924.3999" font-family="Times,serif" font-size="14.00" fill="#000000">WriteToWAL</text>
<polyline fill="none" stroke="#000000" points="1225.6328,-917.5999 1359.457,-917.5999 "/>
<text text-anchor="start" x="1233.6328" y="-902.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将WriteBatch的rep_</text>
<text text-anchor="start" x="1233.6328" y="-882.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 内容写入WAL日志</text>
</g>
<!-- WriteBatch_Put&#45;&gt;WriteToWAL -->
<g id="edge60" class="edge">
<title>WriteBatch_Put&#45;&gt;WriteToWAL</title>
<path fill="none" stroke="#c0c0c0" stroke-dasharray="5,2" d="M937.4382,-1007.9375C1012.7077,-986.1186 1135.8402,-950.4252 1215.5291,-927.3252"/>
<polygon fill="#c0c0c0" stroke="#c0c0c0" points="1216.8782,-930.5782 1225.5083,-924.4324 1214.9293,-923.855 1216.8782,-930.5782"/>
</g>
<!-- WriteBatchInternal -->
<g id="node39" class="node">
<title>WriteBatchInternal</title>
<polygon fill="none" stroke="#000000" points="160.1846,-1145.8002 160.1846,-1254.1998 325.6865,-1254.1998 325.6865,-1145.8002 160.1846,-1145.8002"/>
<text text-anchor="middle" x="242.9355" y="-1238.9998" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchInternal</text>
<polyline fill="none" stroke="#000000" points="160.1846,-1232.1998 325.6865,-1232.1998 "/>
<text text-anchor="start" x="168.1846" y="-1216.9998" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatchInternal提供了</text>
<text text-anchor="start" x="168.1846" y="-1197.3999" font-family="Times,serif" font-size="14.00" fill="#000000"> 一些static member函数</text>
<text text-anchor="start" x="168.1846" y="-1177.8" font-family="Times,serif" font-size="14.00" fill="#000000"> Put/Delete/Merge等</text>
<text text-anchor="start" x="168.1846" y="-1158.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> 用来修改WriteBatch</text>
</g>
<!-- WriteBatchInternal&#45;&gt;WriteBatch -->
<g id="edge38" class="edge">
<title>WriteBatchInternal&#45;&gt;WriteBatch</title>
<path fill="none" stroke="#000000" d="M296.8825,-1254.3993C307.4648,-1267.0171 317.7342,-1280.9024 325.6865,-1295 375.897,-1384.0106 337.1001,-1433.7625 395.2492,-1516.6452"/>
<polygon fill="#000000" stroke="#000000" points="392.4606,-1518.7613 401.1854,-1524.7719 398.1132,-1514.6323 392.4606,-1518.7613"/>
</g>
<!-- InsertInto&#45;&gt;MaybeAdvanceSeq -->
<g id="edge43" class="edge">
<title>InsertInto&#45;&gt;MaybeAdvanceSeq</title>
<path fill="none" stroke="#364f6b" d="M1193.7353,-1042.623C1265.3999,-1037.2243 1392.7911,-1028.1335 1501.9883,-1023 1638.5804,-1016.5786 1798.1476,-1012.9327 1888.9144,-1011.2213"/>
<polygon fill="#364f6b" stroke="#364f6b" points="1889.1638,-1014.7174 1899.0969,-1011.0321 1889.0336,-1007.7186 1889.1638,-1014.7174"/>
</g>
<!-- Iterate -->
<g id="node41" class="node">
<title>Iterate</title>
<polygon fill="none" stroke="#000000" points="1501.9883,-1032.8002 1501.9883,-1141.1998 1736.8818,-1141.1998 1736.8818,-1032.8002 1501.9883,-1032.8002"/>
<text text-anchor="middle" x="1619.4351" y="-1125.9998" font-family="Times,serif" font-size="14.00" fill="#000000">Iterate</text>
<polyline fill="none" stroke="#000000" points="1501.9883,-1119.1998 1736.8818,-1119.1998 "/>
<text text-anchor="start" x="1509.9883" y="-1103.9998" font-family="Times,serif" font-size="14.00" fill="#000000">迭代遍历每一个record</text>
<text text-anchor="start" x="1509.9883" y="-1084.3999" font-family="Times,serif" font-size="14.00" fill="#000000"> 插入memtable中</text>
<text text-anchor="start" x="1509.9883" y="-1064.8" font-family="Times,serif" font-size="14.00" fill="#000000"> MemTable由WriteBatch_handler抽象</text>
<text text-anchor="start" x="1509.9883" y="-1045.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> 由MemTableInsertor实现</text>
</g>
<!-- InsertInto&#45;&gt;Iterate -->
<g id="edge44" class="edge">
<title>InsertInto&#45;&gt;Iterate</title>
<path fill="none" stroke="#364f6b" d="M1193.4806,-1051.6668C1266.0659,-1057.6878 1394.5099,-1068.3423 1491.4289,-1076.3818"/>
<polygon fill="#364f6b" stroke="#364f6b" points="1491.3411,-1079.8865 1501.5963,-1077.2252 1491.9199,-1072.9104 1491.3411,-1079.8865"/>
</g>
<!-- SetSequence -->
<g id="node43" class="node">
<title>SetSequence</title>
<polygon fill="none" stroke="#000000" points="1464.7552,-1198 1377.6902,-1198 1377.6902,-1162 1464.7552,-1162 1464.7552,-1198"/>
<text text-anchor="middle" x="1421.2227" y="-1175.8" font-family="Times,serif" font-size="14.00" fill="#000000">SetSequence</text>
</g>
<!-- InsertInto&#45;&gt;SetSequence -->
<g id="edge45" class="edge">
<title>InsertInto&#45;&gt;SetSequence</title>
<path fill="none" stroke="#364f6b" d="M1193.6699,-1073.4355C1246.2517,-1098.0599 1323.7847,-1134.3692 1373.3944,-1157.6017"/>
<polygon fill="#364f6b" stroke="#364f6b" points="1372.0836,-1160.8526 1382.6242,-1161.9241 1375.0524,-1154.5133 1372.0836,-1160.8526"/>
</g>
<!-- Iterate&#45;&gt;ReadRecordFromWriteBatch -->
<g id="edge46" class="edge">
<title>Iterate&#45;&gt;ReadRecordFromWriteBatch</title>
<path fill="none" stroke="#f08a5d" d="M1672.9647,-1141.4004C1700.7286,-1166.3504 1736.5894,-1193.9003 1773.8818,-1210 1801.2495,-1221.8151 1832.7304,-1228.6535 1862.0126,-1232.5564"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1861.9155,-1236.0708 1872.268,-1233.8178 1862.7701,-1229.1231 1861.9155,-1236.0708"/>
</g>
<!-- Iterate&#45;&gt;PutCF -->
<g id="edge47" class="edge">
<title>Iterate&#45;&gt;PutCF</title>
<path fill="none" stroke="#f08a5d" d="M1573.2804,-1141.2378C1541.1261,-1182.7742 1500.9852,-1243.1142 1483.4883,-1304 1470.2309,-1350.1329 1458.0317,-1695.3065 1483.4883,-1736 1503.6989,-1768.3076 1549.3714,-1775.776 1582.2042,-1776.6486"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1582.3389,-1780.1496 1592.3644,-1776.7233 1582.3905,-1773.1498 1582.3389,-1780.1496"/>
</g>
<!-- SetCount&#45;&gt;WriteBatch_Rep -->
<g id="edge39" class="edge">
<title>SetCount&#45;&gt;WriteBatch_Rep:count</title>
<path fill="none" stroke="#000000" d="M2287.7048,-1065.7013C2259.5098,-1041.2625 2205.3103,-999.1705 2150.1152,-983 1989.6453,-935.9871 1898.889,-871.9414 1773.8818,-983 1721.6861,-1029.3716 1770.5098,-1233.8128 1736.8818,-1295 1723.0602,-1320.1489 1714.8139,-1336.8662 1690.5596,-1340.331"/>
<polygon fill="#000000" stroke="#000000" points="1690.1825,-1336.8482 1680.4351,-1341 1690.6441,-1343.833 1690.1825,-1336.8482"/>
</g>
<!-- SetSequence&#45;&gt;WriteBatch_Rep -->
<g id="edge40" class="edge">
<title>SetSequence&#45;&gt;WriteBatch_Rep:sequnce</title>
<path fill="none" stroke="#000000" d="M1430.2,-1198.2158C1451.7812,-1240.8873 1507.7933,-1344.9256 1548.4576,-1360.9212"/>
<polygon fill="#000000" stroke="#000000" points="1547.9314,-1364.3866 1558.4351,-1363 1549.3592,-1357.5338 1547.9314,-1364.3866"/>
</g>
<!-- WritableFileWriter_AddRecord -->
<g id="node45" class="node">
<title>WritableFileWriter_AddRecord</title>
<polygon fill="none" stroke="#000000" points="2658.8415,-886 2465.4134,-886 2465.4134,-850 2658.8415,-850 2658.8415,-886"/>
<text text-anchor="middle" x="2562.1274" y="-863.8" font-family="Times,serif" font-size="14.00" fill="#000000">WritableFileWriter_AddRecord</text>
</g>
<!-- log_Writer_AddRecord&#45;&gt;WritableFileWriter_AddRecord -->
<g id="edge48" class="edge">
<title>log_Writer_AddRecord&#45;&gt;WritableFileWriter_AddRecord</title>
<path fill="none" stroke="#000000" d="M2381.9699,-900.5712C2404.7882,-896.4458 2430.3723,-891.8204 2454.9348,-887.3797"/>
<polygon fill="#000000" stroke="#000000" points="2455.8015,-890.7798 2465.0193,-885.5565 2454.5561,-883.8915 2455.8015,-890.7798"/>
</g>
<!-- WritableFileWriter_Flush -->
<g id="node46" class="node">
<title>WritableFileWriter_Flush</title>
<polygon fill="none" stroke="#000000" points="2642.4275,-940 2481.8274,-940 2481.8274,-904 2642.4275,-904 2642.4275,-940"/>
<text text-anchor="middle" x="2562.1274" y="-917.8" font-family="Times,serif" font-size="14.00" fill="#000000">WritableFileWriter_Flush</text>
</g>
<!-- log_Writer_AddRecord&#45;&gt;WritableFileWriter_Flush -->
<g id="edge49" class="edge">
<title>log_Writer_AddRecord&#45;&gt;WritableFileWriter_Flush</title>
<path fill="none" stroke="#000000" d="M2381.9699,-916.3354C2409.9174,-917.2142 2442.0138,-918.2234 2471.3007,-919.1442"/>
<polygon fill="#000000" stroke="#000000" points="2471.4262,-922.6498 2481.5313,-919.4659 2471.6463,-915.6532 2471.4262,-922.6498"/>
</g>
<!-- DBImpl_Write -->
<g id="node47" class="node">
<title>DBImpl_Write</title>
<polygon fill="none" stroke="#000000" points="486.897,-880 486.897,-916 587.8813,-916 587.8813,-880 486.897,-880"/>
<text text-anchor="middle" x="537.3892" y="-893.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl::Write</text>
</g>
<!-- DBImpl_WriteImpl -->
<g id="node48" class="node">
<title>DBImpl_WriteImpl</title>
<polygon fill="none" stroke="#000000" points="807.9648,-880.2 807.9648,-929.8 935.3906,-929.8 935.3906,-880.2 807.9648,-880.2"/>
<text text-anchor="middle" x="871.6777" y="-914.6" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl::WriteImpl</text>
<polyline fill="none" stroke="#000000" points="807.9648,-907.8 935.3906,-907.8 "/>
<text text-anchor="middle" x="871.6777" y="-892.6" font-family="Times,serif" font-size="14.00" fill="#000000">Write的具体实现</text>
</g>
<!-- DBImpl_Write&#45;&gt;DBImpl_WriteImpl -->
<g id="edge50" class="edge">
<title>DBImpl_Write&#45;&gt;DBImpl_WriteImpl</title>
<path fill="none" stroke="#000000" d="M588.1604,-899.0631C643.8719,-900.2297 733.8266,-902.1134 797.4519,-903.4457"/>
<polygon fill="#000000" stroke="#000000" points="797.7516,-906.9527 807.8227,-903.6629 797.8982,-899.9542 797.7516,-906.9527"/>
</g>
<!-- DBImpl_WriteImpl&#45;&gt;InsertInto -->
<g id="edge51" class="edge">
<title>DBImpl_WriteImpl&#45;&gt;InsertInto</title>
<path fill="none" stroke="#000000" d="M928.0798,-929.8422C958.6156,-943.7659 996.7492,-961.9271 1029.8086,-980 1044.9622,-988.2842 1060.933,-997.7952 1075.7917,-1006.9994"/>
<polygon fill="#000000" stroke="#000000" points="1074.061,-1010.045 1084.3972,-1012.3717 1077.7679,-1004.1071 1074.061,-1010.045"/>
</g>
<!-- DBImpl_WriteImpl&#45;&gt;WriteToWAL -->
<g id="edge52" class="edge">
<title>DBImpl_WriteImpl&#45;&gt;WriteToWAL</title>
<path fill="none" stroke="#000000" d="M935.5984,-905C1010.6861,-905 1135.1822,-905 1215.5239,-905"/>
<polygon fill="#000000" stroke="#000000" points="1215.5829,-908.5001 1225.5829,-905 1215.5829,-901.5001 1215.5829,-908.5001"/>
</g>
<!-- WriteToWAL&#45;&gt;Contents -->
<g id="edge53" class="edge">
<title>WriteToWAL&#45;&gt;Contents</title>
<path fill="none" stroke="#3ec1d3" d="M1359.7534,-916.9307C1487.9664,-939.7053 1754.9305,-987.2019 1755.8818,-988 1773.6565,-1002.9108 1756.1188,-1022.0754 1773.8818,-1037 1802.4436,-1060.9978 1842.1908,-1070.4766 1877.7943,-1073.5598"/>
<polygon fill="#3ec1d3" stroke="#3ec1d3" points="1877.9805,-1077.0816 1888.202,-1074.2937 1878.473,-1070.0989 1877.9805,-1077.0816"/>
</g>
<!-- WriteToWAL&#45;&gt;log_Writer_AddRecord -->
<g id="edge54" class="edge">
<title>WriteToWAL&#45;&gt;log_Writer_AddRecord</title>
<path fill="none" stroke="#3ec1d3" d="M1359.7036,-905.5234C1396.2983,-905.7654 1442.3819,-906 1483.4883,-906 1483.4883,-906 1483.4883,-906 1961.9985,-906 2051.1162,-906 2153.1222,-908.6901 2223.1024,-910.9504"/>
<polygon fill="#3ec1d3" stroke="#3ec1d3" points="2223.0805,-914.4515 2233.1896,-911.2804 2223.3094,-907.4552 2223.0805,-914.4515"/>
</g>
<!-- DB_Write -->
<g id="node50" class="node">
<title>DB_Write</title>
<polygon fill="none" stroke="#000000" points="279.6996,-912 206.1715,-912 206.1715,-876 279.6996,-876 279.6996,-912"/>
<text text-anchor="middle" x="242.9355" y="-889.8" font-family="Times,serif" font-size="14.00" fill="#000000">DB_Write</text>
</g>
<!-- DB_Write&#45;&gt;DBImpl_Write -->
<g id="edge55" class="edge">
<title>DB_Write&#45;&gt;DBImpl_Write</title>
<path fill="none" stroke="#000000" d="M279.9302,-894.5026C329.2538,-895.1726 417.2,-896.3673 476.4059,-897.1716"/>
<polygon fill="#000000" stroke="#000000" points="476.6983,-900.6758 486.7449,-897.312 476.7934,-893.6764 476.6983,-900.6758"/>
<text text-anchor="middle" x="361.959" y="-898.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual</text>
</g>
<!-- DB_Put -->
<g id="node51" class="node">
<title>DB_Put</title>
<polygon fill="none" stroke="#000000" points="100.2164,-912 38.9681,-912 38.9681,-876 100.2164,-876 100.2164,-912"/>
<text text-anchor="middle" x="69.5923" y="-889.8" font-family="Times,serif" font-size="14.00" fill="#000000">DB_Put</text>
</g>
<!-- DB_Put&#45;&gt;WriteBatch_Put -->
<g id="edge56" class="edge">
<title>DB_Put&#45;&gt;WriteBatch_Put</title>
<path fill="none" stroke="#000000" d="M100.2654,-879.8088C196.4045,-837.6584 496.1689,-724.2138 676.5469,-858 722.0564,-891.7543 673.3704,-940.0461 713.5469,-980 735.437,-1001.7688 766.9281,-1013.5384 796.0542,-1019.8698"/>
<polygon fill="#000000" stroke="#000000" points="795.7483,-1023.3773 806.2382,-1021.89 797.1104,-1016.5111 795.7483,-1023.3773"/>
</g>
<!-- DB_Put&#45;&gt;DB_Write -->
<g id="edge58" class="edge">
<title>DB_Put&#45;&gt;DB_Write</title>
<path fill="none" stroke="#000000" d="M100.1836,-894C126.6143,-894 165.2387,-894 195.648,-894"/>
<polygon fill="#000000" stroke="#000000" points="196.0281,-897.5001 206.028,-894 196.028,-890.5001 196.0281,-897.5001"/>
</g>
</g>
</svg>
