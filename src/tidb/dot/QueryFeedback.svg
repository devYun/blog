<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: QueryFeedback Pages: 1 -->
<svg width="3260pt" height="971pt"
 viewBox="0.00 0.00 3260.00 970.99" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 966.99)">
<title>QueryFeedback</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-966.99 3256,-966.99 3256,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_go</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M37,-582C37,-582 1194.5,-582 1194.5,-582 1200.5,-582 1206.5,-588 1206.5,-594 1206.5,-594 1206.5,-654 1206.5,-654 1206.5,-660 1200.5,-666 1194.5,-666 1194.5,-666 37,-666 37,-666 31,-666 25,-660 25,-654 25,-654 25,-594 25,-594 25,-588 31,-582 37,-582"/>
<text text-anchor="middle" x="615.75" y="-646" font-family="Times,serif" font-size="20.00">start updateStatsWorker goroutine</text>
</g>
<!-- Feedbacks -->
<g id="node1" class="node">
<title>Feedbacks</title>
<polygon fill="none" stroke="black" points="1897.5,-605.5 1897.5,-812.5 2030.5,-812.5 2030.5,-605.5 1897.5,-605.5"/>
<text text-anchor="middle" x="1964" y="-797.3" font-family="Times,serif" font-size="14.00">QueryFeedback</text>
<polyline fill="none" stroke="black" points="1897.5,-789.5 2030.5,-789.5 "/>
<text text-anchor="start" x="1905.5" y="-774.3" font-family="Times,serif" font-size="14.00">PhysicalID int64</text>
<polyline fill="none" stroke="black" points="1897.5,-766.5 2030.5,-766.5 "/>
<text text-anchor="start" x="1905.5" y="-751.3" font-family="Times,serif" font-size="14.00">Hist *Histogram</text>
<polyline fill="none" stroke="black" points="1897.5,-743.5 2030.5,-743.5 "/>
<text text-anchor="start" x="1905.5" y="-728.3" font-family="Times,serif" font-size="14.00">Tp int</text>
<polyline fill="none" stroke="black" points="1897.5,-720.5 2030.5,-720.5 "/>
<text text-anchor="start" x="1905.5" y="-705.3" font-family="Times,serif" font-size="14.00">Feedback []Feedback</text>
<polyline fill="none" stroke="black" points="1897.5,-697.5 2030.5,-697.5 "/>
<text text-anchor="start" x="1905.5" y="-682.3" font-family="Times,serif" font-size="14.00">Expected int64</text>
<polyline fill="none" stroke="black" points="1897.5,-674.5 2030.5,-674.5 "/>
<text text-anchor="start" x="1905.5" y="-659.3" font-family="Times,serif" font-size="14.00">actual int64</text>
<polyline fill="none" stroke="black" points="1897.5,-651.5 2030.5,-651.5 "/>
<text text-anchor="start" x="1905.5" y="-636.3" font-family="Times,serif" font-size="14.00">Valid bool</text>
<polyline fill="none" stroke="black" points="1897.5,-628.5 2030.5,-628.5 "/>
<text text-anchor="start" x="1905.5" y="-613.3" font-family="Times,serif" font-size="14.00">desc bool</text>
</g>
<!-- Feedback -->
<g id="node2" class="node">
<title>Feedback</title>
<polygon fill="none" stroke="black" points="2139,-837.5 2139,-952.5 2271,-952.5 2271,-837.5 2139,-837.5"/>
<text text-anchor="middle" x="2205" y="-937.3" font-family="Times,serif" font-size="14.00">Feedback</text>
<polyline fill="none" stroke="black" points="2139,-929.5 2271,-929.5 "/>
<text text-anchor="start" x="2147" y="-914.3" font-family="Times,serif" font-size="14.00">Lower *types.Datum</text>
<polyline fill="none" stroke="black" points="2139,-906.5 2271,-906.5 "/>
<text text-anchor="start" x="2147" y="-891.3" font-family="Times,serif" font-size="14.00">Upper *types.Datum</text>
<polyline fill="none" stroke="black" points="2139,-883.5 2271,-883.5 "/>
<text text-anchor="start" x="2147" y="-868.3" font-family="Times,serif" font-size="14.00">Count int64</text>
<polyline fill="none" stroke="black" points="2139,-860.5 2271,-860.5 "/>
<text text-anchor="start" x="2147" y="-845.3" font-family="Times,serif" font-size="14.00">Repeat int64</text>
</g>
<!-- Feedbacks&#45;&gt;Feedback -->
<g id="edge1" class="edge">
<title>Feedbacks:Feedback&#45;&gt;Feedback</title>
<path fill="none" stroke="#666666" d="M2032,-709C2099.04,-709 2147.23,-774.95 2175.24,-828.3"/>
<polygon fill="#666666" stroke="#666666" points="2172.24,-830.11 2179.9,-837.42 2178.47,-826.92 2172.24,-830.11"/>
</g>
<!-- getTableByPhysicalID -->
<g id="node20" class="node">
<title>getTableByPhysicalID</title>
<polygon fill="none" stroke="black" points="2363,-474 2363,-520 2556,-520 2556,-474 2363,-474"/>
<text text-anchor="middle" x="2459.5" y="-504.8" font-family="Times,serif" font-size="14.00">getTableByPhysicalID</text>
<polyline fill="none" stroke="black" points="2363,-497 2556,-497 "/>
<text text-anchor="start" x="2371" y="-481.8" font-family="Times,serif" font-size="14.00">根据PhysicalID获取Talbe信息</text>
</g>
<!-- Feedbacks&#45;&gt;getTableByPhysicalID -->
<g id="edge60" class="edge">
<title>Feedbacks&#45;&gt;getTableByPhysicalID</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2030.86,-643.63C2055.04,-622.65 2083.7,-600.98 2113,-586 2188.43,-547.42 2281.88,-524.66 2352.56,-511.83"/>
<polygon fill="darkblue" stroke="darkblue" points="2353.59,-515.2 2362.82,-510.01 2352.36,-508.31 2353.59,-515.2"/>
</g>
<!-- UpdateHistogram -->
<g id="node25" class="node">
<title>UpdateHistogram</title>
<polygon fill="none" stroke="black" points="2761.5,-701 2648.5,-701 2648.5,-665 2761.5,-665 2761.5,-701"/>
<text text-anchor="middle" x="2705" y="-679.3" font-family="Times,serif" font-size="14.00">UpdateHistogram</text>
</g>
<!-- Feedback&#45;&gt;UpdateHistogram -->
<g id="edge64" class="edge">
<title>Feedback&#45;&gt;UpdateHistogram</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2271.17,-907.52C2351.08,-919.31 2487.85,-927.57 2585,-870 2616.44,-851.37 2666.72,-757.47 2690.59,-710.23"/>
<polygon fill="darkblue" stroke="darkblue" points="2693.78,-711.67 2695.13,-701.17 2687.52,-708.54 2693.78,-711.67"/>
</g>
<!-- SplitFeedbackByQueryType -->
<g id="node26" class="node">
<title>SplitFeedbackByQueryType</title>
<polygon fill="none" stroke="black" points="2334,-761.5 2334,-860.5 2585,-860.5 2585,-761.5 2334,-761.5"/>
<text text-anchor="middle" x="2459.5" y="-845.3" font-family="Times,serif" font-size="14.00">SplitFeedbackByQueryType</text>
<polyline fill="none" stroke="black" points="2334,-837.5 2585,-837.5 "/>
<text text-anchor="start" x="2342" y="-822.3" font-family="Times,serif" font-size="14.00">splits the feedbacks into equality</text>
<text text-anchor="start" x="2342" y="-807.3" font-family="Times,serif" font-size="14.00"> feedbacks and range feedbacks</text>
<polyline fill="none" stroke="black" points="2334,-799.5 2585,-799.5 "/>
<text text-anchor="start" x="2342" y="-784.3" font-family="Times,serif" font-size="14.00">equality feedbacks 传给UpdateCMSKetch</text>
<text text-anchor="start" x="2342" y="-769.3" font-family="Times,serif" font-size="14.00"> range feedbacks 传给UpdateHistogram</text>
</g>
<!-- Feedback&#45;&gt;SplitFeedbackByQueryType -->
<g id="edge63" class="edge">
<title>Feedback&#45;&gt;SplitFeedbackByQueryType</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2271.03,-873.37C2287.45,-867.9 2305.7,-861.83 2324.18,-855.68"/>
<polygon fill="darkblue" stroke="darkblue" points="2325.47,-858.94 2333.86,-852.47 2323.26,-852.3 2325.47,-858.94"/>
</g>
<!-- UpdateCMSketch -->
<g id="node27" class="node">
<title>UpdateCMSketch</title>
<polygon fill="none" stroke="black" points="2762,-882 2648,-882 2648,-846 2762,-846 2762,-882"/>
<text text-anchor="middle" x="2705" y="-860.3" font-family="Times,serif" font-size="14.00">UpdateCMSketch</text>
</g>
<!-- Feedback&#45;&gt;UpdateCMSketch -->
<g id="edge65" class="edge">
<title>Feedback&#45;&gt;UpdateCMSketch</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2271.23,-927.47C2285.33,-933.08 2300.4,-938.05 2315,-941 2432.62,-964.8 2469.91,-974.99 2585,-941 2619.47,-930.82 2653.35,-907.19 2676.08,-888.77"/>
<polygon fill="darkblue" stroke="darkblue" points="2678.47,-891.34 2683.94,-882.26 2674,-885.95 2678.47,-891.34"/>
</g>
<!-- main -->
<g id="node3" class="node">
<title>main</title>
<polygon fill="none" stroke="black" points="87,-627 33,-627 33,-591 87,-591 87,-627"/>
<text text-anchor="middle" x="60" y="-605.3" font-family="Times,serif" font-size="14.00">main</text>
</g>
<!-- createStoreAndDomain -->
<g id="node4" class="node">
<title>createStoreAndDomain</title>
<polygon fill="none" stroke="black" points="302,-627 157,-627 157,-591 302,-591 302,-627"/>
<text text-anchor="middle" x="229.5" y="-605.3" font-family="Times,serif" font-size="14.00">createStoreAndDomain</text>
</g>
<!-- main&#45;&gt;createStoreAndDomain -->
<g id="edge2" class="edge">
<title>main&#45;&gt;createStoreAndDomain</title>
<path fill="none" stroke="#666666" d="M87.17,-609C103.38,-609 125.15,-609 146.75,-609"/>
<polygon fill="#666666" stroke="#666666" points="146.98,-612.5 156.98,-609 146.98,-605.5 146.98,-612.5"/>
</g>
<!-- BootstrapSession -->
<g id="node5" class="node">
<title>BootstrapSession</title>
<polygon fill="none" stroke="black" points="496.5,-627 386.5,-627 386.5,-591 496.5,-591 496.5,-627"/>
<text text-anchor="middle" x="441.5" y="-605.3" font-family="Times,serif" font-size="14.00">BootstrapSession</text>
</g>
<!-- createStoreAndDomain&#45;&gt;BootstrapSession -->
<g id="edge3" class="edge">
<title>createStoreAndDomain&#45;&gt;BootstrapSession</title>
<path fill="none" stroke="#666666" d="M302.18,-609C326.2,-609 352.8,-609 376.21,-609"/>
<polygon fill="#666666" stroke="#666666" points="376.38,-612.5 386.38,-609 376.38,-605.5 376.38,-612.5"/>
</g>
<!-- UpdateTableStatsLoop -->
<g id="node6" class="node">
<title>UpdateTableStatsLoop</title>
<polygon fill="none" stroke="black" points="905,-627 764,-627 764,-591 905,-591 905,-627"/>
<text text-anchor="middle" x="834.5" y="-605.3" font-family="Times,serif" font-size="14.00">UpdateTableStatsLoop</text>
</g>
<!-- BootstrapSession&#45;&gt;UpdateTableStatsLoop -->
<g id="edge4" class="edge">
<title>BootstrapSession&#45;&gt;UpdateTableStatsLoop</title>
<path fill="none" stroke="#666666" d="M496.87,-609C563.54,-609 677.1,-609 753.68,-609"/>
<polygon fill="#666666" stroke="#666666" points="753.77,-612.5 763.77,-609 753.77,-605.5 753.77,-612.5"/>
</g>
<!-- updateStatsWorker1 -->
<g id="node7" class="node">
<title>updateStatsWorker1</title>
<polygon fill="none" stroke="black" points="1078.5,-591 1078.5,-627 1198.5,-627 1198.5,-591 1078.5,-591"/>
<text text-anchor="middle" x="1138.5" y="-605.3" font-family="Times,serif" font-size="14.00">updateStatsWorker</text>
</g>
<!-- UpdateTableStatsLoop&#45;&gt;updateStatsWorker1 -->
<g id="edge5" class="edge">
<title>UpdateTableStatsLoop&#45;&gt;updateStatsWorker1</title>
<path fill="none" stroke="#666666" d="M905.16,-609C954.11,-609 1019.32,-609 1068.19,-609"/>
<polygon fill="#666666" stroke="#666666" points="1068.36,-612.5 1078.36,-609 1068.36,-605.5 1068.36,-612.5"/>
<text text-anchor="middle" x="948" y="-612.8" font-family="Times,serif" font-size="14.00">go</text>
</g>
<!-- updateStatsWorker -->
<g id="node8" class="node">
<title>updateStatsWorker</title>
<polygon fill="none" stroke="black" points="120,-240 0,-240 0,-204 120,-204 120,-240"/>
<text text-anchor="middle" x="60" y="-218.3" font-family="Times,serif" font-size="14.00">updateStatsWorker</text>
</g>
<!-- UpdateStatsByLocalFeedback -->
<g id="node9" class="node">
<title>UpdateStatsByLocalFeedback</title>
<polygon fill="none" stroke="black" points="2115,-595.5 2115,-656.5 2295,-656.5 2295,-595.5 2115,-595.5"/>
<text text-anchor="middle" x="2205" y="-641.3" font-family="Times,serif" font-size="14.00">UpdateStatsByLocalFeedback</text>
<polyline fill="none" stroke="black" points="2115,-633.5 2295,-633.5 "/>
<text text-anchor="start" x="2123" y="-618.3" font-family="Times,serif" font-size="14.00">根据feedback先更新</text>
<text text-anchor="start" x="2123" y="-603.3" font-family="Times,serif" font-size="14.00"> 本地的统计信息</text>
</g>
<!-- updateStatsWorker&#45;&gt;UpdateStatsByLocalFeedback -->
<g id="edge6" class="edge">
<title>updateStatsWorker&#45;&gt;UpdateStatsByLocalFeedback</title>
<path fill="none" stroke="#3f72af" d="M61.42,-240.28C64.08,-310.9 83.74,-562 228.5,-562 228.5,-562 228.5,-562 1965,-562 2017.94,-562 2075.29,-576.83 2120.54,-592.21"/>
<polygon fill="#3f72af" stroke="#3f72af" points="2119.41,-595.53 2130.01,-595.5 2121.71,-588.91 2119.41,-595.53"/>
</g>
<!-- DumpStatsDeltaToKV -->
<g id="node10" class="node">
<title>DumpStatsDeltaToKV</title>
<polygon fill="none" stroke="black" points="512,-317 371,-317 371,-281 512,-281 512,-317"/>
<text text-anchor="middle" x="441.5" y="-295.3" font-family="Times,serif" font-size="14.00">DumpStatsDeltaToKV</text>
</g>
<!-- updateStatsWorker&#45;&gt;DumpStatsDeltaToKV -->
<g id="edge7" class="edge">
<title>updateStatsWorker&#45;&gt;DumpStatsDeltaToKV</title>
<path fill="none" stroke="#3f72af" d="M120.38,-228.11C169.44,-233.75 240.72,-243.34 302,-257 327.22,-262.62 354.53,-270.5 378.17,-277.92"/>
<polygon fill="#3f72af" stroke="#3f72af" points="377.13,-281.27 387.72,-280.96 379.25,-274.59 377.13,-281.27"/>
</g>
<!-- HandleDDLEvent -->
<g id="node11" class="node">
<title>HandleDDLEvent</title>
<polygon fill="none" stroke="black" points="339,-403.5 339,-464.5 544,-464.5 544,-403.5 339,-403.5"/>
<text text-anchor="middle" x="441.5" y="-449.3" font-family="Times,serif" font-size="14.00">HandleDDLEvent</text>
<polyline fill="none" stroke="black" points="339,-441.5 544,-441.5 "/>
<text text-anchor="start" x="347" y="-426.3" font-family="Times,serif" font-size="14.00">处理DDL owner发送到</text>
<text text-anchor="start" x="347" y="-411.3" font-family="Times,serif" font-size="14.00"> statsHandle.DDLEventCh的事件</text>
</g>
<!-- updateStatsWorker&#45;&gt;HandleDDLEvent -->
<g id="edge8" class="edge">
<title>updateStatsWorker&#45;&gt;HandleDDLEvent</title>
<path fill="none" stroke="#3f72af" d="M77.19,-240.33C95.17,-259.83 125.79,-290.62 157,-311 213.8,-348.09 283.65,-378.54 339.8,-399.87"/>
<polygon fill="#3f72af" stroke="#3f72af" points="338.81,-403.24 349.4,-403.48 341.27,-396.69 338.81,-403.24"/>
</g>
<!-- FlushStats -->
<g id="node12" class="node">
<title>FlushStats</title>
<polygon fill="none" stroke="black" points="266,-302 193,-302 193,-266 266,-266 266,-302"/>
<text text-anchor="middle" x="229.5" y="-280.3" font-family="Times,serif" font-size="14.00">FlushStats</text>
</g>
<!-- updateStatsWorker&#45;&gt;FlushStats -->
<g id="edge9" class="edge">
<title>updateStatsWorker&#45;&gt;FlushStats</title>
<path fill="none" stroke="#3f72af" d="M109.9,-240.1C133.13,-248.7 160.72,-258.91 183.45,-267.32"/>
<polygon fill="#3f72af" stroke="#3f72af" points="182.27,-270.62 192.86,-270.81 184.7,-264.05 182.27,-270.62"/>
</g>
<!-- HandleUpdateStats -->
<g id="node13" class="node">
<title>HandleUpdateStats</title>
<polygon fill="none" stroke="black" points="562,-24 562,-70 728,-70 728,-24 562,-24"/>
<text text-anchor="middle" x="645" y="-54.8" font-family="Times,serif" font-size="14.00">HandleUpdateStats</text>
<polyline fill="none" stroke="black" points="562,-47 728,-47 "/>
<text text-anchor="middle" x="645" y="-31.8" font-family="Times,serif" font-size="14.00">update stats using feedback</text>
</g>
<!-- updateStatsWorker&#45;&gt;HandleUpdateStats -->
<g id="edge10" class="edge">
<title>updateStatsWorker&#45;&gt;HandleUpdateStats</title>
<path fill="none" stroke="#3f72af" d="M120.15,-208.29C244.69,-179.35 524.16,-114.02 544,-106 563.89,-97.95 584.53,-86.4 601.86,-75.64"/>
<polygon fill="#3f72af" stroke="#3f72af" points="604.01,-78.42 610.59,-70.11 600.27,-72.5 604.01,-78.42"/>
</g>
<!-- DumpStatsFeedbackToKV -->
<g id="node14" class="node">
<title>DumpStatsFeedbackToKV</title>
<polygon fill="none" stroke="black" points="523.5,-211 359.5,-211 359.5,-175 523.5,-175 523.5,-211"/>
<text text-anchor="middle" x="441.5" y="-189.3" font-family="Times,serif" font-size="14.00">DumpStatsFeedbackToKV</text>
</g>
<!-- updateStatsWorker&#45;&gt;DumpStatsFeedbackToKV -->
<g id="edge11" class="edge">
<title>updateStatsWorker&#45;&gt;DumpStatsFeedbackToKV</title>
<path fill="none" stroke="#3f72af" d="M120.3,-217.47C181.59,-212.78 278.09,-205.41 349.15,-199.98"/>
<polygon fill="#3f72af" stroke="#3f72af" points="349.73,-203.45 359.44,-199.19 349.2,-196.47 349.73,-203.45"/>
</g>
<!-- GCStats -->
<g id="node15" class="node">
<title>GCStats</title>
<polygon fill="none" stroke="black" points="472.5,-73 410.5,-73 410.5,-37 472.5,-37 472.5,-73"/>
<text text-anchor="middle" x="441.5" y="-51.3" font-family="Times,serif" font-size="14.00">GCStats</text>
</g>
<!-- updateStatsWorker&#45;&gt;GCStats -->
<g id="edge12" class="edge">
<title>updateStatsWorker&#45;&gt;GCStats</title>
<path fill="none" stroke="#3f72af" d="M66.67,-203.95C77.95,-171.43 106.56,-103.63 157,-74 233.44,-29.1 342.26,-37.87 400.34,-47.09"/>
<polygon fill="#3f72af" stroke="#3f72af" points="399.79,-50.55 410.23,-48.75 400.95,-43.65 399.79,-50.55"/>
</g>
<!-- onwer_ISowner -->
<g id="node16" class="node">
<title>onwer_ISowner</title>
<polygon fill="none" stroke="black" points="281,-119 178,-119 178,-83 281,-83 281,-119"/>
<text text-anchor="middle" x="229.5" y="-97.3" font-family="Times,serif" font-size="14.00">onwer_ISowner</text>
</g>
<!-- updateStatsWorker&#45;&gt;onwer_ISowner -->
<g id="edge13" class="edge">
<title>updateStatsWorker&#45;&gt;onwer_ISowner</title>
<path fill="none" stroke="#3f72af" d="M72.47,-203.82C85.92,-183.86 109.98,-152.11 138,-133 147.17,-126.74 157.69,-121.58 168.25,-117.36"/>
<polygon fill="#3f72af" stroke="#3f72af" points="169.77,-120.52 177.91,-113.74 167.32,-113.97 169.77,-120.52"/>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;getTableByPhysicalID -->
<g id="edge27" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;getTableByPhysicalID</title>
<path fill="none" stroke="#b83b5e" d="M2241.98,-595.35C2266.54,-575.75 2300.58,-551.07 2334,-535 2342.71,-530.81 2351.98,-526.97 2361.38,-523.46"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2362.59,-526.75 2370.81,-520.07 2360.22,-520.16 2362.59,-526.75"/>
</g>
<!-- GetPartitionStats -->
<g id="node21" class="node">
<title>GetPartitionStats</title>
<polygon fill="none" stroke="black" points="2622,-492.5 2622,-553.5 2788,-553.5 2788,-492.5 2622,-492.5"/>
<text text-anchor="middle" x="2705" y="-538.3" font-family="Times,serif" font-size="14.00">GetPartitionStats</text>
<polyline fill="none" stroke="black" points="2622,-530.5 2788,-530.5 "/>
<text text-anchor="start" x="2630" y="-515.3" font-family="Times,serif" font-size="14.00">根据TableInfo获取Partion</text>
<text text-anchor="start" x="2630" y="-500.3" font-family="Times,serif" font-size="14.00"> stats from cache</text>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;GetPartitionStats -->
<g id="edge28" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;GetPartitionStats</title>
<path fill="none" stroke="#b83b5e" d="M2263.54,-595.42C2285.1,-585.18 2310.16,-574.68 2334,-568 2384.52,-553.84 2519.52,-539.56 2611.68,-531"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2612.22,-534.46 2621.86,-530.06 2611.58,-527.49 2612.22,-534.46"/>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;UpdateHistogram -->
<g id="edge29" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;UpdateHistogram</title>
<path fill="none" stroke="#b83b5e" d="M2271.09,-656.54C2290.86,-664.41 2312.94,-671.83 2334,-676 2438.73,-696.76 2563.41,-693.51 2638,-688.68"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2638.45,-692.16 2648.19,-688 2637.97,-685.18 2638.45,-692.16"/>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;SplitFeedbackByQueryType -->
<g id="edge30" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;SplitFeedbackByQueryType</title>
<path fill="none" stroke="#b83b5e" d="M2227.74,-656.65C2247.91,-683.31 2280.01,-721.57 2315,-747 2319.24,-750.08 2323.64,-753.06 2328.17,-755.93"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2326.66,-759.11 2337.02,-761.32 2330.3,-753.13 2326.66,-759.11"/>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;UpdateCMSketch -->
<g id="edge31" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;UpdateCMSketch</title>
<path fill="none" stroke="#b83b5e" d="M2217.54,-656.85C2240.71,-716.93 2294.09,-845.87 2334,-870 2427.45,-926.5 2559.92,-905.33 2638.4,-884.72"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2639.42,-888.07 2648.17,-882.08 2637.6,-881.31 2639.42,-888.07"/>
</g>
<!-- PreCalculateScalar -->
<g id="node28" class="node">
<title>PreCalculateScalar</title>
<polygon fill="none" stroke="black" points="2519,-667 2400,-667 2400,-631 2519,-631 2519,-667"/>
<text text-anchor="middle" x="2459.5" y="-645.3" font-family="Times,serif" font-size="14.00">PreCalculateScalar</text>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;PreCalculateScalar -->
<g id="edge32" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;PreCalculateScalar</title>
<path fill="none" stroke="#b83b5e" d="M2295.02,-634.11C2326.14,-636.94 2360.57,-640.08 2389.78,-642.74"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2389.6,-646.24 2399.88,-643.66 2390.23,-639.27 2389.6,-646.24"/>
</g>
<!-- ResetAnalyzeFlag -->
<g id="node29" class="node">
<title>ResetAnalyzeFlag</title>
<polygon fill="none" stroke="black" points="2517.5,-613 2401.5,-613 2401.5,-577 2517.5,-577 2517.5,-613"/>
<text text-anchor="middle" x="2459.5" y="-591.3" font-family="Times,serif" font-size="14.00">ResetAnalyzeFlag</text>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;ResetAnalyzeFlag -->
<g id="edge33" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;ResetAnalyzeFlag</title>
<path fill="none" stroke="#b83b5e" d="M2295.02,-615.07C2326.65,-611.19 2361.7,-606.88 2391.2,-603.26"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2391.9,-606.7 2401.39,-602.01 2391.04,-599.76 2391.9,-606.7"/>
</g>
<!-- handle_statsCache_Update -->
<g id="node30" class="node">
<title>handle_statsCache_Update</title>
<polygon fill="none" stroke="black" points="3067,-342 3067,-388 3252,-388 3252,-342 3067,-342"/>
<text text-anchor="middle" x="3159.5" y="-372.8" font-family="Times,serif" font-size="14.00">handle.statsCache.Update</text>
<polyline fill="none" stroke="black" points="3067,-365 3252,-365 "/>
<text text-anchor="middle" x="3159.5" y="-349.8" font-family="Times,serif" font-size="14.00">更新本地缓存中的Stats信息</text>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;handle_statsCache_Update -->
<g id="edge34" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;handle_statsCache_Update</title>
<path fill="none" stroke="#b83b5e" d="M2217.24,-595.48C2245.66,-524.24 2327.6,-353 2458.5,-353 2458.5,-353 2458.5,-353 2928.5,-353 2970.52,-353 3016.8,-355.02 3056.77,-357.41"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="3056.59,-360.9 3066.78,-358.02 3057.01,-353.92 3056.59,-360.9"/>
</g>
<!-- statis_Table_Copy -->
<g id="node31" class="node">
<title>statis_Table_Copy</title>
<polygon fill="none" stroke="black" points="2825,-614 2825,-752 3030,-752 3030,-614 2825,-614"/>
<text text-anchor="middle" x="2927.5" y="-736.8" font-family="Times,serif" font-size="14.00">statis.Table.Copy</text>
<polyline fill="none" stroke="black" points="2825,-729 3030,-729 "/>
<text text-anchor="middle" x="2927.5" y="-713.8" font-family="Times,serif" font-size="14.00">Table struct</text>
<polyline fill="none" stroke="black" points="2825,-706 3030,-706 "/>
<text text-anchor="start" x="2833" y="-690.8" font-family="Times,serif" font-size="14.00">HistColl</text>
<polyline fill="none" stroke="black" points="2825,-683 3030,-683 "/>
<text text-anchor="start" x="2833" y="-667.8" font-family="Times,serif" font-size="14.00">Version uint64</text>
<polyline fill="none" stroke="black" points="2825,-660 3030,-660 "/>
<text text-anchor="start" x="2833" y="-644.8" font-family="Times,serif" font-size="14.00">Name string</text>
<polyline fill="none" stroke="black" points="2825,-637 3030,-637 "/>
<text text-anchor="start" x="2833" y="-621.8" font-family="Times,serif" font-size="14.00">ExtendedStats *ExtendedStatsColl</text>
</g>
<!-- UpdateStatsByLocalFeedback&#45;&gt;statis_Table_Copy -->
<g id="edge35" class="edge">
<title>UpdateStatsByLocalFeedback&#45;&gt;statis_Table_Copy</title>
<path fill="none" stroke="#b83b5e" d="M2248.46,-656.6C2272.36,-672.05 2303.47,-689.32 2334,-698 2528.15,-753.2 2587.09,-729.4 2788,-710 2796.68,-709.16 2805.63,-708.03 2814.59,-706.71"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2815.37,-710.14 2824.72,-705.15 2814.3,-703.22 2815.37,-710.14"/>
</g>
<!-- globalMap -->
<g id="node32" class="node">
<title>globalMap</title>
<polygon fill="none" stroke="black" points="872.5,-372 796.5,-372 796.5,-336 872.5,-336 872.5,-372"/>
<text text-anchor="middle" x="834.5" y="-350.3" font-family="Times,serif" font-size="14.00">globalMap</text>
</g>
<!-- DumpStatsDeltaToKV&#45;&gt;globalMap -->
<g id="edge36" class="edge">
<title>DumpStatsDeltaToKV&#45;&gt;globalMap</title>
<path fill="none" stroke="#666666" d="M512.4,-308.83C591.48,-319.96 718.11,-337.77 786.32,-347.36"/>
<polygon fill="#666666" stroke="#666666" points="785.96,-350.85 796.35,-348.77 786.94,-343.92 785.96,-350.85"/>
</g>
<!-- needDumpStatsDelta -->
<g id="node33" class="node">
<title>needDumpStatsDelta</title>
<polygon fill="none" stroke="black" points="900.5,-318 768.5,-318 768.5,-282 900.5,-282 900.5,-318"/>
<text text-anchor="middle" x="834.5" y="-296.3" font-family="Times,serif" font-size="14.00">needDumpStatsDelta</text>
</g>
<!-- DumpStatsDeltaToKV&#45;&gt;needDumpStatsDelta -->
<g id="edge37" class="edge">
<title>DumpStatsDeltaToKV&#45;&gt;needDumpStatsDelta</title>
<path fill="none" stroke="#666666" d="M512.4,-299.18C581.6,-299.36 687.19,-299.63 758.21,-299.81"/>
<polygon fill="#666666" stroke="#666666" points="758.42,-303.31 768.42,-299.83 758.43,-296.31 758.42,-303.31"/>
</g>
<!-- dumpTableStatCountToKV -->
<g id="node34" class="node">
<title>dumpTableStatCountToKV</title>
<polygon fill="none" stroke="black" points="918,-264 751,-264 751,-228 918,-228 918,-264"/>
<text text-anchor="middle" x="834.5" y="-242.3" font-family="Times,serif" font-size="14.00">dumpTableStatCountToKV</text>
</g>
<!-- DumpStatsDeltaToKV&#45;&gt;dumpTableStatCountToKV -->
<g id="edge38" class="edge">
<title>DumpStatsDeltaToKV&#45;&gt;dumpTableStatCountToKV</title>
<path fill="none" stroke="#666666" d="M512.4,-289.52C576.15,-280.88 670.8,-268.05 740.84,-258.56"/>
<polygon fill="#666666" stroke="#666666" points="741.55,-262 750.99,-257.18 740.61,-255.06 741.55,-262"/>
</g>
<!-- dumpTableStatColSizeToKV -->
<g id="node35" class="node">
<title>dumpTableStatColSizeToKV</title>
<polygon fill="none" stroke="black" points="923,-426 746,-426 746,-390 923,-390 923,-426"/>
<text text-anchor="middle" x="834.5" y="-404.3" font-family="Times,serif" font-size="14.00">dumpTableStatColSizeToKV</text>
</g>
<!-- DumpStatsDeltaToKV&#45;&gt;dumpTableStatColSizeToKV -->
<g id="edge39" class="edge">
<title>DumpStatsDeltaToKV&#45;&gt;dumpTableStatColSizeToKV</title>
<path fill="none" stroke="#666666" d="M488.94,-317.02C510.9,-325.2 537.61,-334.67 562,-342 620.37,-359.54 686.85,-375.76 739.42,-387.74"/>
<polygon fill="#666666" stroke="#666666" points="738.87,-391.2 749.4,-390 740.42,-384.37 738.87,-391.2"/>
</g>
<!-- insertTableStats2KV -->
<g id="node44" class="node">
<title>insertTableStats2KV</title>
<polygon fill="none" stroke="black" points="899.5,-480 769.5,-480 769.5,-444 899.5,-444 899.5,-480"/>
<text text-anchor="middle" x="834.5" y="-458.3" font-family="Times,serif" font-size="14.00">insertTableStats2KV</text>
</g>
<!-- HandleDDLEvent&#45;&gt;insertTableStats2KV -->
<g id="edge54" class="edge">
<title>HandleDDLEvent&#45;&gt;insertTableStats2KV</title>
<path fill="none" stroke="#666666" d="M544.21,-441.28C611.48,-446.1 698.17,-452.31 759.04,-456.67"/>
<polygon fill="#666666" stroke="#666666" points="759.11,-460.18 769.34,-457.41 759.61,-453.2 759.11,-460.18"/>
</g>
<!-- insertColStats2KV -->
<g id="node45" class="node">
<title>insertColStats2KV</title>
<polygon fill="none" stroke="black" points="894,-534 775,-534 775,-498 894,-498 894,-534"/>
<text text-anchor="middle" x="834.5" y="-512.3" font-family="Times,serif" font-size="14.00">insertColStats2KV</text>
</g>
<!-- HandleDDLEvent&#45;&gt;insertColStats2KV -->
<g id="edge55" class="edge">
<title>HandleDDLEvent&#45;&gt;insertColStats2KV</title>
<path fill="none" stroke="#666666" d="M544.13,-458.99C550.17,-460.38 556.16,-461.72 562,-463 630.79,-478.05 709.84,-493.25 764.84,-503.49"/>
<polygon fill="#666666" stroke="#666666" points="764.35,-506.95 774.82,-505.34 765.63,-500.07 764.35,-506.95"/>
</g>
<!-- FlushStats&#45;&gt;DumpStatsDeltaToKV -->
<g id="edge51" class="edge">
<title>FlushStats&#45;&gt;DumpStatsDeltaToKV</title>
<path fill="none" stroke="#666666" d="M266.12,-286.54C292,-288.39 328.05,-290.97 360.66,-293.3"/>
<polygon fill="#666666" stroke="#666666" points="360.43,-296.79 370.66,-294.01 360.93,-289.81 360.43,-296.79"/>
</g>
<!-- FlushStats&#45;&gt;HandleDDLEvent -->
<g id="edge52" class="edge">
<title>FlushStats&#45;&gt;HandleDDLEvent</title>
<path fill="none" stroke="#666666" d="M255.83,-302.09C288.76,-325.62 347.06,-367.26 389.36,-397.47"/>
<polygon fill="#666666" stroke="#666666" points="387.42,-400.39 397.59,-403.35 391.49,-394.69 387.42,-400.39"/>
</g>
<!-- FlushStats&#45;&gt;DumpStatsFeedbackToKV -->
<g id="edge53" class="edge">
<title>FlushStats&#45;&gt;DumpStatsFeedbackToKV</title>
<path fill="none" stroke="#666666" d="M266.12,-268.56C300,-253.88 351.31,-231.65 389.51,-215.1"/>
<polygon fill="#666666" stroke="#666666" points="391.14,-218.21 398.92,-211.02 388.35,-211.78 391.14,-218.21"/>
</g>
<!-- sql1 -->
<g id="node17" class="node">
<title>sql1</title>
<polygon fill="none" stroke="black" points="1647,-64 1647,-102 1815,-102 1815,-64 1647,-64"/>
<text text-anchor="start" x="1655" y="-86.8" font-family="Times,serif" font-size="14.00">SELECT distinct table_id </text>
<text text-anchor="start" x="1655" y="-71.8" font-family="Times,serif" font-size="14.00"> from mysql.stats_feedback</text>
</g>
<!-- HandleUpdateStats&#45;&gt;sql1 -->
<g id="edge16" class="edge">
<title>HandleUpdateStats&#45;&gt;sql1</title>
<path fill="none" stroke="#666666" d="M728.06,-43.22C788.57,-40.76 872.89,-38 947,-38 947,-38 947,-38 1476.5,-38 1535.57,-38 1601.2,-49.99 1650.88,-61.59"/>
<polygon fill="#666666" stroke="#666666" points="1650.38,-65.07 1660.92,-63.98 1652,-58.26 1650.38,-65.07"/>
</g>
<!-- handleSingleHistogramUpdate -->
<g id="node18" class="node">
<title>handleSingleHistogramUpdate</title>
<polygon fill="none" stroke="black" points="2297,-367 2113,-367 2113,-331 2297,-331 2297,-367"/>
<text text-anchor="middle" x="2205" y="-345.3" font-family="Times,serif" font-size="14.00">handleSingleHistogramUpdate</text>
</g>
<!-- HandleUpdateStats&#45;&gt;handleSingleHistogramUpdate -->
<g id="edge17" class="edge">
<title>HandleUpdateStats&#45;&gt;handleSingleHistogramUpdate</title>
<path fill="none" stroke="#666666" d="M728.18,-27.14C788.39,-14.31 872.29,0 947,0 947,0 947,0 1965,0 2120.13,0 2181.98,-237.63 2198.86,-320.72"/>
<polygon fill="#666666" stroke="#666666" points="2195.47,-321.59 2200.83,-330.73 2202.33,-320.24 2195.47,-321.59"/>
</g>
<!-- DumpFeedbackToKV -->
<g id="node39" class="node">
<title>DumpFeedbackToKV</title>
<polygon fill="none" stroke="black" points="903,-102 766,-102 766,-66 903,-66 903,-102"/>
<text text-anchor="middle" x="834.5" y="-80.3" font-family="Times,serif" font-size="14.00">DumpFeedbackToKV</text>
</g>
<!-- DumpStatsFeedbackToKV&#45;&gt;DumpFeedbackToKV -->
<g id="edge43" class="edge">
<title>DumpStatsFeedbackToKV&#45;&gt;DumpFeedbackToKV</title>
<path fill="none" stroke="#666666" d="M506.57,-174.96C519.15,-170.82 532.12,-166.11 544,-161 552.41,-157.38 553.48,-154.35 562,-151 625.27,-126.13 700.56,-108.42 755.79,-97.48"/>
<polygon fill="#666666" stroke="#666666" points="756.72,-100.86 765.86,-95.51 755.38,-93.99 756.72,-100.86"/>
</g>
<!-- DumpFeedbackForIndex -->
<g id="node40" class="node">
<title>DumpFeedbackForIndex</title>
<polygon fill="none" stroke="black" points="910.5,-210 758.5,-210 758.5,-174 910.5,-174 910.5,-210"/>
<text text-anchor="middle" x="834.5" y="-188.3" font-family="Times,serif" font-size="14.00">DumpFeedbackForIndex</text>
</g>
<!-- DumpStatsFeedbackToKV&#45;&gt;DumpFeedbackForIndex -->
<g id="edge44" class="edge">
<title>DumpStatsFeedbackToKV&#45;&gt;DumpFeedbackForIndex</title>
<path fill="none" stroke="#666666" d="M523.52,-192.79C589.15,-192.62 681.37,-192.39 748.15,-192.22"/>
<polygon fill="#666666" stroke="#666666" points="748.23,-195.72 758.22,-192.19 748.21,-188.72 748.23,-195.72"/>
</g>
<!-- NewQueryFeedbackMap -->
<g id="node41" class="node">
<title>NewQueryFeedbackMap</title>
<polygon fill="none" stroke="black" points="911,-156 758,-156 758,-120 911,-120 911,-156"/>
<text text-anchor="middle" x="834.5" y="-134.3" font-family="Times,serif" font-size="14.00">NewQueryFeedbackMap</text>
</g>
<!-- DumpStatsFeedbackToKV&#45;&gt;NewQueryFeedbackMap -->
<g id="edge45" class="edge">
<title>DumpStatsFeedbackToKV&#45;&gt;NewQueryFeedbackMap</title>
<path fill="none" stroke="#666666" d="M523.52,-181.6C589.05,-172.39 681.07,-159.44 747.82,-150.05"/>
<polygon fill="#666666" stroke="#666666" points="748.48,-153.49 757.89,-148.64 747.5,-146.56 748.48,-153.49"/>
</g>
<!-- onwer_ISowner&#45;&gt;HandleUpdateStats -->
<g id="edge14" class="edge">
<title>onwer_ISowner&#45;&gt;HandleUpdateStats</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="5,2" d="M281,-102.19C343.42,-102.69 452.59,-100.4 544,-82 554.95,-79.8 566.33,-76.67 577.32,-73.18"/>
<polygon fill="darkgreen" stroke="darkgreen" points="578.46,-76.49 586.86,-70.04 576.26,-69.84 578.46,-76.49"/>
</g>
<!-- onwer_ISowner&#45;&gt;GCStats -->
<g id="edge15" class="edge">
<title>onwer_ISowner&#45;&gt;GCStats</title>
<path fill="none" stroke="#666666" d="M281.07,-89.92C317.69,-81.9 366.53,-71.2 400.46,-63.77"/>
<polygon fill="#666666" stroke="#666666" points="401.46,-67.13 410.48,-61.57 399.97,-60.3 401.46,-67.13"/>
</g>
<!-- sql2 -->
<g id="node19" class="node">
<title>sql2</title>
<polygon fill="none" stroke="black" points="1852,-74.5 1852,-187.5 2076,-187.5 2076,-74.5 1852,-74.5"/>
<text text-anchor="start" x="1860" y="-172.3" font-family="Times,serif" font-size="14.00">select </text>
<text text-anchor="start" x="1860" y="-157.3" font-family="Times,serif" font-size="14.00"> table_id,</text>
<text text-anchor="start" x="1860" y="-142.3" font-family="Times,serif" font-size="14.00"> hist_id,</text>
<text text-anchor="start" x="1860" y="-127.3" font-family="Times,serif" font-size="14.00"> is_index,</text>
<text text-anchor="start" x="1860" y="-112.3" font-family="Times,serif" font-size="14.00"> feedback from mysql.stats_feedback </text>
<text text-anchor="start" x="1860" y="-97.3" font-family="Times,serif" font-size="14.00"> where table_id=%d </text>
<text text-anchor="start" x="1860" y="-82.3" font-family="Times,serif" font-size="14.00"> order by hist_id, is_index</text>
</g>
<!-- sql1&#45;&gt;sql2 -->
<g id="edge18" class="edge">
<title>sql1&#45;&gt;sql2</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="5,2" d="M1815.07,-100.26C1823.81,-102.08 1832.82,-103.95 1841.87,-105.83"/>
<polygon fill="darkgreen" stroke="darkgreen" points="1841.2,-109.27 1851.71,-107.87 1842.63,-102.41 1841.2,-109.27"/>
</g>
<!-- handleSingleHistogramUpdate&#45;&gt;getTableByPhysicalID -->
<g id="edge20" class="edge">
<title>handleSingleHistogramUpdate&#45;&gt;getTableByPhysicalID</title>
<path fill="none" stroke="#666666" d="M2221.01,-367.05C2243.12,-392.48 2286.96,-438.57 2334,-464 2340.08,-467.29 2346.51,-470.26 2353.11,-472.95"/>
<polygon fill="#666666" stroke="#666666" points="2352.29,-476.38 2362.88,-476.69 2354.79,-469.85 2352.29,-476.38"/>
</g>
<!-- handleSingleHistogramUpdate&#45;&gt;GetPartitionStats -->
<g id="edge21" class="edge">
<title>handleSingleHistogramUpdate&#45;&gt;GetPartitionStats</title>
<path fill="none" stroke="#666666" d="M2297.09,-348.74C2376.85,-351.9 2493.91,-364.92 2585,-410 2620.52,-427.58 2652.58,-459.42 2674.44,-484.83"/>
<polygon fill="#666666" stroke="#666666" points="2671.78,-487.1 2680.9,-492.49 2677.13,-482.59 2671.78,-487.1"/>
</g>
<!-- DecodeFeedback -->
<g id="node22" class="node">
<title>DecodeFeedback</title>
<polygon fill="none" stroke="black" points="2514.5,-325 2404.5,-325 2404.5,-289 2514.5,-289 2514.5,-325"/>
<text text-anchor="middle" x="2459.5" y="-303.3" font-family="Times,serif" font-size="14.00">DecodeFeedback</text>
</g>
<!-- handleSingleHistogramUpdate&#45;&gt;DecodeFeedback -->
<g id="edge22" class="edge">
<title>handleSingleHistogramUpdate&#45;&gt;DecodeFeedback</title>
<path fill="none" stroke="#666666" d="M2297.16,-333.84C2329.25,-328.5 2364.64,-322.61 2394.07,-317.72"/>
<polygon fill="#666666" stroke="#666666" points="2394.93,-321.12 2404.22,-316.03 2393.78,-314.22 2394.93,-321.12"/>
</g>
<!-- dumpStatsUpdateToKV -->
<g id="node23" class="node">
<title>dumpStatsUpdateToKV</title>
<polygon fill="none" stroke="black" points="2533.5,-455 2385.5,-455 2385.5,-419 2533.5,-419 2533.5,-455"/>
<text text-anchor="middle" x="2459.5" y="-433.3" font-family="Times,serif" font-size="14.00">dumpStatsUpdateToKV</text>
</g>
<!-- handleSingleHistogramUpdate&#45;&gt;dumpStatsUpdateToKV -->
<g id="edge23" class="edge">
<title>handleSingleHistogramUpdate&#45;&gt;dumpStatsUpdateToKV</title>
<path fill="none" stroke="#666666" d="M2236.07,-367.1C2257.45,-379.3 2287.19,-394.94 2315,-405 2334.1,-411.91 2355.18,-417.61 2375.18,-422.19"/>
<polygon fill="#666666" stroke="#666666" points="2374.68,-425.67 2385.21,-424.42 2376.2,-418.83 2374.68,-425.67"/>
</g>
<!-- sql2&#45;&gt;handleSingleHistogramUpdate -->
<g id="edge19" class="edge">
<title>sql2&#45;&gt;handleSingleHistogramUpdate</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="5,2" d="M2027.17,-187.71C2075.52,-231.81 2140.27,-290.87 2176.5,-323.91"/>
<polygon fill="darkgreen" stroke="darkgreen" points="2174.46,-326.79 2184.21,-330.95 2179.18,-321.62 2174.46,-326.79"/>
</g>
<!-- getTableByPhysicalID&#45;&gt;GetPartitionStats -->
<g id="edge61" class="edge">
<title>getTableByPhysicalID&#45;&gt;GetPartitionStats</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2556.04,-507.2C2574.36,-509.16 2593.52,-511.2 2611.74,-513.15"/>
<polygon fill="darkblue" stroke="darkblue" points="2611.44,-516.64 2621.75,-514.22 2612.18,-509.68 2611.44,-516.64"/>
</g>
<!-- GetPartitionStats&#45;&gt;statis_Table_Copy -->
<g id="edge62" class="edge">
<title>GetPartitionStats&#45;&gt;statis_Table_Copy</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2748.25,-553.66C2769.67,-569.2 2796.71,-588.82 2823.21,-608.05"/>
<polygon fill="darkblue" stroke="darkblue" points="2821.26,-610.96 2831.41,-614 2825.37,-605.29 2821.26,-610.96"/>
</g>
<!-- SaveStatsToStorage -->
<g id="node24" class="node">
<title>SaveStatsToStorage</title>
<polygon fill="none" stroke="black" points="2990,-525 2865,-525 2865,-489 2990,-489 2990,-525"/>
<text text-anchor="middle" x="2927.5" y="-503.3" font-family="Times,serif" font-size="14.00">SaveStatsToStorage</text>
</g>
<!-- dumpStatsUpdateToKV&#45;&gt;SaveStatsToStorage -->
<g id="edge24" class="edge">
<title>dumpStatsUpdateToKV&#45;&gt;SaveStatsToStorage</title>
<path fill="none" stroke="#666666" d="M2533.77,-446.61C2600.2,-455.48 2700.79,-469.32 2788,-483 2809.75,-486.41 2833.37,-490.4 2854.84,-494.13"/>
<polygon fill="#666666" stroke="#666666" points="2854.41,-497.61 2864.86,-495.88 2855.62,-490.71 2854.41,-497.61"/>
</g>
<!-- dumpStatsUpdateToKV&#45;&gt;UpdateHistogram -->
<g id="edge25" class="edge">
<title>dumpStatsUpdateToKV&#45;&gt;UpdateHistogram</title>
<path fill="none" stroke="#666666" d="M2533.59,-440.51C2552.07,-444.51 2570.7,-451.63 2585,-464 2620.52,-494.74 2600.37,-521.3 2622,-563 2639.7,-597.11 2665.36,-633.11 2683.25,-656.67"/>
<polygon fill="#666666" stroke="#666666" points="2680.59,-658.96 2689.45,-664.76 2686.14,-654.7 2680.59,-658.96"/>
</g>
<!-- UpdateHistogram&#45;&gt;SaveStatsToStorage -->
<g id="edge26" class="edge">
<title>UpdateHistogram&#45;&gt;SaveStatsToStorage</title>
<path fill="none" stroke="darkgreen" stroke-dasharray="5,2" d="M2728.77,-664.83C2768.65,-633 2851.15,-567.14 2895.95,-531.38"/>
<polygon fill="darkgreen" stroke="darkgreen" points="2898.22,-534.05 2903.86,-525.07 2893.86,-528.58 2898.22,-534.05"/>
</g>
<!-- UpdateHistogram&#45;&gt;statis_Table_Copy -->
<g id="edge68" class="edge">
<title>UpdateHistogram&#45;&gt;statis_Table_Copy</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2761.64,-683C2777.9,-683 2796.27,-683 2814.7,-683"/>
<polygon fill="darkblue" stroke="darkblue" points="2814.93,-686.5 2824.93,-683 2814.93,-679.5 2814.93,-686.5"/>
</g>
<!-- SplitFeedbackByQueryType&#45;&gt;UpdateHistogram -->
<g id="edge66" class="edge">
<title>SplitFeedbackByQueryType&#45;&gt;UpdateHistogram</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2554.99,-761.33C2591.42,-742.18 2631.28,-721.22 2660.6,-705.81"/>
<polygon fill="darkblue" stroke="darkblue" points="2662.51,-708.76 2669.74,-701.01 2659.26,-702.57 2662.51,-708.76"/>
</g>
<!-- SplitFeedbackByQueryType&#45;&gt;UpdateCMSketch -->
<g id="edge67" class="edge">
<title>SplitFeedbackByQueryType&#45;&gt;UpdateCMSketch</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2585.1,-838.12C2603.32,-842.09 2621.45,-846.03 2637.87,-849.61"/>
<polygon fill="darkblue" stroke="darkblue" points="2637.33,-853.07 2647.85,-851.78 2638.82,-846.23 2637.33,-853.07"/>
</g>
<!-- UpdateCMSketch&#45;&gt;statis_Table_Copy -->
<g id="edge69" class="edge">
<title>UpdateCMSketch&#45;&gt;statis_Table_Copy</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2727.95,-845.98C2752.92,-825.49 2795.33,-790.68 2834.55,-758.48"/>
<polygon fill="darkblue" stroke="darkblue" points="2836.84,-761.13 2842.35,-752.08 2832.4,-755.72 2836.84,-761.13"/>
</g>
<!-- statis_Table_Copy&#45;&gt;handle_statsCache_Update -->
<g id="edge70" class="edge">
<title>statis_Table_Copy&#45;&gt;handle_statsCache_Update</title>
<path fill="none" stroke="darkblue" stroke-dasharray="5,2" d="M2978.41,-614C3027.24,-546.48 3099.42,-446.68 3135.79,-396.39"/>
<polygon fill="darkblue" stroke="darkblue" points="3138.71,-398.33 3141.73,-388.18 3133.04,-394.23 3138.71,-398.33"/>
</g>
<!-- update_mysql_stats_meta -->
<g id="node36" class="node">
<title>update_mysql_stats_meta</title>
<polygon fill="none" stroke="black" points="1217.5,-236 1059.5,-236 1059.5,-200 1217.5,-200 1217.5,-236"/>
<text text-anchor="middle" x="1138.5" y="-214.3" font-family="Times,serif" font-size="14.00">update_mysql_stats_meta</text>
</g>
<!-- dumpTableStatCountToKV&#45;&gt;update_mysql_stats_meta -->
<g id="edge40" class="edge">
<title>dumpTableStatCountToKV&#45;&gt;update_mysql_stats_meta</title>
<path fill="none" stroke="#666666" d="M918.02,-238.35C958.76,-234.57 1007.94,-230.01 1049.4,-226.17"/>
<polygon fill="#666666" stroke="#666666" points="1049.86,-229.64 1059.49,-225.23 1049.21,-222.67 1049.86,-229.64"/>
</g>
<!-- execSQL -->
<g id="node37" class="node">
<title>execSQL</title>
<polygon fill="none" stroke="black" points="1172,-290 1105,-290 1105,-254 1172,-254 1172,-290"/>
<text text-anchor="middle" x="1138.5" y="-268.3" font-family="Times,serif" font-size="14.00">execSQL</text>
</g>
<!-- dumpTableStatCountToKV&#45;&gt;execSQL -->
<g id="edge41" class="edge">
<title>dumpTableStatCountToKV&#45;&gt;execSQL</title>
<path fill="none" stroke="#666666" d="M918.02,-253.1C975.22,-258.03 1049.04,-264.38 1094.82,-268.33"/>
<polygon fill="#666666" stroke="#666666" points="1094.72,-271.83 1104.98,-269.2 1095.32,-264.86 1094.72,-271.83"/>
</g>
<!-- insert_into_mysql_stats_histograms -->
<g id="node38" class="node">
<title>insert_into_mysql_stats_histograms</title>
<polygon fill="none" stroke="black" points="973,-335 973,-403 1304,-403 1304,-335 973,-335"/>
<text text-anchor="start" x="981" y="-387.8" font-family="Times,serif" font-size="14.00">insert into mysql.stats_histograms</text>
<text text-anchor="start" x="981" y="-372.8" font-family="Times,serif" font-size="14.00"> (table_id, is_index, hist_id, distinct_count, tot_col_size) </text>
<text text-anchor="start" x="981" y="-357.8" font-family="Times,serif" font-size="14.00"> ...</text>
<text text-anchor="start" x="981" y="-342.8" font-family="Times,serif" font-size="14.00"> on duplicate key update ...</text>
</g>
<!-- dumpTableStatColSizeToKV&#45;&gt;insert_into_mysql_stats_histograms -->
<g id="edge42" class="edge">
<title>dumpTableStatColSizeToKV&#45;&gt;insert_into_mysql_stats_histograms</title>
<path fill="none" stroke="#666666" d="M923.26,-396.67C935.87,-395.04 949.2,-393.32 962.79,-391.56"/>
<polygon fill="#666666" stroke="#666666" points="963.26,-395.03 972.73,-390.28 962.37,-388.09 963.26,-395.03"/>
</g>
<!-- EncodeFeedback -->
<g id="node42" class="node">
<title>EncodeFeedback</title>
<polygon fill="none" stroke="black" points="1193,-102 1084,-102 1084,-66 1193,-66 1193,-102"/>
<text text-anchor="middle" x="1138.5" y="-80.3" font-family="Times,serif" font-size="14.00">EncodeFeedback</text>
</g>
<!-- DumpFeedbackToKV&#45;&gt;EncodeFeedback -->
<g id="edge46" class="edge">
<title>DumpFeedbackToKV&#45;&gt;EncodeFeedback</title>
<path fill="none" stroke="#666666" d="M903.27,-84C954.2,-84 1023.49,-84 1073.48,-84"/>
<polygon fill="#666666" stroke="#666666" points="1073.52,-87.5 1083.52,-84 1073.52,-80.5 1073.52,-87.5"/>
</g>
<!-- insert_into_mysql_stats_feedback -->
<g id="node43" class="node">
<title>insert_into_mysql_stats_feedback</title>
<polygon fill="none" stroke="black" points="1341,-85.5 1341,-138.5 1610,-138.5 1610,-85.5 1341,-85.5"/>
<text text-anchor="start" x="1349" y="-123.3" font-family="Times,serif" font-size="14.00">insert into mysql.stats_feedback</text>
<text text-anchor="start" x="1349" y="-108.3" font-family="Times,serif" font-size="14.00"> (table_id, hist_id, is_index, feedback) values </text>
<text text-anchor="start" x="1349" y="-93.3" font-family="Times,serif" font-size="14.00"> ...</text>
</g>
<!-- DumpFeedbackToKV&#45;&gt;insert_into_mysql_stats_feedback -->
<g id="edge47" class="edge">
<title>DumpFeedbackToKV&#45;&gt;insert_into_mysql_stats_feedback</title>
<path fill="none" stroke="#666666" d="M903.32,-99.9C925.41,-104.39 950.13,-108.68 973,-111 1093.07,-123.2 1230.14,-122.48 1330.6,-119.26"/>
<polygon fill="#666666" stroke="#666666" points="1330.95,-122.75 1340.82,-118.92 1330.71,-115.75 1330.95,-122.75"/>
</g>
<!-- EncodeFeedback&#45;&gt;insert_into_mysql_stats_feedback -->
<g id="edge48" class="edge">
<title>EncodeFeedback&#45;&gt;insert_into_mysql_stats_feedback</title>
<path fill="none" stroke="darkred" stroke-dasharray="5,2" d="M1193.32,-88.5C1230.61,-91.62 1282.13,-95.92 1330.89,-100"/>
<polygon fill="darkred" stroke="darkred" points="1330.67,-103.49 1340.93,-100.84 1331.25,-96.51 1330.67,-103.49"/>
</g>
<!-- insert_into_mysql_stats_feedback&#45;&gt;sql1 -->
<g id="edge49" class="edge">
<title>insert_into_mysql_stats_feedback&#45;&gt;sql1</title>
<path fill="none" stroke="darkred" stroke-dasharray="5,2" d="M1610.3,-96.69C1619.2,-95.68 1628.05,-94.66 1636.68,-93.68"/>
<polygon fill="darkred" stroke="darkred" points="1637.16,-97.14 1646.69,-92.53 1636.36,-90.19 1637.16,-97.14"/>
</g>
<!-- insert_into_mysql_stats_feedback&#45;&gt;sql2 -->
<g id="edge50" class="edge">
<title>insert_into_mysql_stats_feedback&#45;&gt;sql2</title>
<path fill="none" stroke="darkred" stroke-dasharray="5,2" d="M1610.08,-117.22C1682.47,-120.04 1771.25,-123.51 1841.65,-126.26"/>
<polygon fill="darkred" stroke="darkred" points="1841.78,-129.77 1851.9,-126.66 1842.05,-122.77 1841.78,-129.77"/>
</g>
<!-- mysql_stats_meta -->
<g id="node46" class="node">
<title>mysql_stats_meta</title>
<polygon fill="none" stroke="black" points="1032.5,-495 1032.5,-533 1244.5,-533 1244.5,-495 1032.5,-495"/>
<text text-anchor="start" x="1040.5" y="-517.8" font-family="Times,serif" font-size="14.00">insert into mysql.stats_meta</text>
<text text-anchor="start" x="1040.5" y="-502.8" font-family="Times,serif" font-size="14.00"> (version, table_id) values(%d, %d)</text>
</g>
<!-- insertTableStats2KV&#45;&gt;mysql_stats_meta -->
<g id="edge56" class="edge">
<title>insertTableStats2KV&#45;&gt;mysql_stats_meta</title>
<path fill="none" stroke="#666666" d="M899.55,-473.03C935.21,-479.17 980.69,-487 1022.32,-494.17"/>
<polygon fill="#666666" stroke="#666666" points="1021.8,-497.63 1032.25,-495.88 1022.99,-490.73 1021.8,-497.63"/>
</g>
<!-- mysql_stats_histograms -->
<g id="node47" class="node">
<title>mysql_stats_histograms</title>
<polygon fill="none" stroke="black" points="987.5,-422.5 987.5,-475.5 1289.5,-475.5 1289.5,-422.5 987.5,-422.5"/>
<text text-anchor="start" x="995.5" y="-460.3" font-family="Times,serif" font-size="14.00">insert into mysql.stats_histograms </text>
<text text-anchor="start" x="995.5" y="-445.3" font-family="Times,serif" font-size="14.00"> (table_id, is_index, hist_id, distinct_count, version)</text>
<text text-anchor="start" x="995.5" y="-430.3" font-family="Times,serif" font-size="14.00"> values(%d, 1, %d, 0, %d)</text>
</g>
<!-- insertTableStats2KV&#45;&gt;mysql_stats_histograms -->
<g id="edge57" class="edge">
<title>insertTableStats2KV&#45;&gt;mysql_stats_histograms</title>
<path fill="none" stroke="#666666" d="M899.55,-459.24C922.6,-458.25 949.76,-457.08 977.32,-455.9"/>
<polygon fill="#666666" stroke="#666666" points="977.65,-459.38 987.49,-455.46 977.35,-452.39 977.65,-459.38"/>
</g>
<!-- insertColStats2KV&#45;&gt;mysql_stats_meta -->
<g id="edge58" class="edge">
<title>insertColStats2KV&#45;&gt;mysql_stats_meta</title>
<path fill="none" stroke="#666666" d="M894.09,-515.61C930.45,-515.37 978.43,-515.05 1022.17,-514.76"/>
<polygon fill="#666666" stroke="#666666" points="1022.33,-518.26 1032.31,-514.7 1022.29,-511.26 1022.33,-518.26"/>
</g>
<!-- insertColStats2KV&#45;&gt;mysql_stats_histograms -->
<g id="edge59" class="edge">
<title>insertColStats2KV&#45;&gt;mysql_stats_histograms</title>
<path fill="none" stroke="#666666" d="M894.03,-502.72C918.43,-497.2 947.08,-490.76 973,-485 983.71,-482.62 994.81,-480.17 1005.95,-477.71"/>
<polygon fill="#666666" stroke="#666666" points="1006.74,-481.12 1015.76,-475.55 1005.24,-474.28 1006.74,-481.12"/>
</g>
</g>
</svg>
