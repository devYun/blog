<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: Prewriter__process_write Pages: 1 -->
<svg width="1017pt" height="332pt"
 viewBox="0.00 0.00 1017.00 332.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 328)">
<title>Prewriter__process_write</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-328 1013,-328 1013,4 -4,4"/>
<!-- PrewritePessimistic__into_prewriter -->
<g id="node1" class="node">
<title>PrewritePessimistic__into_prewriter</title>
<path fill="none" stroke="#1c2123" d="M203,-243C203,-243 12,-243 12,-243 6,-243 0,-237 0,-231 0,-231 0,-219 0,-219 0,-213 6,-207 12,-207 12,-207 203,-207 203,-207 209,-207 215,-213 215,-219 215,-219 215,-231 215,-231 215,-237 209,-243 203,-243"/>
<text text-anchor="middle" x="107.5" y="-221.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PrewritePessimistic__into_prewriter</text>
</g>
<!-- Prewriter -->
<g id="node2" class="node">
<title>Prewriter</title>
<path fill="none" stroke="#1c2123" d="M306,-216C306,-216 263,-216 263,-216 257,-216 251,-210 251,-204 251,-204 251,-192 251,-192 251,-186 257,-180 263,-180 263,-180 306,-180 306,-180 312,-180 318,-186 318,-192 318,-192 318,-204 318,-204 318,-210 312,-216 306,-216"/>
<text text-anchor="middle" x="284.5" y="-194.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Prewriter</text>
</g>
<!-- PrewritePessimistic__into_prewriter&#45;&gt;Prewriter -->
<g id="edge1" class="edge">
<title>PrewritePessimistic__into_prewriter&#45;&gt;Prewriter</title>
<path fill="none" stroke="#666666" d="M215.09,-208.55C224.02,-207.18 232.67,-205.84 240.65,-204.61"/>
<polygon fill="#666666" stroke="#666666" points="241.36,-208.04 250.71,-203.06 240.3,-201.12 241.36,-208.04"/>
</g>
<!-- Prewriter__process_write -->
<g id="node4" class="node">
<title>Prewriter__process_write</title>
<path fill="none" stroke="#1c2123" d="M497,-216C497,-216 366,-216 366,-216 360,-216 354,-210 354,-204 354,-204 354,-192 354,-192 354,-186 360,-180 366,-180 366,-180 497,-180 497,-180 503,-180 509,-186 509,-192 509,-192 509,-204 509,-204 509,-210 503,-216 497,-216"/>
<text text-anchor="middle" x="431.5" y="-194.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Prewriter__process_write</text>
</g>
<!-- Prewriter&#45;&gt;Prewriter__process_write -->
<g id="edge3" class="edge">
<title>Prewriter&#45;&gt;Prewriter__process_write</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M318.04,-198C325.95,-198 334.78,-198 343.93,-198"/>
<polygon fill="green" stroke="green" points="343.94,-201.5 353.94,-198 343.94,-194.5 343.94,-201.5"/>
</g>
<!-- Prewrite__into_prewriter -->
<g id="node3" class="node">
<title>Prewrite__into_prewriter</title>
<path fill="none" stroke="#1c2123" d="M172,-189C172,-189 43,-189 43,-189 37,-189 31,-183 31,-177 31,-177 31,-165 31,-165 31,-159 37,-153 43,-153 43,-153 172,-153 172,-153 178,-153 184,-159 184,-165 184,-165 184,-177 184,-177 184,-183 178,-189 172,-189"/>
<text text-anchor="middle" x="107.5" y="-167.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Prewrite__into_prewriter</text>
</g>
<!-- Prewrite__into_prewriter&#45;&gt;Prewriter -->
<g id="edge2" class="edge">
<title>Prewrite__into_prewriter&#45;&gt;Prewriter</title>
<path fill="none" stroke="#666666" d="M184.24,-182.69C203.52,-185.66 223.57,-188.75 240.56,-191.38"/>
<polygon fill="#666666" stroke="#666666" points="240.3,-194.88 250.72,-192.94 241.37,-187.96 240.3,-194.88"/>
</g>
<!-- PreWriteKind__can_skip_constraint_check -->
<g id="node5" class="node">
<title>PreWriteKind__can_skip_constraint_check</title>
<path fill="none" stroke="#1c2123" d="M785,-324C785,-324 557,-324 557,-324 551,-324 545,-318 545,-312 545,-312 545,-300 545,-300 545,-294 551,-288 557,-288 557,-288 785,-288 785,-288 791,-288 797,-294 797,-300 797,-300 797,-312 797,-312 797,-318 791,-324 785,-324"/>
<text text-anchor="middle" x="671" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PreWriteKind__can_skip_constraint_check</text>
</g>
<!-- Prewriter__process_write&#45;&gt;PreWriteKind__can_skip_constraint_check -->
<g id="edge4" class="edge">
<title>Prewriter__process_write&#45;&gt;PreWriteKind__can_skip_constraint_check</title>
<path fill="none" stroke="#666666" d="M452.46,-216.34C473.79,-234.93 509.37,-263.16 545,-279 549.64,-281.06 554.44,-282.97 559.35,-284.74"/>
<polygon fill="#666666" stroke="#666666" points="558.29,-288.07 568.89,-287.96 560.53,-281.44 558.29,-288.07"/>
</g>
<!-- Prewriter__check_max_ts_synced -->
<g id="node6" class="node">
<title>Prewriter__check_max_ts_synced</title>
<path fill="none" stroke="#1c2123" d="M760.5,-270C760.5,-270 581.5,-270 581.5,-270 575.5,-270 569.5,-264 569.5,-258 569.5,-258 569.5,-246 569.5,-246 569.5,-240 575.5,-234 581.5,-234 581.5,-234 760.5,-234 760.5,-234 766.5,-234 772.5,-240 772.5,-246 772.5,-246 772.5,-258 772.5,-258 772.5,-264 766.5,-270 760.5,-270"/>
<text text-anchor="middle" x="671" y="-248.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Prewriter__check_max_ts_synced</text>
</g>
<!-- Prewriter__process_write&#45;&gt;Prewriter__check_max_ts_synced -->
<g id="edge5" class="edge">
<title>Prewriter__process_write&#45;&gt;Prewriter__check_max_ts_synced</title>
<path fill="none" stroke="#666666" d="M506.57,-216.03C519.38,-219.08 532.56,-222.17 545,-225 554.84,-227.24 565.13,-229.54 575.4,-231.81"/>
<polygon fill="#666666" stroke="#666666" points="574.7,-235.24 585.22,-233.96 576.2,-228.4 574.7,-235.24"/>
</g>
<!-- SnapshotReader__new -->
<g id="node7" class="node">
<title>SnapshotReader__new</title>
<path fill="none" stroke="#1c2123" d="M729,-216C729,-216 613,-216 613,-216 607,-216 601,-210 601,-204 601,-204 601,-192 601,-192 601,-186 607,-180 613,-180 613,-180 729,-180 729,-180 735,-180 741,-186 741,-192 741,-192 741,-204 741,-204 741,-210 735,-216 729,-216"/>
<text text-anchor="middle" x="671" y="-194.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader__new</text>
</g>
<!-- Prewriter__process_write&#45;&gt;SnapshotReader__new -->
<g id="edge6" class="edge">
<title>Prewriter__process_write&#45;&gt;SnapshotReader__new</title>
<path fill="none" stroke="#666666" d="M509.28,-198C535.24,-198 564.28,-198 590.45,-198"/>
<polygon fill="#666666" stroke="#666666" points="590.71,-201.5 600.71,-198 590.71,-194.5 590.71,-201.5"/>
</g>
<!-- Prewriter__prewrite -->
<g id="node8" class="node">
<title>Prewriter__prewrite</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M620,-55C620,-55 722,-55 722,-55 728,-55 734,-61 734,-67 734,-67 734,-149 734,-149 734,-155 728,-161 722,-161 722,-161 620,-161 620,-161 614,-161 608,-155 608,-149 608,-149 608,-67 608,-67 608,-61 614,-55 620,-55"/>
<text text-anchor="start" x="616" y="-145.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Prewriter</text>
<text text-anchor="start" x="616" y="-130.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> prewrite</text>
<polyline fill="none" stroke="#8a8898" points="608,-123 734,-123 "/>
<text text-anchor="start" x="616" y="-107.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">遍历prewriter </text>
<text text-anchor="start" x="616" y="-92.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> mutations</text>
<text text-anchor="start" x="616" y="-77.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 对于每个mutation</text>
<text text-anchor="middle" x="671" y="-62.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 调用prewrite</text>
</g>
<!-- Prewriter__process_write&#45;&gt;Prewriter__prewrite -->
<g id="edge7" class="edge">
<title>Prewriter__process_write&#45;&gt;Prewriter__prewrite</title>
<path fill="none" stroke="#666666" d="M480.28,-179.9C514.12,-167.07 560.1,-149.64 598.33,-135.16"/>
<polygon fill="#666666" stroke="#666666" points="599.75,-138.36 607.87,-131.55 597.27,-131.82 599.75,-138.36"/>
</g>
<!-- Prewriter__write_result -->
<g id="node9" class="node">
<title>Prewriter__write_result</title>
<path fill="none" stroke="#1c2123" d="M731.5,-36C731.5,-36 610.5,-36 610.5,-36 604.5,-36 598.5,-30 598.5,-24 598.5,-24 598.5,-12 598.5,-12 598.5,-6 604.5,0 610.5,0 610.5,0 731.5,0 731.5,0 737.5,0 743.5,-6 743.5,-12 743.5,-12 743.5,-24 743.5,-24 743.5,-30 737.5,-36 731.5,-36"/>
<text text-anchor="middle" x="671" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Prewriter__write_result</text>
</g>
<!-- Prewriter__process_write&#45;&gt;Prewriter__write_result -->
<g id="edge8" class="edge">
<title>Prewriter__process_write&#45;&gt;Prewriter__write_result</title>
<path fill="none" stroke="#666666" d="M440.47,-179.78C455.73,-147.2 492.28,-79.14 545,-45 557.99,-36.58 573.18,-30.75 588.41,-26.72"/>
<polygon fill="#666666" stroke="#666666" points="589.49,-30.05 598.39,-24.31 587.85,-23.25 589.49,-30.05"/>
</g>
<!-- SnapshotReader__load_lock -->
<g id="node13" class="node">
<title>SnapshotReader__load_lock</title>
<path fill="none" stroke="#1c2123" d="M994.5,-270C994.5,-270 847.5,-270 847.5,-270 841.5,-270 835.5,-264 835.5,-258 835.5,-258 835.5,-246 835.5,-246 835.5,-240 841.5,-234 847.5,-234 847.5,-234 994.5,-234 994.5,-234 1000.5,-234 1006.5,-240 1006.5,-246 1006.5,-246 1006.5,-258 1006.5,-258 1006.5,-264 1000.5,-270 994.5,-270"/>
<text text-anchor="middle" x="921" y="-248.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader__load_lock</text>
</g>
<!-- SnapshotReader__new&#45;&gt;SnapshotReader__load_lock -->
<g id="edge12" class="edge">
<title>SnapshotReader__new&#45;&gt;SnapshotReader__load_lock</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M741.11,-212.88C759.29,-216.81 778.89,-221.06 797,-225 807.04,-227.19 817.53,-229.48 827.98,-231.77"/>
<polygon fill="green" stroke="green" points="827.45,-235.23 837.97,-233.95 828.95,-228.39 827.45,-235.23"/>
</g>
<!-- SnapshotReader__seek_write -->
<g id="node14" class="node">
<title>SnapshotReader__seek_write</title>
<path fill="none" stroke="#1c2123" d="M997,-216C997,-216 845,-216 845,-216 839,-216 833,-210 833,-204 833,-204 833,-192 833,-192 833,-186 839,-180 845,-180 845,-180 997,-180 997,-180 1003,-180 1009,-186 1009,-192 1009,-192 1009,-204 1009,-204 1009,-210 1003,-216 997,-216"/>
<text text-anchor="middle" x="921" y="-194.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader__seek_write</text>
</g>
<!-- SnapshotReader__new&#45;&gt;SnapshotReader__seek_write -->
<g id="edge13" class="edge">
<title>SnapshotReader__new&#45;&gt;SnapshotReader__seek_write</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M741.08,-198C766.25,-198 795.19,-198 822.36,-198"/>
<polygon fill="green" stroke="green" points="822.68,-201.5 832.68,-198 822.68,-194.5 822.68,-201.5"/>
</g>
<!-- prewrite -->
<g id="node10" class="node">
<title>prewrite</title>
<path fill="none" stroke="#1c2123" d="M940,-162C940,-162 902,-162 902,-162 896,-162 890,-156 890,-150 890,-150 890,-138 890,-138 890,-132 896,-126 902,-126 902,-126 940,-126 940,-126 946,-126 952,-132 952,-138 952,-138 952,-150 952,-150 952,-156 946,-162 940,-162"/>
<text text-anchor="middle" x="921" y="-140.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">prewrite</text>
</g>
<!-- Prewriter__prewrite&#45;&gt;prewrite -->
<g id="edge9" class="edge">
<title>Prewriter__prewrite&#45;&gt;prewrite</title>
<path fill="none" stroke="#666666" d="M734.26,-117.04C779.83,-123.65 840.34,-132.44 879.72,-138.15"/>
<polygon fill="#666666" stroke="#666666" points="879.34,-141.63 889.74,-139.61 880.35,-134.71 879.34,-141.63"/>
</g>
<!-- TransactionProperties -->
<g id="node11" class="node">
<title>TransactionProperties</title>
<path fill="none" stroke="#1c2123" d="M976.5,-108C976.5,-108 865.5,-108 865.5,-108 859.5,-108 853.5,-102 853.5,-96 853.5,-96 853.5,-84 853.5,-84 853.5,-78 859.5,-72 865.5,-72 865.5,-72 976.5,-72 976.5,-72 982.5,-72 988.5,-78 988.5,-84 988.5,-84 988.5,-96 988.5,-96 988.5,-102 982.5,-108 976.5,-108"/>
<text text-anchor="middle" x="921" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TransactionProperties</text>
</g>
<!-- Prewriter__prewrite&#45;&gt;TransactionProperties -->
<g id="edge10" class="edge">
<title>Prewriter__prewrite&#45;&gt;TransactionProperties</title>
<path fill="none" stroke="#666666" d="M734.26,-103.48C767.3,-101.08 808.19,-98.12 843.19,-95.58"/>
<polygon fill="#666666" stroke="#666666" points="843.65,-99.05 853.37,-94.84 843.14,-92.07 843.65,-99.05"/>
</g>
<!-- Prewriter__mutations -->
<g id="node12" class="node">
<title>Prewriter__mutations</title>
<path fill="none" stroke="#1c2123" d="M976,-54C976,-54 866,-54 866,-54 860,-54 854,-48 854,-42 854,-42 854,-30 854,-30 854,-24 860,-18 866,-18 866,-18 976,-18 976,-18 982,-18 988,-24 988,-30 988,-30 988,-42 988,-42 988,-48 982,-54 976,-54"/>
<text text-anchor="middle" x="921" y="-32.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Prewriter__mutations</text>
</g>
<!-- Prewriter__prewrite&#45;&gt;Prewriter__mutations -->
<g id="edge11" class="edge">
<title>Prewriter__prewrite&#45;&gt;Prewriter__mutations</title>
<path fill="none" stroke="#666666" d="M734.26,-89.92C768.75,-79.91 811.8,-67.41 847.77,-56.97"/>
<polygon fill="#666666" stroke="#666666" points="849.09,-60.23 857.71,-54.08 847.13,-53.51 849.09,-60.23"/>
</g>
</g>
</svg>
