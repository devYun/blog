<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: next_batch Pages: 1 -->
<svg width="1327pt" height="297pt"
 viewBox="0.00 0.00 1327.00 296.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 292.5)">
<title>next_batch</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-292.5 1323,-292.5 1323,4 -4,4"/>
<g id="clust5" class="cluster">
<title>cluster_RpnExpressionNode</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1134.5,-43C1134.5,-43 1289.5,-43 1289.5,-43 1295.5,-43 1301.5,-49 1301.5,-55 1301.5,-55 1301.5,-221 1301.5,-221 1301.5,-227 1295.5,-233 1289.5,-233 1289.5,-233 1134.5,-233 1134.5,-233 1128.5,-233 1122.5,-227 1122.5,-221 1122.5,-221 1122.5,-55 1122.5,-55 1122.5,-49 1128.5,-43 1134.5,-43"/>
<text text-anchor="middle" x="1212" y="-213" font-family="Times,serif" font-size="20.00">RpnExpressionNode</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_RpnExpression</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M701.5,-83C701.5,-83 1029.5,-83 1029.5,-83 1035.5,-83 1041.5,-89 1041.5,-95 1041.5,-95 1041.5,-207 1041.5,-207 1041.5,-213 1035.5,-219 1029.5,-219 1029.5,-219 701.5,-219 701.5,-219 695.5,-219 689.5,-213 689.5,-207 689.5,-207 689.5,-95 689.5,-95 689.5,-89 695.5,-83 701.5,-83"/>
<text text-anchor="middle" x="865.5" y="-199" font-family="Times,serif" font-size="20.00">RpnExpression</text>
</g>
<!-- next_batch -->
<g id="node1" class="node">
<title>next_batch</title>
<path fill="none" stroke="#1c2123" d="M64,-105C64,-105 12,-105 12,-105 6,-105 0,-99 0,-93 0,-93 0,-81 0,-81 0,-75 6,-69 12,-69 12,-69 64,-69 64,-69 70,-69 76,-75 76,-81 76,-81 76,-93 76,-93 76,-99 70,-105 64,-105"/>
<text text-anchor="middle" x="38" y="-83.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">next_batch</text>
</g>
<!-- BatchExecutor_next_batch -->
<g id="node2" class="node">
<title>BatchExecutor_next_batch</title>
<path fill="none" stroke="#1c2123" d="M263,-82C263,-82 124,-82 124,-82 118,-82 112,-76 112,-70 112,-70 112,-58 112,-58 112,-52 118,-46 124,-46 124,-46 263,-46 263,-46 269,-46 275,-52 275,-58 275,-58 275,-70 275,-70 275,-76 269,-82 263,-82"/>
<text text-anchor="middle" x="193.5" y="-60.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchExecutor_next_batch</text>
</g>
<!-- next_batch&#45;&gt;BatchExecutor_next_batch -->
<g id="edge1" class="edge">
<title>next_batch&#45;&gt;BatchExecutor_next_batch</title>
<path fill="none" stroke="#666666" d="M76.16,-81.43C84.17,-80.23 92.98,-78.91 102.05,-77.55"/>
<polygon fill="#666666" stroke="#666666" points="102.6,-81.01 111.97,-76.07 101.57,-74.09 102.6,-81.01"/>
</g>
<!-- handle_src_result -->
<g id="node3" class="node">
<title>handle_src_result</title>
<path fill="none" stroke="#1c2123" d="M485,-56.5C485,-56.5 595,-56.5 595,-56.5 601,-56.5 607,-62.5 607,-68.5 607,-68.5 607,-105.5 607,-105.5 607,-111.5 601,-117.5 595,-117.5 595,-117.5 485,-117.5 485,-117.5 479,-117.5 473,-111.5 473,-105.5 473,-105.5 473,-68.5 473,-68.5 473,-62.5 479,-56.5 485,-56.5"/>
<text text-anchor="middle" x="540" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_src_result</text>
<polyline fill="none" stroke="#1c2123" points="473,-94.5 607,-94.5 "/>
<text text-anchor="start" x="481" y="-79.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">遍历conditions,调用</text>
<text text-anchor="start" x="481" y="-64.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 每个conditions.eval</text>
</g>
<!-- next_batch&#45;&gt;handle_src_result -->
<g id="edge2" class="edge">
<title>next_batch&#45;&gt;handle_src_result</title>
<path fill="none" stroke="#666666" d="M76.12,-89.43C87.62,-90.07 100.33,-90.68 112,-91 256.39,-94.95 292.58,-93.83 437,-91 445.34,-90.84 454.06,-90.6 462.75,-90.32"/>
<polygon fill="#666666" stroke="#666666" points="463.02,-93.81 472.89,-89.97 462.78,-86.81 463.02,-93.81"/>
</g>
<!-- BatchExecuteResult -->
<g id="node9" class="node">
<title>BatchExecuteResult</title>
<path fill="none" stroke="#1c2123" d="M425,-82C425,-82 323,-82 323,-82 317,-82 311,-76 311,-70 311,-70 311,-58 311,-58 311,-52 317,-46 323,-46 323,-46 425,-46 425,-46 431,-46 437,-52 437,-58 437,-58 437,-70 437,-70 437,-76 431,-82 425,-82"/>
<text text-anchor="middle" x="374" y="-60.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchExecuteResult</text>
</g>
<!-- BatchExecutor_next_batch&#45;&gt;BatchExecuteResult -->
<g id="edge10" class="edge">
<title>BatchExecutor_next_batch&#45;&gt;BatchExecuteResult</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M275.13,-64C283.67,-64 292.32,-64 300.75,-64"/>
<polygon fill="green" stroke="green" points="300.91,-67.5 310.91,-64 300.91,-60.5 300.91,-67.5"/>
</g>
<!-- update_logical_rows_by_vector_value -->
<g id="node4" class="node">
<title>update_logical_rows_by_vector_value</title>
<path fill="none" stroke="#1c2123" d="M1056,-263C1056,-263 854,-263 854,-263 848,-263 842,-257 842,-251 842,-251 842,-239 842,-239 842,-233 848,-227 854,-227 854,-227 1056,-227 1056,-227 1062,-227 1068,-233 1068,-239 1068,-239 1068,-251 1068,-251 1068,-257 1062,-263 1056,-263"/>
<text text-anchor="middle" x="955" y="-241.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">update_logical_rows_by_vector_value</text>
</g>
<!-- handle_src_result&#45;&gt;update_logical_rows_by_vector_value -->
<g id="edge6" class="edge">
<title>handle_src_result&#45;&gt;update_logical_rows_by_vector_value</title>
<path fill="none" stroke="#666666" d="M554.29,-117.5C570.23,-149.94 600.24,-199.7 643,-223 699.84,-253.97 771.43,-260.81 831.6,-259.3"/>
<polygon fill="#666666" stroke="#666666" points="832.04,-262.79 841.92,-258.96 831.81,-255.79 832.04,-262.79"/>
</g>
<!-- eval -->
<g id="node6" class="node">
<title>eval</title>
<path fill="none" stroke="#1c2123" d="M739.5,-128C739.5,-128 709.5,-128 709.5,-128 703.5,-128 697.5,-122 697.5,-116 697.5,-116 697.5,-104 697.5,-104 697.5,-98 703.5,-92 709.5,-92 709.5,-92 739.5,-92 739.5,-92 745.5,-92 751.5,-98 751.5,-104 751.5,-104 751.5,-116 751.5,-116 751.5,-122 745.5,-128 739.5,-128"/>
<text text-anchor="middle" x="724.5" y="-106.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">eval</text>
</g>
<!-- handle_src_result&#45;&gt;eval -->
<g id="edge7" class="edge">
<title>handle_src_result&#45;&gt;eval</title>
<path fill="none" stroke="#666666" d="M607.14,-95.34C634.21,-98.75 664.48,-102.56 687.36,-105.44"/>
<polygon fill="#666666" stroke="#666666" points="686.95,-108.92 697.31,-106.7 687.83,-101.98 686.95,-108.92"/>
</g>
<!-- update_logical_rows_by_scalar_value -->
<g id="node7" class="node">
<title>update_logical_rows_by_scalar_value</title>
<path fill="none" stroke="#1c2123" d="M855,-11.5C855,-11.5 1055,-11.5 1055,-11.5 1061,-11.5 1067,-17.5 1067,-23.5 1067,-23.5 1067,-60.5 1067,-60.5 1067,-66.5 1061,-72.5 1055,-72.5 1055,-72.5 855,-72.5 855,-72.5 849,-72.5 843,-66.5 843,-60.5 843,-60.5 843,-23.5 843,-23.5 843,-17.5 849,-11.5 855,-11.5"/>
<text text-anchor="middle" x="955" y="-57.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">update_logical_rows_by_scalar_value</text>
<polyline fill="none" stroke="#1c2123" points="843,-49.5 1067,-49.5 "/>
<text text-anchor="start" x="851" y="-34.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果eval result为false</text>
<text text-anchor="start" x="851" y="-19.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 清空result</text>
</g>
<!-- handle_src_result&#45;&gt;update_logical_rows_by_scalar_value -->
<g id="edge8" class="edge">
<title>handle_src_result&#45;&gt;update_logical_rows_by_scalar_value</title>
<path fill="none" stroke="#666666" d="M607.36,-79.77C667.9,-73.17 758.87,-63.26 832.43,-55.25"/>
<polygon fill="#666666" stroke="#666666" points="833.12,-58.69 842.69,-54.13 832.37,-51.73 833.12,-58.69"/>
</g>
<!-- match_template_evaluable -->
<g id="node8" class="node">
<title>match_template_evaluable</title>
<path fill="none" stroke="#1c2123" d="M794,-36C794,-36 655,-36 655,-36 649,-36 643,-30 643,-24 643,-24 643,-12 643,-12 643,-6 649,0 655,0 655,0 794,0 794,0 800,0 806,-6 806,-12 806,-12 806,-24 806,-24 806,-30 800,-36 794,-36"/>
<text text-anchor="middle" x="724.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">match_template_evaluable</text>
</g>
<!-- handle_src_result&#45;&gt;match_template_evaluable -->
<g id="edge9" class="edge">
<title>handle_src_result&#45;&gt;match_template_evaluable</title>
<path fill="none" stroke="#666666" d="M607.14,-61.99C626.52,-54.67 647.52,-46.73 666.29,-39.63"/>
<polygon fill="#666666" stroke="#666666" points="667.76,-42.82 675.88,-36 665.29,-36.27 667.76,-42.82"/>
</g>
<!-- logical_rows_retain -->
<g id="node5" class="node">
<title>logical_rows_retain</title>
<path fill="none" stroke="#1c2123" d="M1116,-242C1116,-242 1307,-242 1307,-242 1313,-242 1319,-248 1319,-254 1319,-254 1319,-276 1319,-276 1319,-282 1313,-288 1307,-288 1307,-288 1116,-288 1116,-288 1110,-288 1104,-282 1104,-276 1104,-276 1104,-254 1104,-254 1104,-248 1110,-242 1116,-242"/>
<text text-anchor="middle" x="1211.5" y="-272.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">logical_rows.retain</text>
<polyline fill="none" stroke="#1c2123" points="1104,-265 1319,-265 "/>
<text text-anchor="middle" x="1211.5" y="-249.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">只保留condition计算为true的rows</text>
</g>
<!-- update_logical_rows_by_vector_value&#45;&gt;logical_rows_retain -->
<g id="edge3" class="edge">
<title>update_logical_rows_by_vector_value&#45;&gt;logical_rows_retain</title>
<path fill="none" stroke="#666666" d="M1068.37,-253.83C1076.7,-254.49 1085.12,-255.15 1093.47,-255.8"/>
<polygon fill="#666666" stroke="#666666" points="1093.39,-259.31 1103.63,-256.6 1093.93,-252.33 1093.39,-259.31"/>
</g>
<!-- eval&#45;&gt;update_logical_rows_by_vector_value -->
<g id="edge4" class="edge">
<title>eval&#45;&gt;update_logical_rows_by_vector_value</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M738.65,-128.17C757.05,-152.24 792.94,-194.48 841.27,-222.08"/>
<polygon fill="green" stroke="green" points="839.65,-225.18 850.11,-226.88 843,-219.03 839.65,-225.18"/>
</g>
<!-- eval&#45;&gt;update_logical_rows_by_scalar_value -->
<g id="edge5" class="edge">
<title>eval&#45;&gt;update_logical_rows_by_scalar_value</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M751.71,-102.2C774.06,-95.55 807.82,-85.5 841.39,-75.51"/>
<polygon fill="green" stroke="green" points="842.73,-78.76 851.32,-72.56 840.74,-72.05 842.73,-78.76"/>
</g>
<!-- ensure_columns_decoded -->
<g id="node13" class="node">
<title>ensure_columns_decoded</title>
<path fill="none" stroke="#1c2123" d="M1021.5,-127C1021.5,-127 888.5,-127 888.5,-127 882.5,-127 876.5,-121 876.5,-115 876.5,-115 876.5,-103 876.5,-103 876.5,-97 882.5,-91 888.5,-91 888.5,-91 1021.5,-91 1021.5,-91 1027.5,-91 1033.5,-97 1033.5,-103 1033.5,-103 1033.5,-115 1033.5,-115 1033.5,-121 1027.5,-127 1021.5,-127"/>
<text text-anchor="middle" x="955" y="-105.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ensure_columns_decoded</text>
</g>
<!-- eval&#45;&gt;ensure_columns_decoded -->
<g id="edge12" class="edge">
<title>eval&#45;&gt;ensure_columns_decoded</title>
<path fill="none" stroke="#666666" d="M751.71,-109.89C779.65,-109.76 825.42,-109.56 866.36,-109.38"/>
<polygon fill="#666666" stroke="#666666" points="866.39,-112.88 876.37,-109.34 866.36,-105.88 866.39,-112.88"/>
</g>
<!-- eval_decoded -->
<g id="node14" class="node">
<title>eval_decoded</title>
<path fill="none" stroke="#1c2123" d="M988.5,-181C988.5,-181 921.5,-181 921.5,-181 915.5,-181 909.5,-175 909.5,-169 909.5,-169 909.5,-157 909.5,-157 909.5,-151 915.5,-145 921.5,-145 921.5,-145 988.5,-145 988.5,-145 994.5,-145 1000.5,-151 1000.5,-157 1000.5,-157 1000.5,-169 1000.5,-169 1000.5,-175 994.5,-181 988.5,-181"/>
<text text-anchor="middle" x="955" y="-159.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">eval_decoded</text>
</g>
<!-- eval&#45;&gt;eval_decoded -->
<g id="edge13" class="edge">
<title>eval&#45;&gt;eval_decoded</title>
<path fill="none" stroke="#666666" d="M751.71,-116.08C787.53,-124.39 852.65,-139.49 899.34,-150.32"/>
<polygon fill="#666666" stroke="#666666" points="898.77,-153.78 909.3,-152.63 900.35,-146.96 898.77,-153.78"/>
</g>
<!-- BatchExecuteResult&#45;&gt;handle_src_result -->
<g id="edge11" class="edge">
<title>BatchExecuteResult&#45;&gt;handle_src_result</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M437,-72.7C445.41,-73.87 454.12,-75.1 462.74,-76.31"/>
<polygon fill="green" stroke="green" points="462.42,-79.79 472.81,-77.72 463.39,-72.86 462.42,-79.79"/>
</g>
<!-- Constant -->
<g id="node10" class="node">
<title>Constant</title>
<path fill="none" stroke="#1c2123" d="M1232,-195C1232,-195 1191,-195 1191,-195 1185,-195 1179,-189 1179,-183 1179,-183 1179,-171 1179,-171 1179,-165 1185,-159 1191,-159 1191,-159 1232,-159 1232,-159 1238,-159 1244,-165 1244,-171 1244,-171 1244,-183 1244,-183 1244,-189 1238,-195 1232,-195"/>
<text text-anchor="middle" x="1211.5" y="-173.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Constant</text>
</g>
<!-- FnCall -->
<g id="node11" class="node">
<title>FnCall</title>
<path fill="none" stroke="#1c2123" d="M1226.5,-141C1226.5,-141 1196.5,-141 1196.5,-141 1190.5,-141 1184.5,-135 1184.5,-129 1184.5,-129 1184.5,-117 1184.5,-117 1184.5,-111 1190.5,-105 1196.5,-105 1196.5,-105 1226.5,-105 1226.5,-105 1232.5,-105 1238.5,-111 1238.5,-117 1238.5,-117 1238.5,-129 1238.5,-129 1238.5,-135 1232.5,-141 1226.5,-141"/>
<text text-anchor="middle" x="1211.5" y="-119.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">FnCall</text>
</g>
<!-- ColumnRef -->
<g id="node12" class="node">
<title>ColumnRef</title>
<path fill="none" stroke="#1c2123" d="M1239.5,-87C1239.5,-87 1183.5,-87 1183.5,-87 1177.5,-87 1171.5,-81 1171.5,-75 1171.5,-75 1171.5,-63 1171.5,-63 1171.5,-57 1177.5,-51 1183.5,-51 1183.5,-51 1239.5,-51 1239.5,-51 1245.5,-51 1251.5,-57 1251.5,-63 1251.5,-63 1251.5,-75 1251.5,-75 1251.5,-81 1245.5,-87 1239.5,-87"/>
<text text-anchor="middle" x="1211.5" y="-65.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ColumnRef</text>
</g>
<!-- eval_decoded&#45;&gt;Constant -->
<g id="edge14" class="edge">
<title>eval_decoded&#45;&gt;Constant</title>
<path fill="none" stroke="#666666" d="M1000.62,-165.45C1048.07,-168.06 1122.52,-172.16 1168.81,-174.71"/>
<polygon fill="#666666" stroke="#666666" points="1168.63,-178.2 1178.81,-175.26 1169.02,-171.21 1168.63,-178.2"/>
</g>
<!-- eval_decoded&#45;&gt;FnCall -->
<g id="edge15" class="edge">
<title>eval_decoded&#45;&gt;FnCall</title>
<path fill="none" stroke="#666666" d="M1000.62,-155.99C1049.95,-148.23 1128.47,-135.89 1174.19,-128.71"/>
<polygon fill="#666666" stroke="#666666" points="1174.91,-132.14 1184.25,-127.13 1173.83,-125.22 1174.91,-132.14"/>
</g>
<!-- eval_decoded&#45;&gt;ColumnRef -->
<g id="edge16" class="edge">
<title>eval_decoded&#45;&gt;ColumnRef</title>
<path fill="none" stroke="#666666" d="M1000.6,-158.5C1022.13,-154.82 1047.64,-148.13 1068,-136 1088.55,-123.76 1083.52,-108.36 1104,-96 1121.3,-85.55 1142.53,-79.13 1161.46,-75.19"/>
<polygon fill="#666666" stroke="#666666" points="1162.24,-78.6 1171.41,-73.29 1160.94,-71.73 1162.24,-78.6"/>
</g>
</g>
</svg>
