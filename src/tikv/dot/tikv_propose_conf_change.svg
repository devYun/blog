<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: propose_conf_change Pages: 1 -->
<svg width="1201pt" height="252pt"
 viewBox="0.00 0.00 1201.00 252.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 248)">
<title>propose_conf_change</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-248 1197,-248 1197,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Raft</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M902,-8C902,-8 1029,-8 1029,-8 1035,-8 1041,-14 1041,-20 1041,-20 1041,-80 1041,-80 1041,-86 1035,-92 1029,-92 1029,-92 902,-92 902,-92 896,-92 890,-86 890,-80 890,-80 890,-20 890,-20 890,-14 896,-8 902,-8"/>
<text text-anchor="middle" x="965.5" y="-72" font-family="Times,serif" font-size="20.00">raft&#45;rs</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-100C20,-100 1173,-100 1173,-100 1179,-100 1185,-106 1185,-112 1185,-112 1185,-224 1185,-224 1185,-230 1179,-236 1173,-236 1173,-236 20,-236 20,-236 14,-236 8,-230 8,-224 8,-224 8,-112 8,-112 8,-106 14,-100 20,-100"/>
<text text-anchor="middle" x="596.5" y="-216" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<!-- raft_propose_conf_change -->
<g id="node1" class="node">
<title>raft_propose_conf_change</title>
<path fill="none" stroke="#1c2123" d="M910,-17C910,-17 1021,-17 1021,-17 1027,-17 1033,-23 1033,-29 1033,-29 1033,-41 1033,-41 1033,-47 1027,-53 1021,-53 1021,-53 910,-53 910,-53 904,-53 898,-47 898,-41 898,-41 898,-29 898,-29 898,-23 904,-17 910,-17"/>
<text text-anchor="middle" x="965.5" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_conf_change</text>
</g>
<!-- propose -->
<g id="node2" class="node">
<title>propose</title>
<path fill="none" stroke="#1c2123" d="M63,-174C63,-174 28,-174 28,-174 22,-174 16,-168 16,-162 16,-162 16,-150 16,-150 16,-144 22,-138 28,-138 28,-138 63,-138 63,-138 69,-138 75,-144 75,-150 75,-150 75,-162 75,-162 75,-168 69,-174 63,-174"/>
<text text-anchor="middle" x="45.5" y="-152.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose</text>
</g>
<!-- inspect -->
<g id="node3" class="node">
<title>inspect</title>
<path fill="none" stroke="#1c2123" d="M154,-155C154,-155 123,-155 123,-155 117,-155 111,-149 111,-143 111,-143 111,-131 111,-131 111,-125 117,-119 123,-119 123,-119 154,-119 154,-119 160,-119 166,-125 166,-131 166,-131 166,-143 166,-143 166,-149 160,-155 154,-155"/>
<text text-anchor="middle" x="138.5" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">inspect</text>
</g>
<!-- propose&#45;&gt;inspect -->
<g id="edge1" class="edge">
<title>propose&#45;&gt;inspect</title>
<path fill="none" stroke="#666666" d="M75.29,-149.99C83.36,-148.3 92.25,-146.45 100.71,-144.68"/>
<polygon fill="#666666" stroke="#666666" points="101.68,-148.06 110.75,-142.59 100.25,-141.2 101.68,-148.06"/>
</g>
<!-- propose_conf_change -->
<g id="node4" class="node">
<title>propose_conf_change</title>
<path fill="none" stroke="#1c2123" d="M464,-109C464,-109 631,-109 631,-109 637,-109 643,-115 643,-121 643,-121 643,-173 643,-173 643,-179 637,-185 631,-185 631,-185 464,-185 464,-185 458,-185 452,-179 452,-173 452,-173 452,-121 452,-121 452,-115 458,-109 464,-109"/>
<text text-anchor="middle" x="547.5" y="-169.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_conf_change</text>
<polyline fill="none" stroke="#1c2123" points="452,-162 643,-162 "/>
<text text-anchor="start" x="460" y="-146.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">做一些检查,然后调用</text>
<text text-anchor="start" x="460" y="-131.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> propose_conf_change_internal</text>
<text text-anchor="start" x="460" y="-116.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 统一处理v1/v2的change_peer</text>
</g>
<!-- propose&#45;&gt;propose_conf_change -->
<g id="edge2" class="edge">
<title>propose&#45;&gt;propose_conf_change</title>
<path fill="none" stroke="#666666" d="M75.01,-160.24C86.2,-161.72 99.18,-163.2 111,-164 167.83,-167.82 366.46,-168.4 416,-165 424.36,-164.43 433.01,-163.65 441.68,-162.73"/>
<polygon fill="#666666" stroke="#666666" points="442.31,-166.19 451.86,-161.6 441.54,-159.23 442.31,-166.19"/>
</g>
<!-- RequestPolicy_ProposeConfChange -->
<g id="node5" class="node">
<title>RequestPolicy_ProposeConfChange</title>
<path fill="none" stroke="#1c2123" d="M214,-119C214,-119 404,-119 404,-119 410,-119 416,-125 416,-131 416,-131 416,-143 416,-143 416,-149 410,-155 404,-155 404,-155 214,-155 214,-155 208,-155 202,-149 202,-143 202,-143 202,-131 202,-131 202,-125 208,-119 214,-119"/>
<text text-anchor="middle" x="309" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RequestPolicy::ProposeConfChange</text>
</g>
<!-- inspect&#45;&gt;RequestPolicy_ProposeConfChange -->
<g id="edge3" class="edge">
<title>inspect&#45;&gt;RequestPolicy_ProposeConfChange</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M166.2,-137C173.7,-137 182.36,-137 191.63,-137"/>
<polygon fill="green" stroke="green" points="191.9,-140.5 201.9,-137 191.9,-133.5 191.9,-140.5"/>
</g>
<!-- propose_conf_change_internal -->
<g id="node6" class="node">
<title>propose_conf_change_internal</title>
<path fill="none" stroke="#1c2123" d="M850,-154C850,-154 691,-154 691,-154 685,-154 679,-148 679,-142 679,-142 679,-130 679,-130 679,-124 685,-118 691,-118 691,-118 850,-118 850,-118 856,-118 862,-124 862,-130 862,-130 862,-142 862,-142 862,-148 856,-154 850,-154"/>
<text text-anchor="middle" x="770.5" y="-132.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_conf_change_internal</text>
</g>
<!-- propose_conf_change&#45;&gt;propose_conf_change_internal -->
<g id="edge5" class="edge">
<title>propose_conf_change&#45;&gt;propose_conf_change_internal</title>
<path fill="none" stroke="#666666" d="M643.19,-142.29C651.69,-141.86 660.32,-141.43 668.88,-141.01"/>
<polygon fill="#666666" stroke="#666666" points="669.05,-144.5 678.87,-140.51 668.7,-137.51 669.05,-144.5"/>
</g>
<!-- RequestPolicy_ProposeConfChange&#45;&gt;propose_conf_change -->
<g id="edge4" class="edge">
<title>RequestPolicy_ProposeConfChange&#45;&gt;propose_conf_change</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M416.14,-141.49C424.61,-141.85 433.16,-142.21 441.62,-142.57"/>
<polygon fill="green" stroke="green" points="441.74,-146.07 451.88,-143 442.04,-139.08 441.74,-146.07"/>
</g>
<!-- propose_conf_change_internal&#45;&gt;raft_propose_conf_change -->
<g id="edge6" class="edge">
<title>propose_conf_change_internal&#45;&gt;raft_propose_conf_change</title>
<path fill="none" stroke="#666666" d="M806,-117.94C838.15,-101.12 886.22,-75.96 920.99,-57.77"/>
<polygon fill="#666666" stroke="#666666" points="922.73,-60.81 929.97,-53.07 919.49,-54.61 922.73,-60.81"/>
</g>
<!-- check_conf_change -->
<g id="node7" class="node">
<title>check_conf_change</title>
<path fill="none" stroke="#1c2123" d="M1015.5,-144C1015.5,-144 915.5,-144 915.5,-144 909.5,-144 903.5,-138 903.5,-132 903.5,-132 903.5,-120 903.5,-120 903.5,-114 909.5,-108 915.5,-108 915.5,-108 1015.5,-108 1015.5,-108 1021.5,-108 1027.5,-114 1027.5,-120 1027.5,-120 1027.5,-132 1027.5,-132 1027.5,-138 1021.5,-144 1015.5,-144"/>
<text text-anchor="middle" x="965.5" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_conf_change</text>
</g>
<!-- propose_conf_change_internal&#45;&gt;check_conf_change -->
<g id="edge7" class="edge">
<title>propose_conf_change_internal&#45;&gt;check_conf_change</title>
<path fill="none" stroke="#666666" d="M862.07,-131.31C872.57,-130.76 883.17,-130.21 893.36,-129.69"/>
<polygon fill="#666666" stroke="#666666" points="893.59,-133.18 903.4,-129.17 893.23,-126.19 893.59,-133.18"/>
</g>
<!-- next_proposal_index -->
<g id="node8" class="node">
<title>next_proposal_index</title>
<path fill="none" stroke="#1c2123" d="M1018.5,-198C1018.5,-198 912.5,-198 912.5,-198 906.5,-198 900.5,-192 900.5,-186 900.5,-186 900.5,-174 900.5,-174 900.5,-168 906.5,-162 912.5,-162 912.5,-162 1018.5,-162 1018.5,-162 1024.5,-162 1030.5,-168 1030.5,-174 1030.5,-174 1030.5,-186 1030.5,-186 1030.5,-192 1024.5,-198 1018.5,-198"/>
<text text-anchor="middle" x="965.5" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">next_proposal_index</text>
</g>
<!-- propose_conf_change_internal&#45;&gt;next_proposal_index -->
<g id="edge8" class="edge">
<title>propose_conf_change_internal&#45;&gt;next_proposal_index</title>
<path fill="none" stroke="#666666" d="M850.56,-154.02C863.75,-157.03 877.39,-160.14 890.45,-163.12"/>
<polygon fill="#666666" stroke="#666666" points="889.77,-166.55 900.3,-165.36 891.33,-159.73 889.77,-166.55"/>
</g>
<!-- should_wake_up -->
<g id="node9" class="node">
<title>should_wake_up</title>
<path fill="none" stroke="#1c2123" d="M1165,-144C1165,-144 1081,-144 1081,-144 1075,-144 1069,-138 1069,-132 1069,-132 1069,-120 1069,-120 1069,-114 1075,-108 1081,-108 1081,-108 1165,-108 1165,-108 1171,-108 1177,-114 1177,-120 1177,-120 1177,-132 1177,-132 1177,-138 1171,-144 1165,-144"/>
<text text-anchor="middle" x="1123" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">should_wake_up</text>
</g>
<!-- check_conf_change&#45;&gt;should_wake_up -->
<g id="edge9" class="edge">
<title>check_conf_change&#45;&gt;should_wake_up</title>
<path fill="none" stroke="#666666" d="M1027.51,-126C1037.72,-126 1048.34,-126 1058.61,-126"/>
<polygon fill="#666666" stroke="#666666" points="1058.73,-129.5 1068.73,-126 1058.73,-122.5 1058.73,-129.5"/>
</g>
</g>
</svg>
