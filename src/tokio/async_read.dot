digraph async_read {
  node[shape=box];
  newrank=true;
  rankdir=TD;

  AsyncRead[
  shape="record";
  label="{
    AsyncRead|
    prepare_uninitialized_buffer\l|
    poll_read\l|
    poll_read_buf\l
    }"
  ];

  subgraph cluster_net {
    graph[label="net";fontsize=20;]
    TcpStream
    UnixStream
    ReadHalf;
    ChildStdout;
    ChildStdin;
    PollEvented;
  }

  subgraph cluster_io {
    graph[label="io";fontsize=20;]
    Take;
    Chain;
    BufReader;
    BufWriter;
    BufStream;
  }

  subgraph cluster_fs {
    graph[label="fs";fontsize=20;]
    Blocking;
    File;
    Stdin;
  }

  u8_array[label="&[u8]"]
  io_cursor[label="io::Curosr"];

  {Stdin, File, Blocking} ->AsyncRead;
  {PollEvented, ChildStdin, ChildStdout, TcpStream, UnixStream, ReadHalf} -> AsyncRead;
  {Take, Chain, BufReader} -> AsyncRead;
  {io_cursor, u8_array} -> AsyncRead;
}
